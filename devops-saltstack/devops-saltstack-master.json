{"status": {"state": "ACTIVE", "message_list": [], "description": "", "resources": {"service_definition_list": [{"singleton": false, "uuid": "8ae7e951-9cc3-1094-6c60-f1c72e88249e", "action_list": [{"description": "System action for creating an application", "type": "system", "uuid": "0f93be7f-32d3-b637-4bc9-fb54c63993f3", "state": "ACTIVE", "critical": false, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_service", "name": "SaltStackMaster", "uuid": "8ae7e951-9cc3-1094-6c60-f1c72e88249e"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "06f8f901_dag", "state": "NOT_VALIDATED", "attrs": {"edges": [], "type": ""}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "d0accb8f-2191-ac56-05fe-dd90a2490afd"}], "description": "", "name": "70713126_runbook", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "06f8f901_dag", "uuid": "d0accb8f-2191-ac56-05fe-dd90a2490afd"}, "message_list": [], "variable_list": [], "uuid": "6490d56f-672e-6b5f-d178-74ba6a3245cb"}, "message_list": [], "name": "action_create"}, {"description": "System action for deleting an application. Deletes physical machines as well", "type": "system", "uuid": "c41342dc-24cb-778b-7a01-002be75bd743", "state": "ACTIVE", "critical": false, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_service", "name": "SaltStackMaster", "uuid": "8ae7e951-9cc3-1094-6c60-f1c72e88249e"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "4913f3de_dag", "state": "NOT_VALIDATED", "attrs": {"edges": [], "type": ""}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "ec05916b-ae79-25e8-88be-a3557df3679f"}], "description": "", "name": "5a9cb31e_runbook", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "4913f3de_dag", "uuid": "ec05916b-ae79-25e8-88be-a3557df3679f"}, "message_list": [], "variable_list": [], "uuid": "4d59a53c-4f33-874e-69c1-3863e3d0f5ff"}, "message_list": [], "name": "action_delete"}, {"description": "System action for starting an application", "type": "system", "uuid": "46ff383b-3b93-8bd5-ed79-4a21b16e158c", "state": "ACTIVE", "critical": false, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_service", "name": "SaltStackMaster", "uuid": "8ae7e951-9cc3-1094-6c60-f1c72e88249e"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "b0493944_dag", "state": "NOT_VALIDATED", "attrs": {"edges": [], "type": ""}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "48c84684-2424-1e7e-6060-bbd19ff575b4"}], "description": "", "name": "4ba9ebfe_runbook", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "b0493944_dag", "uuid": "48c84684-2424-1e7e-6060-bbd19ff575b4"}, "message_list": [], "variable_list": [], "uuid": "33dda5d5-26e0-a184-b65e-99c8cfcf0136"}, "message_list": [], "name": "action_start"}, {"description": "System action for stopping an application", "type": "system", "uuid": "9e4908e2-7870-a1e0-a48c-cc281efd2e53", "state": "ACTIVE", "critical": false, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_service", "name": "SaltStackMaster", "uuid": "8ae7e951-9cc3-1094-6c60-f1c72e88249e"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "7b651959_dag", "state": "NOT_VALIDATED", "attrs": {"edges": [], "type": ""}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "5dd805d0-4711-7449-016b-7849a26f6558"}], "description": "", "name": "5fd3ca2f_runbook", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "7b651959_dag", "uuid": "5dd805d0-4711-7449-016b-7849a26f6558"}, "message_list": [], "variable_list": [], "uuid": "d688e43a-c2cf-fe6c-9c74-28bc8a433b1a"}, "message_list": [], "name": "action_stop"}, {"description": "System action for restarting an application", "type": "system", "uuid": "2684ccad-6f7d-1def-3a88-80a696d1b8b2", "state": "ACTIVE", "critical": false, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_service", "name": "SaltStackMaster", "uuid": "8ae7e951-9cc3-1094-6c60-f1c72e88249e"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "f67a6149_dag", "state": "NOT_VALIDATED", "attrs": {"edges": [], "type": ""}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "8899c2c3-4806-23d0-c2fb-10faa200692f"}], "description": "", "name": "34c4aea1_runbook", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "f67a6149_dag", "uuid": "8899c2c3-4806-23d0-c2fb-10faa200692f"}, "message_list": [], "variable_list": [], "uuid": "6cfa5c9a-5fbb-b66e-e822-22d13f3fcca5"}, "message_list": [], "name": "action_restart"}, {"description": "System action for deleting an application. Does not delete physical machines", "type": "system", "uuid": "ba67861e-e423-4460-a83e-100917c18380", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_service", "name": "SaltStackMaster", "uuid": "8ae7e951-9cc3-1094-6c60-f1c72e88249e"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__Service_Element_Delete_8ae7e951_9cc3_1094_6c60_f1c72e88249e", "uuid": "74a1fbf7-7933-405f-a0d5-5e9a20e4dc3d"}], "name": "SYS_GEN__DAG_Service_8ae7e951_9cc3_1094_6c60_f1c72e88249e", "state": "ACTIVE", "attrs": {"edges": [], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "7e150a6d-abb3-4b11-b7f1-6b5a40a680ae"}, {"target_any_local_reference": {"kind": "app_service", "name": "SaltStackMaster", "uuid": "8ae7e951-9cc3-1094-6c60-f1c72e88249e"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__Service_Element_Delete_8ae7e951_9cc3_1094_6c60_f1c72e88249e", "state": "ACTIVE", "attrs": {"type": ""}, "timeout_secs": "", "type": "SOFT_DELETE_ELEMENT", "variable_list": [], "uuid": "74a1fbf7-7933-405f-a0d5-5e9a20e4dc3d"}], "description": "", "name": "SYS_GEN__Runbook_Service_8ae7e951_9cc3_1094_6c60_f1c72e88249e", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__DAG_Service_8ae7e951_9cc3_1094_6c60_f1c72e88249e", "uuid": "7e150a6d-abb3-4b11-b7f1-6b5a40a680ae"}, "message_list": [], "variable_list": [], "uuid": "3a459b09-5417-41d5-aa8d-d137d599017b"}, "message_list": [], "name": "action_soft_delete"}], "depends_on_list": [], "name": "SaltStackMaster", "state": "ACTIVE", "port_list": [], "editables": {}, "tier": "", "message_list": [], "variable_list": [], "description": ""}], "substrate_definition_list": [{"description": "", "action_list": [{"description": "System action for creating an application", "type": "system", "uuid": "24f1b553-d46b-426f-aa85-e2b955ee028b", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_substrate", "name": "SaltStackMasterSubstrate", "uuid": "024e8056-86d0-b94e-2380-00f85c7b7ae7"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__Nutanix_Provision_024e8056_86d0_b94e_2380_00f85c7b7ae7", "uuid": "32ea4dad-36ef-45a7-9d9c-2da01cb102cd"}, {"kind": "app_task", "name": "SYS_GEN__check_login_for_SaltStackMasterSubstrate_024e8056_86d0_b94e_2380_00f85c7b7ae7", "uuid": "0180fbbb-3cf9-49c1-b7ba-a0837db6ba61"}], "name": "SYS_GEN__DAG_Substrate_024e8056_86d0_b94e_2380_00f85c7b7ae7", "state": "ACTIVE", "attrs": {"edges": [{"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__Nutanix_Provision_024e8056_86d0_b94e_2380_00f85c7b7ae7", "uuid": "32ea4dad-36ef-45a7-9d9c-2da01cb102cd"}, "edge_type": "inherent", "type": "", "uuid": "778c373a-834c-4025-8595-812e2933367b", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__check_login_for_SaltStackMasterSubstrate_024e8056_86d0_b94e_2380_00f85c7b7ae7", "uuid": "0180fbbb-3cf9-49c1-b7ba-a0837db6ba61"}}], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "0a0c6bed-2ade-45f5-92d7-310dcdefc784"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "SaltStackMasterSubstrate", "uuid": "024e8056-86d0-b94e-2380-00f85c7b7ae7"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__Nutanix_Provision_024e8056_86d0_b94e_2380_00f85c7b7ae7", "state": "ACTIVE", "attrs": {"name": "DevOpsSaltStackMasterVM-@@{calm_array_index}@@", "availability_zone_reference": null, "backup_policy": null, "type": "", "cluster_reference": null, "resources": {"nic_list": [{"nic_type": "NORMAL_NIC", "ip_endpoint_list": [], "network_function_chain_reference": null, "network_function_nic_type": "INGRESS", "mac_address": "", "subnet_reference": {"kind": "subnet", "type": "", "name": "", "uuid": "5cbccfaa-9277-4d7c-9d78-36f48f8982d0"}, "type": ""}], "power_state": "ON", "guest_tools": null, "num_vcpus_per_socket": 1, "num_sockets": 2, "gpu_list": [], "memory_size_mib": 4096, "parent_reference": null, "hardware_clock_timezone": "", "guest_customization": {"cloud_init": {"meta_data": "", "type": "", "user_data": "#cloud-config\nusers:\n  - name: centos\n    ssh-authorized-keys:\n      - @@{INSTANCE_PUBLIC_KEY}@@\n    sudo: ['ALL=(ALL) NOPASSWD:ALL']"}, "type": "", "sysprep": null}, "type": "", "boot_config": {"boot_device": {"type": "", "disk_address": {"type": "", "device_index": 0, "adapter_type": "SCSI"}}, "type": "", "mac_address": ""}, "disk_list": [{"data_source_reference": {"kind": "image", "type": "", "name": "CloudInitBaseUpdated", "uuid": "0bf7741b-4363-499a-a060-5c2167865a1a"}, "type": "", "disk_size_mib": 0, "device_properties": {"type": "", "disk_address": {"type": "", "device_index": 0, "adapter_type": "SCSI"}, "device_type": "DISK"}}]}}, "timeout_secs": "", "type": "PROVISION_NUTANIX", "variable_list": [], "uuid": "32ea4dad-36ef-45a7-9d9c-2da01cb102cd"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "SaltStackMasterSubstrate", "uuid": "024e8056-86d0-b94e-2380-00f85c7b7ae7"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__check_login_for_SaltStackMasterSubstrate_024e8056_86d0_b94e_2380_00f85c7b7ae7", "state": "ACTIVE", "attrs": {"type": "CHECK_LOGIN", "timeout": "60", "address": "@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@"}, "timeout_secs": "", "type": "CHECK_LOGIN", "variable_list": [], "uuid": "0180fbbb-3cf9-49c1-b7ba-a0837db6ba61"}], "description": "", "name": "SYS_GEN__Runbook_Substrate_024e8056_86d0_b94e_2380_00f85c7b7ae7", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__DAG_Substrate_024e8056_86d0_b94e_2380_00f85c7b7ae7", "uuid": "0a0c6bed-2ade-45f5-92d7-310dcdefc784"}, "message_list": [], "variable_list": [], "uuid": "44dcc0db-e9b9-4481-8c73-cb3989f2e097"}, "message_list": [], "name": "action_create"}, {"description": "System action for powering on an application", "type": "system", "uuid": "28574949-d5a2-4e58-9455-62e03e951e5b", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_substrate", "name": "SaltStackMasterSubstrate", "uuid": "024e8056-86d0-b94e-2380-00f85c7b7ae7"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__Nutanix_Operation_PowerOn_024e8056_86d0_b94e_2380_00f85c7b7ae7", "uuid": "fd384ede-1b87-4b5d-af48-b206454a0adb"}, {"kind": "app_task", "name": "check_login_for_SaltStackMasterSubstrate_024e8056_86d0_b94e_2380_00f85c7b7ae7", "uuid": "df15eb83-cfa3-4d86-a8e4-5e9cc5c286d9"}], "name": "SYS_GEN__DAG_Substrate_024e8056_86d0_b94e_2380_00f85c7b7ae7", "state": "ACTIVE", "attrs": {"edges": [{"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__Nutanix_Operation_PowerOn_024e8056_86d0_b94e_2380_00f85c7b7ae7", "uuid": "fd384ede-1b87-4b5d-af48-b206454a0adb"}, "edge_type": "inherent", "type": "", "uuid": "6bafde64-9d2f-42d1-b651-ebc8eecef254", "to_task_reference": {"kind": "app_task", "name": "check_login_for_SaltStackMasterSubstrate_024e8056_86d0_b94e_2380_00f85c7b7ae7", "uuid": "df15eb83-cfa3-4d86-a8e4-5e9cc5c286d9"}}], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "06474b72-c5b0-46cb-8bb8-b86e0f7c9402"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "SaltStackMasterSubstrate", "uuid": "024e8056-86d0-b94e-2380-00f85c7b7ae7"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__Nutanix_Operation_PowerOn_024e8056_86d0_b94e_2380_00f85c7b7ae7", "state": "ACTIVE", "attrs": {"type": "GENERIC_OPERATION"}, "timeout_secs": "", "type": "VMOPERATION_NUTANIX", "variable_list": [], "uuid": "fd384ede-1b87-4b5d-af48-b206454a0adb"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "SaltStackMasterSubstrate", "uuid": "024e8056-86d0-b94e-2380-00f85c7b7ae7"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "check_login_for_SaltStackMasterSubstrate_024e8056_86d0_b94e_2380_00f85c7b7ae7", "state": "ACTIVE", "attrs": {"type": "CHECK_LOGIN", "timeout": "60", "address": "@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@"}, "timeout_secs": "", "type": "CHECK_LOGIN", "variable_list": [], "uuid": "df15eb83-cfa3-4d86-a8e4-5e9cc5c286d9"}], "description": "", "name": "SYS_GEN__Runbook_Substrate_024e8056_86d0_b94e_2380_00f85c7b7ae7", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__DAG_Substrate_024e8056_86d0_b94e_2380_00f85c7b7ae7", "uuid": "06474b72-c5b0-46cb-8bb8-b86e0f7c9402"}, "message_list": [], "variable_list": [], "uuid": "966d1324-f5bd-47d2-bc58-74b921787b66"}, "message_list": [], "name": "action_poweron"}, {"description": "System action for suspending an application", "type": "system", "uuid": "35c78afa-92bd-4f40-a1d4-20c60bacdb77", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_substrate", "name": "SaltStackMasterSubstrate", "uuid": "024e8056-86d0-b94e-2380-00f85c7b7ae7"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__DAG_Substrate_024e8056_86d0_b94e_2380_00f85c7b7ae7", "state": "ACTIVE", "attrs": {"edges": [], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "bf22e4de-f36b-4a25-9253-1acc5bdec089"}], "description": "", "name": "SYS_GEN__Runbook_Substrate_024e8056_86d0_b94e_2380_00f85c7b7ae7", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__DAG_Substrate_024e8056_86d0_b94e_2380_00f85c7b7ae7", "uuid": "bf22e4de-f36b-4a25-9253-1acc5bdec089"}, "message_list": [], "variable_list": [], "uuid": "dd67bb60-b0f1-46a5-918b-c408f01b2a17"}, "message_list": [], "name": "action_suspend"}, {"description": "System action for modifying an application", "type": "system", "uuid": "3ae6377a-ee61-4861-b3d9-73a1a6dd21e1", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_substrate", "name": "SaltStackMasterSubstrate", "uuid": "024e8056-86d0-b94e-2380-00f85c7b7ae7"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__DAG_Substrate_024e8056_86d0_b94e_2380_00f85c7b7ae7", "state": "ACTIVE", "attrs": {"edges": [], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "82b36486-056c-459c-8a24-e77590450ab7"}], "description": "", "name": "SYS_GEN__Runbook_Substrate_024e8056_86d0_b94e_2380_00f85c7b7ae7", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__DAG_Substrate_024e8056_86d0_b94e_2380_00f85c7b7ae7", "uuid": "82b36486-056c-459c-8a24-e77590450ab7"}, "message_list": [], "variable_list": [], "uuid": "1e27d9f6-1886-4004-8b19-0bd98f615281"}, "message_list": [], "name": "action_modify"}, {"description": "System action for powering off an application", "type": "system", "uuid": "c99b1218-f390-4696-9d8f-0d5627c44a1b", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_substrate", "name": "SaltStackMasterSubstrate", "uuid": "024e8056-86d0-b94e-2380-00f85c7b7ae7"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__Nutanix_Operation_PowerOff_024e8056_86d0_b94e_2380_00f85c7b7ae7", "uuid": "9783584c-54f9-435f-a16b-9d03c1f2ee3c"}], "name": "SYS_GEN__DAG_Substrate_024e8056_86d0_b94e_2380_00f85c7b7ae7", "state": "ACTIVE", "attrs": {"edges": [], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "8e5114e8-471b-4676-b604-7e2a06ffeac6"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "SaltStackMasterSubstrate", "uuid": "024e8056-86d0-b94e-2380-00f85c7b7ae7"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__Nutanix_Operation_PowerOff_024e8056_86d0_b94e_2380_00f85c7b7ae7", "state": "ACTIVE", "attrs": {"type": "GENERIC_OPERATION"}, "timeout_secs": "", "type": "VMOPERATION_NUTANIX", "variable_list": [], "uuid": "9783584c-54f9-435f-a16b-9d03c1f2ee3c"}], "description": "", "name": "SYS_GEN__Runbook_Substrate_024e8056_86d0_b94e_2380_00f85c7b7ae7", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__DAG_Substrate_024e8056_86d0_b94e_2380_00f85c7b7ae7", "uuid": "8e5114e8-471b-4676-b604-7e2a06ffeac6"}, "message_list": [], "variable_list": [], "uuid": "70f5a3b2-618f-474e-84c6-5aa961fadb44"}, "message_list": [], "name": "action_poweroff"}, {"description": "System action for deleting an application. Deletes physical machines as well", "type": "system", "uuid": "4b00f5d3-0b6a-4d61-94be-030130608a16", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_substrate", "name": "SaltStackMasterSubstrate", "uuid": "024e8056-86d0-b94e-2380-00f85c7b7ae7"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__Nutanix_Delete_024e8056_86d0_b94e_2380_00f85c7b7ae7", "uuid": "38bda33c-be11-4589-a9ab-d0c52e6e8209"}], "name": "SYS_GEN__DAG_Substrate_024e8056_86d0_b94e_2380_00f85c7b7ae7", "state": "ACTIVE", "attrs": {"edges": [], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "e60ec0d7-ab0e-4e78-a90a-1c352039b92b"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "SaltStackMasterSubstrate", "uuid": "024e8056-86d0-b94e-2380-00f85c7b7ae7"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__Nutanix_Delete_024e8056_86d0_b94e_2380_00f85c7b7ae7", "state": "ACTIVE", "attrs": {"type": ""}, "timeout_secs": "", "type": "DELETE_NUTANIX", "variable_list": [], "uuid": "38bda33c-be11-4589-a9ab-d0c52e6e8209"}], "description": "", "name": "SYS_GEN__Runbook_Substrate_024e8056_86d0_b94e_2380_00f85c7b7ae7", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__DAG_Substrate_024e8056_86d0_b94e_2380_00f85c7b7ae7", "uuid": "e60ec0d7-ab0e-4e78-a90a-1c352039b92b"}, "message_list": [], "variable_list": [], "uuid": "3e3aff33-32ea-475d-aaad-74b9a2f95c05"}, "message_list": [], "name": "action_delete"}, {"description": "System action for deleting an application. Does not delete physical machines", "type": "system", "uuid": "b0583332-c4b1-40b3-9bb2-dc4f7fe68105", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_substrate", "name": "SaltStackMasterSubstrate", "uuid": "024e8056-86d0-b94e-2380-00f85c7b7ae7"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__Substrate_Element_Delete_024e8056_86d0_b94e_2380_00f85c7b7ae7", "uuid": "dd5dd0c9-6aed-4a72-b029-2bb81fadc7f3"}], "name": "SYS_GEN__DAG_Substrate_024e8056_86d0_b94e_2380_00f85c7b7ae7", "state": "ACTIVE", "attrs": {"edges": [], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "aa7f0968-0818-4ee4-9871-24be760a6af3"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "SaltStackMasterSubstrate", "uuid": "024e8056-86d0-b94e-2380-00f85c7b7ae7"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__Substrate_Element_Delete_024e8056_86d0_b94e_2380_00f85c7b7ae7", "state": "ACTIVE", "attrs": {"type": ""}, "timeout_secs": "", "type": "SOFT_DELETE_ELEMENT", "variable_list": [], "uuid": "dd5dd0c9-6aed-4a72-b029-2bb81fadc7f3"}], "description": "", "name": "SYS_GEN__Runbook_Substrate_024e8056_86d0_b94e_2380_00f85c7b7ae7", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__DAG_Substrate_024e8056_86d0_b94e_2380_00f85c7b7ae7", "uuid": "aa7f0968-0818-4ee4-9871-24be760a6af3"}, "message_list": [], "variable_list": [], "uuid": "c716948b-7e20-4503-90a6-dd6e02889b3d"}, "message_list": [], "name": "action_soft_delete"}], "type": "AHV_VM", "name": "SaltStackMasterSubstrate", "state": "ACTIVE", "readiness_probe": {"connection_type": "SSH", "disable_readiness_probe": false, "timeout_secs": "60", "address": "@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@", "connection_port": 22, "login_credential_local_reference": {"kind": "app_credential", "name": "sshkey", "uuid": "53c70a72-ab22-510d-e6e7-9cf9d9dea2bb"}}, "editables": {}, "os_type": "Linux", "message_list": [], "create_spec": {"name": "DevOpsSaltStackMasterVM-@@{calm_array_index}@@", "availability_zone_reference": null, "backup_policy": null, "type": "", "cluster_reference": null, "resources": {"nic_list": [{"nic_type": "NORMAL_NIC", "ip_endpoint_list": [], "network_function_chain_reference": null, "network_function_nic_type": "INGRESS", "mac_address": "", "subnet_reference": {"kind": "subnet", "type": "", "name": "", "uuid": "5cbccfaa-9277-4d7c-9d78-36f48f8982d0"}, "type": ""}], "power_state": "ON", "guest_tools": null, "num_vcpus_per_socket": 1, "num_sockets": 2, "gpu_list": [], "memory_size_mib": 4096, "parent_reference": null, "hardware_clock_timezone": "", "guest_customization": {"cloud_init": {"meta_data": "", "type": "", "user_data": "#cloud-config\nusers:\n  - name: centos\n    ssh-authorized-keys:\n      - @@{INSTANCE_PUBLIC_KEY}@@\n    sudo: ['ALL=(ALL) NOPASSWD:ALL']"}, "type": "", "sysprep": null}, "type": "", "boot_config": {"boot_device": {"type": "", "disk_address": {"type": "", "device_index": 0, "adapter_type": "SCSI"}}, "type": "", "mac_address": ""}, "disk_list": [{"data_source_reference": {"kind": "image", "type": "", "name": "CloudInitBaseUpdated", "uuid": "0bf7741b-4363-499a-a060-5c2167865a1a"}, "type": "", "disk_size_mib": 0, "device_properties": {"type": "", "disk_address": {"type": "", "device_index": 0, "adapter_type": "SCSI"}, "device_type": "DISK"}}]}}, "variable_list": [], "uuid": "024e8056-86d0-b94e-2380-00f85c7b7ae7"}], "credential_definition_list": [{"username": "centos", "description": "", "secret": {"attrs": {"is_secret_modified": false, "secret_reference": {}}}, "name": "sshkey", "state": "ACTIVE", "editables": {"secret": true}, "type": "KEY", "uuid": "53c70a72-ab22-510d-e6e7-9cf9d9dea2bb"}], "app_profile_list": [{"deployment_create_list": [{"description": "", "action_list": [{"description": "System action for creating an application", "type": "system", "uuid": "0d94ee9e-0c0e-4950-b162-c2f10f37ee3e", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_blueprint_deployment", "name": "53c9da12_deployment", "uuid": "0dbbc975-efcd-3fae-c210-b6853acf60e9"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__DE_Provision_0dbbc975_efcd_3fae_c210_b6853acf60e9", "uuid": "585dde3b-3a8e-49ce-8164-8bbe1b38560c"}, {"kind": "app_task", "name": "SYS_GEN__create_CRb_Substrate_024e8056_86d0_b94e_2380_00f85c7b7ae7", "uuid": "a16daa4e-7428-4301-8bb4-3c610a26db7e"}, {"kind": "app_task", "name": "SYS_GEN__install_CRb_Package_8ceb8727_c67e_56e6_b849_03399c3d7eb8", "uuid": "ad5c855f-08f5-45bc-a910-2d230d59a984"}, {"kind": "app_task", "name": "SYS_GEN__create_CRb_Service_8ae7e951_9cc3_1094_6c60_f1c72e88249e", "uuid": "983d3634-8d46-4fa7-93f2-ba063db9e482"}, {"kind": "app_task", "name": "SYS_GEN__start_CRb_Service_8ae7e951_9cc3_1094_6c60_f1c72e88249e", "uuid": "37620dd6-eedd-4f7b-9b6e-99a884afb77f"}], "name": "SYS_GEN__Composite_DAG_Deployment_0dbbc975_efcd_3fae_c210_b6853acf60e9", "state": "ACTIVE", "attrs": {"edges": [{"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__create_CRb_Service_8ae7e951_9cc3_1094_6c60_f1c72e88249e", "uuid": "983d3634-8d46-4fa7-93f2-ba063db9e482"}, "edge_type": "inherent", "type": "", "uuid": "14ebee13-f88f-47a9-85ce-c84f7b91f005", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__start_CRb_Service_8ae7e951_9cc3_1094_6c60_f1c72e88249e", "uuid": "37620dd6-eedd-4f7b-9b6e-99a884afb77f"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__install_CRb_Package_8ceb8727_c67e_56e6_b849_03399c3d7eb8", "uuid": "ad5c855f-08f5-45bc-a910-2d230d59a984"}, "edge_type": "inherent", "type": "", "uuid": "d52671a9-5847-4d9b-9d07-c8f4c9197c5a", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__create_CRb_Service_8ae7e951_9cc3_1094_6c60_f1c72e88249e", "uuid": "983d3634-8d46-4fa7-93f2-ba063db9e482"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__DE_Provision_0dbbc975_efcd_3fae_c210_b6853acf60e9", "uuid": "585dde3b-3a8e-49ce-8164-8bbe1b38560c"}, "edge_type": "inherent", "type": "", "uuid": "be37d62b-851b-4be8-b4ce-a3067805f6a6", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__create_CRb_Substrate_024e8056_86d0_b94e_2380_00f85c7b7ae7", "uuid": "a16daa4e-7428-4301-8bb4-3c610a26db7e"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__create_CRb_Substrate_024e8056_86d0_b94e_2380_00f85c7b7ae7", "uuid": "a16daa4e-7428-4301-8bb4-3c610a26db7e"}, "edge_type": "inherent", "type": "", "uuid": "37fd88aa-822d-448a-9c77-f1c0f55df309", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__install_CRb_Package_8ceb8727_c67e_56e6_b849_03399c3d7eb8", "uuid": "ad5c855f-08f5-45bc-a910-2d230d59a984"}}], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "7e6c020c-48e6-47d4-ac8a-3ec4aea7d67c"}, {"target_any_local_reference": {"kind": "app_blueprint_deployment", "name": "53c9da12_deployment", "uuid": "0dbbc975-efcd-3fae-c210-b6853acf60e9"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__DE_Provision_0dbbc975_efcd_3fae_c210_b6853acf60e9", "state": "ACTIVE", "attrs": {"type": ""}, "timeout_secs": "", "type": "CREATE_DEPLOYMENT_ELEMENT", "variable_list": [], "uuid": "585dde3b-3a8e-49ce-8164-8bbe1b38560c"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "SaltStackMasterSubstrate", "uuid": "024e8056-86d0-b94e-2380-00f85c7b7ae7"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__create_CRb_Substrate_024e8056_86d0_b94e_2380_00f85c7b7ae7", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Substrate_024e8056_86d0_b94e_2380_00f85c7b7ae7", "uuid": "44dcc0db-e9b9-4481-8c73-cb3989f2e097"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "a16daa4e-7428-4301-8bb4-3c610a26db7e"}, {"target_any_local_reference": {"kind": "app_package", "name": "SaltStackMasterPackage", "uuid": "8ceb8727-c67e-56e6-b849-03399c3d7eb8"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__install_CRb_Package_8ceb8727_c67e_56e6_b849_03399c3d7eb8", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "53c9da12_deployment", "uuid": "0dbbc975-efcd-3fae-c210-b6853acf60e9"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Package_8ceb8727_c67e_56e6_b849_03399c3d7eb8", "uuid": "e9169893-2e4a-47b4-b28d-50959bd494ad"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "ad5c855f-08f5-45bc-a910-2d230d59a984"}, {"target_any_local_reference": {"kind": "app_service", "name": "SaltStackMaster", "uuid": "8ae7e951-9cc3-1094-6c60-f1c72e88249e"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__create_CRb_Service_8ae7e951_9cc3_1094_6c60_f1c72e88249e", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "53c9da12_deployment", "uuid": "0dbbc975-efcd-3fae-c210-b6853acf60e9"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "70713126_runbook", "uuid": "6490d56f-672e-6b5f-d178-74ba6a3245cb"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "983d3634-8d46-4fa7-93f2-ba063db9e482"}, {"target_any_local_reference": {"kind": "app_service", "name": "SaltStackMaster", "uuid": "8ae7e951-9cc3-1094-6c60-f1c72e88249e"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__start_CRb_Service_8ae7e951_9cc3_1094_6c60_f1c72e88249e", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "53c9da12_deployment", "uuid": "0dbbc975-efcd-3fae-c210-b6853acf60e9"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "4ba9ebfe_runbook", "uuid": "33dda5d5-26e0-a184-b65e-99c8cfcf0136"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "37620dd6-eedd-4f7b-9b6e-99a884afb77f"}], "description": "", "name": "SYS_GEN__Runbook_Deployment_0dbbc975_efcd_3fae_c210_b6853acf60e9", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Deployment_0dbbc975_efcd_3fae_c210_b6853acf60e9", "uuid": "7e6c020c-48e6-47d4-ac8a-3ec4aea7d67c"}, "message_list": [], "variable_list": [], "uuid": "c211dafd-344a-4a10-aed0-6ce342f85bab"}, "message_list": [], "name": "action_create"}, {"description": "System action for starting an application", "type": "system", "uuid": "3ef19f2d-8e7f-48bb-9a29-0af3e6b45a4f", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_blueprint_deployment", "name": "53c9da12_deployment", "uuid": "0dbbc975-efcd-3fae-c210-b6853acf60e9"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__start_CRb_Substrate_024e8056_86d0_b94e_2380_00f85c7b7ae7", "uuid": "7f520f8c-00c2-4f06-bb86-c139ec3b0d6d"}, {"kind": "app_task", "name": "SYS_GEN__start_CRb_Service_8ae7e951_9cc3_1094_6c60_f1c72e88249e", "uuid": "1c155c7d-65ea-4b2b-b2c4-c9c8a7adc0fe"}], "name": "SYS_GEN__Composite_DAG_Deployment_0dbbc975_efcd_3fae_c210_b6853acf60e9", "state": "ACTIVE", "attrs": {"edges": [{"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__start_CRb_Substrate_024e8056_86d0_b94e_2380_00f85c7b7ae7", "uuid": "7f520f8c-00c2-4f06-bb86-c139ec3b0d6d"}, "edge_type": "inherent", "type": "", "uuid": "9bfe8d14-3ffd-4c56-9fbf-336583885bf4", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__start_CRb_Service_8ae7e951_9cc3_1094_6c60_f1c72e88249e", "uuid": "1c155c7d-65ea-4b2b-b2c4-c9c8a7adc0fe"}}], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "446c126b-8c68-488e-9aa7-13d4fbd056bb"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "SaltStackMasterSubstrate", "uuid": "024e8056-86d0-b94e-2380-00f85c7b7ae7"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__start_CRb_Substrate_024e8056_86d0_b94e_2380_00f85c7b7ae7", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Substrate_024e8056_86d0_b94e_2380_00f85c7b7ae7", "uuid": "966d1324-f5bd-47d2-bc58-74b921787b66"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "7f520f8c-00c2-4f06-bb86-c139ec3b0d6d"}, {"target_any_local_reference": {"kind": "app_service", "name": "SaltStackMaster", "uuid": "8ae7e951-9cc3-1094-6c60-f1c72e88249e"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__start_CRb_Service_8ae7e951_9cc3_1094_6c60_f1c72e88249e", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "53c9da12_deployment", "uuid": "0dbbc975-efcd-3fae-c210-b6853acf60e9"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "4ba9ebfe_runbook", "uuid": "33dda5d5-26e0-a184-b65e-99c8cfcf0136"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "1c155c7d-65ea-4b2b-b2c4-c9c8a7adc0fe"}], "description": "", "name": "SYS_GEN__Runbook_Deployment_0dbbc975_efcd_3fae_c210_b6853acf60e9", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Deployment_0dbbc975_efcd_3fae_c210_b6853acf60e9", "uuid": "446c126b-8c68-488e-9aa7-13d4fbd056bb"}, "message_list": [], "variable_list": [], "uuid": "b4334a78-31dd-45e0-975a-5886be7593ce"}, "message_list": [], "name": "action_start"}, {"description": "System action for stopping an application", "type": "system", "uuid": "c12806d5-a98c-49c0-91fb-04c3d1aa935e", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_blueprint_deployment", "name": "53c9da12_deployment", "uuid": "0dbbc975-efcd-3fae-c210-b6853acf60e9"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__stop_CRb_Service_8ae7e951_9cc3_1094_6c60_f1c72e88249e", "uuid": "0e48b7a7-aae2-467b-9b69-bf69687edde5"}, {"kind": "app_task", "name": "SYS_GEN__stop_CRb_Substrate_024e8056_86d0_b94e_2380_00f85c7b7ae7", "uuid": "05f7d5fe-702a-4486-a9b7-a754972a4ad4"}], "name": "SYS_GEN__Composite_DAG_Deployment_0dbbc975_efcd_3fae_c210_b6853acf60e9", "state": "ACTIVE", "attrs": {"edges": [{"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__stop_CRb_Service_8ae7e951_9cc3_1094_6c60_f1c72e88249e", "uuid": "0e48b7a7-aae2-467b-9b69-bf69687edde5"}, "edge_type": "inherent", "type": "", "uuid": "dae19f80-00a1-4338-a7b2-89d37dd4e217", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__stop_CRb_Substrate_024e8056_86d0_b94e_2380_00f85c7b7ae7", "uuid": "05f7d5fe-702a-4486-a9b7-a754972a4ad4"}}], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "adf89d22-393d-45e5-8a29-8c1e22168cd6"}, {"target_any_local_reference": {"kind": "app_service", "name": "SaltStackMaster", "uuid": "8ae7e951-9cc3-1094-6c60-f1c72e88249e"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__stop_CRb_Service_8ae7e951_9cc3_1094_6c60_f1c72e88249e", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "53c9da12_deployment", "uuid": "0dbbc975-efcd-3fae-c210-b6853acf60e9"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "5fd3ca2f_runbook", "uuid": "d688e43a-c2cf-fe6c-9c74-28bc8a433b1a"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "0e48b7a7-aae2-467b-9b69-bf69687edde5"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "SaltStackMasterSubstrate", "uuid": "024e8056-86d0-b94e-2380-00f85c7b7ae7"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__stop_CRb_Substrate_024e8056_86d0_b94e_2380_00f85c7b7ae7", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Substrate_024e8056_86d0_b94e_2380_00f85c7b7ae7", "uuid": "70f5a3b2-618f-474e-84c6-5aa961fadb44"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "05f7d5fe-702a-4486-a9b7-a754972a4ad4"}], "description": "", "name": "SYS_GEN__Runbook_Deployment_0dbbc975_efcd_3fae_c210_b6853acf60e9", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Deployment_0dbbc975_efcd_3fae_c210_b6853acf60e9", "uuid": "adf89d22-393d-45e5-8a29-8c1e22168cd6"}, "message_list": [], "variable_list": [], "uuid": "ad175eac-fb25-4484-887f-aba0200995f4"}, "message_list": [], "name": "action_stop"}, {"description": "System action for deleting an application. Deletes physical machines as well", "type": "system", "uuid": "dcb097db-e017-4ff5-90ef-c20973dc51b3", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_blueprint_deployment", "name": "53c9da12_deployment", "uuid": "0dbbc975-efcd-3fae-c210-b6853acf60e9"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__stop_CRb_Service_8ae7e951_9cc3_1094_6c60_f1c72e88249e", "uuid": "65cb9f9c-a4af-40bc-97a4-97ee1652a996"}, {"kind": "app_task", "name": "SYS_GEN__delete_CRb_Service_8ae7e951_9cc3_1094_6c60_f1c72e88249e", "uuid": "ff8819e0-cf04-4b8c-a64d-898b378e0f38"}, {"kind": "app_task", "name": "SYS_GEN__uninstall_CRb_Package_8ceb8727_c67e_56e6_b849_03399c3d7eb8", "uuid": "66f7da54-79d6-49b4-aa67-d3098c475a7a"}, {"kind": "app_task", "name": "SYS_GEN__delete_CRb_Substrate_024e8056_86d0_b94e_2380_00f85c7b7ae7", "uuid": "b3c63347-555d-4f53-b89d-af269f95707a"}, {"kind": "app_task", "name": "SYS_GEN__DE_Delete_0dbbc975_efcd_3fae_c210_b6853acf60e9", "uuid": "bf6f346d-a125-472f-a3d8-c5b71b1c76b6"}], "name": "SYS_GEN__Composite_DAG_Deployment_0dbbc975_efcd_3fae_c210_b6853acf60e9", "state": "ACTIVE", "attrs": {"edges": [{"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__stop_CRb_Service_8ae7e951_9cc3_1094_6c60_f1c72e88249e", "uuid": "65cb9f9c-a4af-40bc-97a4-97ee1652a996"}, "edge_type": "inherent", "type": "", "uuid": "6bb04e65-cf12-4f92-aa56-2d490b754eb4", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__delete_CRb_Service_8ae7e951_9cc3_1094_6c60_f1c72e88249e", "uuid": "ff8819e0-cf04-4b8c-a64d-898b378e0f38"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__delete_CRb_Service_8ae7e951_9cc3_1094_6c60_f1c72e88249e", "uuid": "ff8819e0-cf04-4b8c-a64d-898b378e0f38"}, "edge_type": "inherent", "type": "", "uuid": "d34b615d-7b8f-42cc-ba93-af9b368e8504", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__uninstall_CRb_Package_8ceb8727_c67e_56e6_b849_03399c3d7eb8", "uuid": "66f7da54-79d6-49b4-aa67-d3098c475a7a"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__uninstall_CRb_Package_8ceb8727_c67e_56e6_b849_03399c3d7eb8", "uuid": "66f7da54-79d6-49b4-aa67-d3098c475a7a"}, "edge_type": "inherent", "type": "", "uuid": "669661c3-f2fe-440c-b129-58bcb9dbe49f", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__delete_CRb_Substrate_024e8056_86d0_b94e_2380_00f85c7b7ae7", "uuid": "b3c63347-555d-4f53-b89d-af269f95707a"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__delete_CRb_Substrate_024e8056_86d0_b94e_2380_00f85c7b7ae7", "uuid": "b3c63347-555d-4f53-b89d-af269f95707a"}, "edge_type": "inherent", "type": "", "uuid": "fc7a2281-ffe7-4be3-b655-1df09048d3f3", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__DE_Delete_0dbbc975_efcd_3fae_c210_b6853acf60e9", "uuid": "bf6f346d-a125-472f-a3d8-c5b71b1c76b6"}}], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "0ac434d9-2819-4e22-9649-6f99da69cd61"}, {"target_any_local_reference": {"kind": "app_service", "name": "SaltStackMaster", "uuid": "8ae7e951-9cc3-1094-6c60-f1c72e88249e"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__stop_CRb_Service_8ae7e951_9cc3_1094_6c60_f1c72e88249e", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "53c9da12_deployment", "uuid": "0dbbc975-efcd-3fae-c210-b6853acf60e9"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "5fd3ca2f_runbook", "uuid": "d688e43a-c2cf-fe6c-9c74-28bc8a433b1a"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "65cb9f9c-a4af-40bc-97a4-97ee1652a996"}, {"target_any_local_reference": {"kind": "app_service", "name": "SaltStackMaster", "uuid": "8ae7e951-9cc3-1094-6c60-f1c72e88249e"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__delete_CRb_Service_8ae7e951_9cc3_1094_6c60_f1c72e88249e", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "53c9da12_deployment", "uuid": "0dbbc975-efcd-3fae-c210-b6853acf60e9"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "5a9cb31e_runbook", "uuid": "4d59a53c-4f33-874e-69c1-3863e3d0f5ff"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "ff8819e0-cf04-4b8c-a64d-898b378e0f38"}, {"target_any_local_reference": {"kind": "app_package", "name": "SaltStackMasterPackage", "uuid": "8ceb8727-c67e-56e6-b849-03399c3d7eb8"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__uninstall_CRb_Package_8ceb8727_c67e_56e6_b849_03399c3d7eb8", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "53c9da12_deployment", "uuid": "0dbbc975-efcd-3fae-c210-b6853acf60e9"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Package_8ceb8727_c67e_56e6_b849_03399c3d7eb8", "uuid": "27f0872a-df10-4f06-9a5f-fcffd4687c72"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "66f7da54-79d6-49b4-aa67-d3098c475a7a"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "SaltStackMasterSubstrate", "uuid": "024e8056-86d0-b94e-2380-00f85c7b7ae7"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__delete_CRb_Substrate_024e8056_86d0_b94e_2380_00f85c7b7ae7", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Substrate_024e8056_86d0_b94e_2380_00f85c7b7ae7", "uuid": "3e3aff33-32ea-475d-aaad-74b9a2f95c05"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "b3c63347-555d-4f53-b89d-af269f95707a"}, {"target_any_local_reference": {"kind": "app_blueprint_deployment", "name": "53c9da12_deployment", "uuid": "0dbbc975-efcd-3fae-c210-b6853acf60e9"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__DE_Delete_0dbbc975_efcd_3fae_c210_b6853acf60e9", "state": "ACTIVE", "attrs": {"type": ""}, "timeout_secs": "", "type": "DELETE_DEPLOYMENT_ELEMENT", "variable_list": [], "uuid": "bf6f346d-a125-472f-a3d8-c5b71b1c76b6"}], "description": "", "name": "SYS_GEN__Runbook_Deployment_0dbbc975_efcd_3fae_c210_b6853acf60e9", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Deployment_0dbbc975_efcd_3fae_c210_b6853acf60e9", "uuid": "0ac434d9-2819-4e22-9649-6f99da69cd61"}, "message_list": [], "variable_list": [], "uuid": "6b5aad30-d069-401d-908f-304966ea25fc"}, "message_list": [], "name": "action_delete"}, {"description": "System action for scaleout", "type": "system", "uuid": "872e6f43-f4f3-4984-8fe0-31b3c94a09f3", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_blueprint_deployment", "name": "53c9da12_deployment", "uuid": "0dbbc975-efcd-3fae-c210-b6853acf60e9"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__Deployment_Scaleout_0dbbc975_efcd_3fae_c210_b6853acf60e9", "uuid": "c651dd88-37a3-4272-96c9-604ed64d07d3"}], "name": "SYS_GEN__Composite_DAG_Deployment_0dbbc975_efcd_3fae_c210_b6853acf60e9", "state": "ACTIVE", "attrs": {"edges": [], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "20db52f9-9f46-4d0d-8ea0-a44bfcd8bda5"}, {"target_any_local_reference": {"kind": "app_blueprint_deployment", "name": "53c9da12_deployment", "uuid": "0dbbc975-efcd-3fae-c210-b6853acf60e9"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__Deployment_Scaleout_0dbbc975_efcd_3fae_c210_b6853acf60e9", "state": "ACTIVE", "attrs": {"scaling_count": "@@{scaling_count}@@", "type": "", "scaling_type": "SCALEOUT"}, "timeout_secs": "", "type": "SCALING", "variable_list": [], "uuid": "c651dd88-37a3-4272-96c9-604ed64d07d3"}], "description": "", "name": "SYS_GEN__Runbook_Deployment_0dbbc975_efcd_3fae_c210_b6853acf60e9", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Deployment_0dbbc975_efcd_3fae_c210_b6853acf60e9", "uuid": "20db52f9-9f46-4d0d-8ea0-a44bfcd8bda5"}, "message_list": [], "variable_list": [], "uuid": "e1869157-faf1-487f-9d05-c480cb051330"}, "message_list": [], "name": "action_scaleout"}, {"description": "System action for scalein", "type": "system", "uuid": "fb0572b4-1b68-4c02-a985-b37937568611", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_blueprint_deployment", "name": "53c9da12_deployment", "uuid": "0dbbc975-efcd-3fae-c210-b6853acf60e9"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__Deployment_Scalein_0dbbc975_efcd_3fae_c210_b6853acf60e9", "uuid": "ab56c268-c770-4408-a919-0f019c27b617"}], "name": "SYS_GEN__Composite_DAG_Deployment_0dbbc975_efcd_3fae_c210_b6853acf60e9", "state": "ACTIVE", "attrs": {"edges": [], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "e53bfc41-ad67-4134-bb3a-c1718d121249"}, {"target_any_local_reference": {"kind": "app_blueprint_deployment", "name": "53c9da12_deployment", "uuid": "0dbbc975-efcd-3fae-c210-b6853acf60e9"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__Deployment_Scalein_0dbbc975_efcd_3fae_c210_b6853acf60e9", "state": "ACTIVE", "attrs": {"scaling_count": "@@{scaling_count}@@", "type": "", "scaling_type": "SCALEIN"}, "timeout_secs": "", "type": "SCALING", "variable_list": [], "uuid": "ab56c268-c770-4408-a919-0f019c27b617"}], "description": "", "name": "SYS_GEN__Runbook_Deployment_0dbbc975_efcd_3fae_c210_b6853acf60e9", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Deployment_0dbbc975_efcd_3fae_c210_b6853acf60e9", "uuid": "e53bfc41-ad67-4134-bb3a-c1718d121249"}, "message_list": [], "variable_list": [], "uuid": "410d6df2-1134-45dc-950a-b84d51f0a1b3"}, "message_list": [], "name": "action_scalein"}, {"description": "System action for deleting an application. Does not delete physical machines", "type": "system", "uuid": "8ce75fc9-f491-4422-9ea9-cffd7acb6791", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_blueprint_deployment", "name": "53c9da12_deployment", "uuid": "0dbbc975-efcd-3fae-c210-b6853acf60e9"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__soft_delete_CRb_Service_8ae7e951_9cc3_1094_6c60_f1c72e88249e", "uuid": "91b7049e-0fab-4618-9fed-007e08773ed6"}, {"kind": "app_task", "name": "SYS_GEN__Package_Element_Delete_8ceb8727_c67e_56e6_b849_03399c3d7eb8", "uuid": "0e6bc2c1-e865-4b95-960e-e0334c54eb5f"}, {"kind": "app_task", "name": "SYS_GEN__soft_delete_CRb_Substrate_024e8056_86d0_b94e_2380_00f85c7b7ae7", "uuid": "236f815f-247c-4024-869c-9d86a5151972"}, {"kind": "app_task", "name": "SYS_GEN__DE_Soft_Delete_0dbbc975_efcd_3fae_c210_b6853acf60e9", "uuid": "95595b21-2b0c-4e7c-b476-6cf747695966"}], "name": "SYS_GEN__Composite_DAG_Deployment_0dbbc975_efcd_3fae_c210_b6853acf60e9", "state": "ACTIVE", "attrs": {"edges": [{"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__soft_delete_CRb_Service_8ae7e951_9cc3_1094_6c60_f1c72e88249e", "uuid": "91b7049e-0fab-4618-9fed-007e08773ed6"}, "edge_type": "inherent", "type": "", "uuid": "402a3314-163e-4db3-98d9-14810c88834c", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__Package_Element_Delete_8ceb8727_c67e_56e6_b849_03399c3d7eb8", "uuid": "0e6bc2c1-e865-4b95-960e-e0334c54eb5f"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__soft_delete_CRb_Substrate_024e8056_86d0_b94e_2380_00f85c7b7ae7", "uuid": "236f815f-247c-4024-869c-9d86a5151972"}, "edge_type": "inherent", "type": "", "uuid": "e786eeac-372b-40ce-90dd-ceb004b30a89", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__DE_Soft_Delete_0dbbc975_efcd_3fae_c210_b6853acf60e9", "uuid": "95595b21-2b0c-4e7c-b476-6cf747695966"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__Package_Element_Delete_8ceb8727_c67e_56e6_b849_03399c3d7eb8", "uuid": "0e6bc2c1-e865-4b95-960e-e0334c54eb5f"}, "edge_type": "inherent", "type": "", "uuid": "8781710c-4954-4114-a133-fcaf84ec3705", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__soft_delete_CRb_Substrate_024e8056_86d0_b94e_2380_00f85c7b7ae7", "uuid": "236f815f-247c-4024-869c-9d86a5151972"}}], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "bfdb4083-b109-43c2-8249-3aac99c8543c"}, {"target_any_local_reference": {"kind": "app_service", "name": "SaltStackMaster", "uuid": "8ae7e951-9cc3-1094-6c60-f1c72e88249e"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__soft_delete_CRb_Service_8ae7e951_9cc3_1094_6c60_f1c72e88249e", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "53c9da12_deployment", "uuid": "0dbbc975-efcd-3fae-c210-b6853acf60e9"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Service_8ae7e951_9cc3_1094_6c60_f1c72e88249e", "uuid": "3a459b09-5417-41d5-aa8d-d137d599017b"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "91b7049e-0fab-4618-9fed-007e08773ed6"}, {"target_any_local_reference": {"kind": "app_package", "name": "SaltStackMasterPackage", "uuid": "8ceb8727-c67e-56e6-b849-03399c3d7eb8"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__Package_Element_Delete_8ceb8727_c67e_56e6_b849_03399c3d7eb8", "state": "ACTIVE", "attrs": {"type": ""}, "timeout_secs": "", "type": "SOFT_DELETE_ELEMENT", "variable_list": [], "uuid": "0e6bc2c1-e865-4b95-960e-e0334c54eb5f"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "SaltStackMasterSubstrate", "uuid": "024e8056-86d0-b94e-2380-00f85c7b7ae7"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__soft_delete_CRb_Substrate_024e8056_86d0_b94e_2380_00f85c7b7ae7", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Substrate_024e8056_86d0_b94e_2380_00f85c7b7ae7", "uuid": "c716948b-7e20-4503-90a6-dd6e02889b3d"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "236f815f-247c-4024-869c-9d86a5151972"}, {"target_any_local_reference": {"kind": "app_blueprint_deployment", "name": "53c9da12_deployment", "uuid": "0dbbc975-efcd-3fae-c210-b6853acf60e9"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__DE_Soft_Delete_0dbbc975_efcd_3fae_c210_b6853acf60e9", "state": "ACTIVE", "attrs": {"type": ""}, "timeout_secs": "", "type": "SOFT_DELETE_DEPLOYMENT_ELEMENT", "variable_list": [], "uuid": "95595b21-2b0c-4e7c-b476-6cf747695966"}], "description": "", "name": "SYS_GEN__Runbook_Deployment_0dbbc975_efcd_3fae_c210_b6853acf60e9", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Deployment_0dbbc975_efcd_3fae_c210_b6853acf60e9", "uuid": "bfdb4083-b109-43c2-8249-3aac99c8543c"}, "message_list": [], "variable_list": [], "uuid": "941ddfd0-6413-4703-ad20-3a3796bf961a"}, "message_list": [], "name": "action_soft_delete"}], "message_list": [], "editables": {}, "name": "53c9da12_deployment", "state": "ACTIVE", "max_replicas": "1", "package_local_reference_list": [{"kind": "app_package", "name": "SaltStackMasterPackage", "uuid": "8ceb8727-c67e-56e6-b849-03399c3d7eb8"}], "substrate_local_reference": {"kind": "app_substrate", "name": "SaltStackMasterSubstrate", "uuid": "024e8056-86d0-b94e-2380-00f85c7b7ae7"}, "min_replicas": "1", "variable_list": [], "uuid": "0dbbc975-efcd-3fae-c210-b6853acf60e9"}], "description": "", "action_list": [{"description": "System action for creating an application", "type": "system", "uuid": "dd6180a3-de2e-4c60-9b30-247f255d58af", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_profile", "name": "AHV", "uuid": "3bc213a5-d4f2-ca1c-68e4-1e4981d0e0ab"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__DE_Provision_0dbbc975_efcd_3fae_c210_b6853acf60e9", "uuid": "80b65385-566f-493a-acdc-3c137af3decc"}, {"kind": "app_task", "name": "SYS_GEN__create_CRb_Substrate_024e8056_86d0_b94e_2380_00f85c7b7ae7", "uuid": "23306cab-9fbe-4535-90f6-bc34d494714e"}, {"kind": "app_task", "name": "SYS_GEN__install_CRb_Package_8ceb8727_c67e_56e6_b849_03399c3d7eb8", "uuid": "9eb622e5-ed74-481f-932a-d749510550ce"}, {"kind": "app_task", "name": "SYS_GEN__create_CRb_Service_8ae7e951_9cc3_1094_6c60_f1c72e88249e", "uuid": "5a64eac9-6b41-4889-a921-44ad1b31d764"}, {"kind": "app_task", "name": "SYS_GEN__start_CRb_Service_8ae7e951_9cc3_1094_6c60_f1c72e88249e", "uuid": "e1df73b6-6c08-4a0b-a65f-2669fdf51f67"}], "name": "SYS_GEN__Composite_DAG_Application_3bc213a5_d4f2_ca1c_68e4_1e4981d0e0ab", "state": "ACTIVE", "attrs": {"edges": [{"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__create_CRb_Service_8ae7e951_9cc3_1094_6c60_f1c72e88249e", "uuid": "5a64eac9-6b41-4889-a921-44ad1b31d764"}, "edge_type": "inherent", "type": "", "uuid": "829cb08d-c4b8-40c3-92e3-7629be9a1379", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__start_CRb_Service_8ae7e951_9cc3_1094_6c60_f1c72e88249e", "uuid": "e1df73b6-6c08-4a0b-a65f-2669fdf51f67"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__install_CRb_Package_8ceb8727_c67e_56e6_b849_03399c3d7eb8", "uuid": "9eb622e5-ed74-481f-932a-d749510550ce"}, "edge_type": "inherent", "type": "", "uuid": "03739e38-4ab5-42a1-a469-5cebbb391581", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__create_CRb_Service_8ae7e951_9cc3_1094_6c60_f1c72e88249e", "uuid": "5a64eac9-6b41-4889-a921-44ad1b31d764"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__DE_Provision_0dbbc975_efcd_3fae_c210_b6853acf60e9", "uuid": "80b65385-566f-493a-acdc-3c137af3decc"}, "edge_type": "inherent", "type": "", "uuid": "b8842876-ee47-4a7c-b452-ac8072d2399f", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__create_CRb_Substrate_024e8056_86d0_b94e_2380_00f85c7b7ae7", "uuid": "23306cab-9fbe-4535-90f6-bc34d494714e"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__create_CRb_Substrate_024e8056_86d0_b94e_2380_00f85c7b7ae7", "uuid": "23306cab-9fbe-4535-90f6-bc34d494714e"}, "edge_type": "inherent", "type": "", "uuid": "7512fcdb-407a-43cd-9e45-370dff5db4cf", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__install_CRb_Package_8ceb8727_c67e_56e6_b849_03399c3d7eb8", "uuid": "9eb622e5-ed74-481f-932a-d749510550ce"}}], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "ea5639da-2267-4ca4-a42e-5188c5d0d1e7"}, {"target_any_local_reference": {"kind": "app_blueprint_deployment", "name": "53c9da12_deployment", "uuid": "0dbbc975-efcd-3fae-c210-b6853acf60e9"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__DE_Provision_0dbbc975_efcd_3fae_c210_b6853acf60e9", "state": "ACTIVE", "attrs": {"type": ""}, "timeout_secs": "", "type": "CREATE_DEPLOYMENT_ELEMENT", "variable_list": [], "uuid": "80b65385-566f-493a-acdc-3c137af3decc"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "SaltStackMasterSubstrate", "uuid": "024e8056-86d0-b94e-2380-00f85c7b7ae7"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__create_CRb_Substrate_024e8056_86d0_b94e_2380_00f85c7b7ae7", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Substrate_024e8056_86d0_b94e_2380_00f85c7b7ae7", "uuid": "44dcc0db-e9b9-4481-8c73-cb3989f2e097"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "23306cab-9fbe-4535-90f6-bc34d494714e"}, {"target_any_local_reference": {"kind": "app_package", "name": "SaltStackMasterPackage", "uuid": "8ceb8727-c67e-56e6-b849-03399c3d7eb8"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__install_CRb_Package_8ceb8727_c67e_56e6_b849_03399c3d7eb8", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "53c9da12_deployment", "uuid": "0dbbc975-efcd-3fae-c210-b6853acf60e9"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Package_8ceb8727_c67e_56e6_b849_03399c3d7eb8", "uuid": "e9169893-2e4a-47b4-b28d-50959bd494ad"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "9eb622e5-ed74-481f-932a-d749510550ce"}, {"target_any_local_reference": {"kind": "app_service", "name": "SaltStackMaster", "uuid": "8ae7e951-9cc3-1094-6c60-f1c72e88249e"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__create_CRb_Service_8ae7e951_9cc3_1094_6c60_f1c72e88249e", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "53c9da12_deployment", "uuid": "0dbbc975-efcd-3fae-c210-b6853acf60e9"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "70713126_runbook", "uuid": "6490d56f-672e-6b5f-d178-74ba6a3245cb"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "5a64eac9-6b41-4889-a921-44ad1b31d764"}, {"target_any_local_reference": {"kind": "app_service", "name": "SaltStackMaster", "uuid": "8ae7e951-9cc3-1094-6c60-f1c72e88249e"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__start_CRb_Service_8ae7e951_9cc3_1094_6c60_f1c72e88249e", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "53c9da12_deployment", "uuid": "0dbbc975-efcd-3fae-c210-b6853acf60e9"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "4ba9ebfe_runbook", "uuid": "33dda5d5-26e0-a184-b65e-99c8cfcf0136"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "e1df73b6-6c08-4a0b-a65f-2669fdf51f67"}], "description": "", "name": "SYS_GEN__Runbook_Application_3bc213a5_d4f2_ca1c_68e4_1e4981d0e0ab", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Application_3bc213a5_d4f2_ca1c_68e4_1e4981d0e0ab", "uuid": "ea5639da-2267-4ca4-a42e-5188c5d0d1e7"}, "message_list": [], "variable_list": [], "uuid": "b99594d8-44a1-4061-9326-dd9c341e3440"}, "message_list": [], "name": "action_create"}, {"description": "System action for starting an application", "type": "system", "uuid": "029e1e93-1519-4059-84b4-419fe68797c3", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_profile", "name": "AHV", "uuid": "3bc213a5-d4f2-ca1c-68e4-1e4981d0e0ab"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__start_CRb_Substrate_024e8056_86d0_b94e_2380_00f85c7b7ae7", "uuid": "524ffa72-8286-489e-93f3-2f6121f2a485"}, {"kind": "app_task", "name": "SYS_GEN__start_CRb_Service_8ae7e951_9cc3_1094_6c60_f1c72e88249e", "uuid": "076b2d83-72a8-4881-9c56-a264c22d0fca"}], "name": "SYS_GEN__Composite_DAG_Application_3bc213a5_d4f2_ca1c_68e4_1e4981d0e0ab", "state": "ACTIVE", "attrs": {"edges": [{"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__start_CRb_Substrate_024e8056_86d0_b94e_2380_00f85c7b7ae7", "uuid": "524ffa72-8286-489e-93f3-2f6121f2a485"}, "edge_type": "inherent", "type": "", "uuid": "60bfa62e-cdc3-420c-a54c-e77667d8ce62", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__start_CRb_Service_8ae7e951_9cc3_1094_6c60_f1c72e88249e", "uuid": "076b2d83-72a8-4881-9c56-a264c22d0fca"}}], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "e10aa79b-2af4-4aeb-b93d-a7128d484807"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "SaltStackMasterSubstrate", "uuid": "024e8056-86d0-b94e-2380-00f85c7b7ae7"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__start_CRb_Substrate_024e8056_86d0_b94e_2380_00f85c7b7ae7", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Substrate_024e8056_86d0_b94e_2380_00f85c7b7ae7", "uuid": "966d1324-f5bd-47d2-bc58-74b921787b66"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "524ffa72-8286-489e-93f3-2f6121f2a485"}, {"target_any_local_reference": {"kind": "app_service", "name": "SaltStackMaster", "uuid": "8ae7e951-9cc3-1094-6c60-f1c72e88249e"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__start_CRb_Service_8ae7e951_9cc3_1094_6c60_f1c72e88249e", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "53c9da12_deployment", "uuid": "0dbbc975-efcd-3fae-c210-b6853acf60e9"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "4ba9ebfe_runbook", "uuid": "33dda5d5-26e0-a184-b65e-99c8cfcf0136"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "076b2d83-72a8-4881-9c56-a264c22d0fca"}], "description": "", "name": "SYS_GEN__Runbook_Application_3bc213a5_d4f2_ca1c_68e4_1e4981d0e0ab", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Application_3bc213a5_d4f2_ca1c_68e4_1e4981d0e0ab", "uuid": "e10aa79b-2af4-4aeb-b93d-a7128d484807"}, "message_list": [], "variable_list": [], "uuid": "19de6177-822e-4c56-9ae8-37c07c803da2"}, "message_list": [], "name": "action_start"}, {"description": "System action for stopping an application", "type": "system", "uuid": "e00b1ade-8f22-4117-b9dd-1a2309f04696", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_profile", "name": "AHV", "uuid": "3bc213a5-d4f2-ca1c-68e4-1e4981d0e0ab"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__stop_CRb_Service_8ae7e951_9cc3_1094_6c60_f1c72e88249e", "uuid": "7dd5d139-026f-4207-9fd3-6e0acc73dd4a"}, {"kind": "app_task", "name": "SYS_GEN__stop_CRb_Substrate_024e8056_86d0_b94e_2380_00f85c7b7ae7", "uuid": "bc46fb45-41c5-4b94-8378-f0176cabf166"}], "name": "SYS_GEN__Composite_DAG_Application_3bc213a5_d4f2_ca1c_68e4_1e4981d0e0ab", "state": "ACTIVE", "attrs": {"edges": [{"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__stop_CRb_Service_8ae7e951_9cc3_1094_6c60_f1c72e88249e", "uuid": "7dd5d139-026f-4207-9fd3-6e0acc73dd4a"}, "edge_type": "inherent", "type": "", "uuid": "723f6c8b-5565-43d9-94ce-04d9b28d3a19", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__stop_CRb_Substrate_024e8056_86d0_b94e_2380_00f85c7b7ae7", "uuid": "bc46fb45-41c5-4b94-8378-f0176cabf166"}}], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "b08dba5a-c59b-48d9-bc61-0865a777db54"}, {"target_any_local_reference": {"kind": "app_service", "name": "SaltStackMaster", "uuid": "8ae7e951-9cc3-1094-6c60-f1c72e88249e"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__stop_CRb_Service_8ae7e951_9cc3_1094_6c60_f1c72e88249e", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "53c9da12_deployment", "uuid": "0dbbc975-efcd-3fae-c210-b6853acf60e9"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "5fd3ca2f_runbook", "uuid": "d688e43a-c2cf-fe6c-9c74-28bc8a433b1a"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "7dd5d139-026f-4207-9fd3-6e0acc73dd4a"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "SaltStackMasterSubstrate", "uuid": "024e8056-86d0-b94e-2380-00f85c7b7ae7"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__stop_CRb_Substrate_024e8056_86d0_b94e_2380_00f85c7b7ae7", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Substrate_024e8056_86d0_b94e_2380_00f85c7b7ae7", "uuid": "70f5a3b2-618f-474e-84c6-5aa961fadb44"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "bc46fb45-41c5-4b94-8378-f0176cabf166"}], "description": "", "name": "SYS_GEN__Runbook_Application_3bc213a5_d4f2_ca1c_68e4_1e4981d0e0ab", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Application_3bc213a5_d4f2_ca1c_68e4_1e4981d0e0ab", "uuid": "b08dba5a-c59b-48d9-bc61-0865a777db54"}, "message_list": [], "variable_list": [], "uuid": "8db49da3-6bf6-472f-bcdd-e68a37d7469f"}, "message_list": [], "name": "action_stop"}, {"description": "System action for deleting an application. Deletes physical machines as well", "type": "system", "uuid": "0136af64-162e-49d7-a0f2-4fb9db7c5eff", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_profile", "name": "AHV", "uuid": "3bc213a5-d4f2-ca1c-68e4-1e4981d0e0ab"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__stop_CRb_Service_8ae7e951_9cc3_1094_6c60_f1c72e88249e", "uuid": "a9b8a6f5-b9c0-431e-a8c6-2fb88600ec40"}, {"kind": "app_task", "name": "SYS_GEN__delete_CRb_Service_8ae7e951_9cc3_1094_6c60_f1c72e88249e", "uuid": "000a69e9-547b-4fe8-9bf5-a8772a74d10f"}, {"kind": "app_task", "name": "SYS_GEN__uninstall_CRb_Package_8ceb8727_c67e_56e6_b849_03399c3d7eb8", "uuid": "431935f2-759a-46cf-ad1d-38f147321cf7"}, {"kind": "app_task", "name": "SYS_GEN__delete_CRb_Substrate_024e8056_86d0_b94e_2380_00f85c7b7ae7", "uuid": "1d4e10bd-1338-44e1-8d5b-285a318ed792"}, {"kind": "app_task", "name": "SYS_GEN__DE_Delete_0dbbc975_efcd_3fae_c210_b6853acf60e9", "uuid": "95b23611-4648-4332-9302-af953bfcc82c"}], "name": "SYS_GEN__Composite_DAG_Application_3bc213a5_d4f2_ca1c_68e4_1e4981d0e0ab", "state": "ACTIVE", "attrs": {"edges": [{"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__stop_CRb_Service_8ae7e951_9cc3_1094_6c60_f1c72e88249e", "uuid": "a9b8a6f5-b9c0-431e-a8c6-2fb88600ec40"}, "edge_type": "inherent", "type": "", "uuid": "51e91f1f-4afb-4426-b30c-c26d995ea1ca", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__delete_CRb_Service_8ae7e951_9cc3_1094_6c60_f1c72e88249e", "uuid": "000a69e9-547b-4fe8-9bf5-a8772a74d10f"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__delete_CRb_Service_8ae7e951_9cc3_1094_6c60_f1c72e88249e", "uuid": "000a69e9-547b-4fe8-9bf5-a8772a74d10f"}, "edge_type": "inherent", "type": "", "uuid": "49b63bb7-402a-4c60-9f22-16ebeea9e070", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__uninstall_CRb_Package_8ceb8727_c67e_56e6_b849_03399c3d7eb8", "uuid": "431935f2-759a-46cf-ad1d-38f147321cf7"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__uninstall_CRb_Package_8ceb8727_c67e_56e6_b849_03399c3d7eb8", "uuid": "431935f2-759a-46cf-ad1d-38f147321cf7"}, "edge_type": "inherent", "type": "", "uuid": "8a292a61-67b8-475d-b9b7-85c98c898553", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__delete_CRb_Substrate_024e8056_86d0_b94e_2380_00f85c7b7ae7", "uuid": "1d4e10bd-1338-44e1-8d5b-285a318ed792"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__delete_CRb_Substrate_024e8056_86d0_b94e_2380_00f85c7b7ae7", "uuid": "1d4e10bd-1338-44e1-8d5b-285a318ed792"}, "edge_type": "inherent", "type": "", "uuid": "3f31776a-5158-44c7-9884-a32f9d16586b", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__DE_Delete_0dbbc975_efcd_3fae_c210_b6853acf60e9", "uuid": "95b23611-4648-4332-9302-af953bfcc82c"}}], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "e2968f82-5aaa-454b-a99b-eccae1f5872a"}, {"target_any_local_reference": {"kind": "app_service", "name": "SaltStackMaster", "uuid": "8ae7e951-9cc3-1094-6c60-f1c72e88249e"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__stop_CRb_Service_8ae7e951_9cc3_1094_6c60_f1c72e88249e", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "53c9da12_deployment", "uuid": "0dbbc975-efcd-3fae-c210-b6853acf60e9"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "5fd3ca2f_runbook", "uuid": "d688e43a-c2cf-fe6c-9c74-28bc8a433b1a"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "a9b8a6f5-b9c0-431e-a8c6-2fb88600ec40"}, {"target_any_local_reference": {"kind": "app_service", "name": "SaltStackMaster", "uuid": "8ae7e951-9cc3-1094-6c60-f1c72e88249e"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__delete_CRb_Service_8ae7e951_9cc3_1094_6c60_f1c72e88249e", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "53c9da12_deployment", "uuid": "0dbbc975-efcd-3fae-c210-b6853acf60e9"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "5a9cb31e_runbook", "uuid": "4d59a53c-4f33-874e-69c1-3863e3d0f5ff"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "000a69e9-547b-4fe8-9bf5-a8772a74d10f"}, {"target_any_local_reference": {"kind": "app_package", "name": "SaltStackMasterPackage", "uuid": "8ceb8727-c67e-56e6-b849-03399c3d7eb8"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__uninstall_CRb_Package_8ceb8727_c67e_56e6_b849_03399c3d7eb8", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "53c9da12_deployment", "uuid": "0dbbc975-efcd-3fae-c210-b6853acf60e9"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Package_8ceb8727_c67e_56e6_b849_03399c3d7eb8", "uuid": "27f0872a-df10-4f06-9a5f-fcffd4687c72"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "431935f2-759a-46cf-ad1d-38f147321cf7"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "SaltStackMasterSubstrate", "uuid": "024e8056-86d0-b94e-2380-00f85c7b7ae7"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__delete_CRb_Substrate_024e8056_86d0_b94e_2380_00f85c7b7ae7", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Substrate_024e8056_86d0_b94e_2380_00f85c7b7ae7", "uuid": "3e3aff33-32ea-475d-aaad-74b9a2f95c05"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "1d4e10bd-1338-44e1-8d5b-285a318ed792"}, {"target_any_local_reference": {"kind": "app_blueprint_deployment", "name": "53c9da12_deployment", "uuid": "0dbbc975-efcd-3fae-c210-b6853acf60e9"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__DE_Delete_0dbbc975_efcd_3fae_c210_b6853acf60e9", "state": "ACTIVE", "attrs": {"type": ""}, "timeout_secs": "", "type": "DELETE_DEPLOYMENT_ELEMENT", "variable_list": [], "uuid": "95b23611-4648-4332-9302-af953bfcc82c"}], "description": "", "name": "SYS_GEN__Runbook_Application_3bc213a5_d4f2_ca1c_68e4_1e4981d0e0ab", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Application_3bc213a5_d4f2_ca1c_68e4_1e4981d0e0ab", "uuid": "e2968f82-5aaa-454b-a99b-eccae1f5872a"}, "message_list": [], "variable_list": [], "uuid": "ef3251d0-d977-4972-ae53-bbfee2b90661"}, "message_list": [], "name": "action_delete"}, {"description": "System action for deleting an application. Does not delete physical machines", "type": "system", "uuid": "0f94ce6d-f511-4850-867f-e0ff835c1ed8", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_profile", "name": "AHV", "uuid": "3bc213a5-d4f2-ca1c-68e4-1e4981d0e0ab"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__soft_delete_CRb_Service_8ae7e951_9cc3_1094_6c60_f1c72e88249e", "uuid": "9c58a7a8-5db0-408f-9931-1cf711266b73"}, {"kind": "app_task", "name": "SYS_GEN__Package_Element_Delete_8ceb8727_c67e_56e6_b849_03399c3d7eb8", "uuid": "86c41a43-d897-4355-9440-10528baea36e"}, {"kind": "app_task", "name": "SYS_GEN__soft_delete_CRb_Substrate_024e8056_86d0_b94e_2380_00f85c7b7ae7", "uuid": "acd28ea6-e1e6-45d5-bbbe-0f3be45b7841"}, {"kind": "app_task", "name": "SYS_GEN__DE_Soft_Delete_0dbbc975_efcd_3fae_c210_b6853acf60e9", "uuid": "5b6e22e3-4aa6-4b4f-ac88-69e711e400a8"}], "name": "SYS_GEN__Composite_DAG_Application_3bc213a5_d4f2_ca1c_68e4_1e4981d0e0ab", "state": "ACTIVE", "attrs": {"edges": [{"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__soft_delete_CRb_Service_8ae7e951_9cc3_1094_6c60_f1c72e88249e", "uuid": "9c58a7a8-5db0-408f-9931-1cf711266b73"}, "edge_type": "inherent", "type": "", "uuid": "16c17fb5-bd11-4c0d-8be8-7cce7c10b5db", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__Package_Element_Delete_8ceb8727_c67e_56e6_b849_03399c3d7eb8", "uuid": "86c41a43-d897-4355-9440-10528baea36e"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__soft_delete_CRb_Substrate_024e8056_86d0_b94e_2380_00f85c7b7ae7", "uuid": "acd28ea6-e1e6-45d5-bbbe-0f3be45b7841"}, "edge_type": "inherent", "type": "", "uuid": "87d4e73a-fd17-4643-9acb-9bbed1383c64", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__DE_Soft_Delete_0dbbc975_efcd_3fae_c210_b6853acf60e9", "uuid": "5b6e22e3-4aa6-4b4f-ac88-69e711e400a8"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__Package_Element_Delete_8ceb8727_c67e_56e6_b849_03399c3d7eb8", "uuid": "86c41a43-d897-4355-9440-10528baea36e"}, "edge_type": "inherent", "type": "", "uuid": "f0caa2e8-2f13-4dc8-bf92-38bbc64a66a7", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__soft_delete_CRb_Substrate_024e8056_86d0_b94e_2380_00f85c7b7ae7", "uuid": "acd28ea6-e1e6-45d5-bbbe-0f3be45b7841"}}], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "34bcae13-0e23-4af1-9693-cc935bf2ce39"}, {"target_any_local_reference": {"kind": "app_service", "name": "SaltStackMaster", "uuid": "8ae7e951-9cc3-1094-6c60-f1c72e88249e"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__soft_delete_CRb_Service_8ae7e951_9cc3_1094_6c60_f1c72e88249e", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "53c9da12_deployment", "uuid": "0dbbc975-efcd-3fae-c210-b6853acf60e9"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Service_8ae7e951_9cc3_1094_6c60_f1c72e88249e", "uuid": "3a459b09-5417-41d5-aa8d-d137d599017b"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "9c58a7a8-5db0-408f-9931-1cf711266b73"}, {"target_any_local_reference": {"kind": "app_package", "name": "SaltStackMasterPackage", "uuid": "8ceb8727-c67e-56e6-b849-03399c3d7eb8"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__Package_Element_Delete_8ceb8727_c67e_56e6_b849_03399c3d7eb8", "state": "ACTIVE", "attrs": {"type": ""}, "timeout_secs": "", "type": "SOFT_DELETE_ELEMENT", "variable_list": [], "uuid": "86c41a43-d897-4355-9440-10528baea36e"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "SaltStackMasterSubstrate", "uuid": "024e8056-86d0-b94e-2380-00f85c7b7ae7"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__soft_delete_CRb_Substrate_024e8056_86d0_b94e_2380_00f85c7b7ae7", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Substrate_024e8056_86d0_b94e_2380_00f85c7b7ae7", "uuid": "c716948b-7e20-4503-90a6-dd6e02889b3d"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "acd28ea6-e1e6-45d5-bbbe-0f3be45b7841"}, {"target_any_local_reference": {"kind": "app_blueprint_deployment", "name": "53c9da12_deployment", "uuid": "0dbbc975-efcd-3fae-c210-b6853acf60e9"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__DE_Soft_Delete_0dbbc975_efcd_3fae_c210_b6853acf60e9", "state": "ACTIVE", "attrs": {"type": ""}, "timeout_secs": "", "type": "SOFT_DELETE_DEPLOYMENT_ELEMENT", "variable_list": [], "uuid": "5b6e22e3-4aa6-4b4f-ac88-69e711e400a8"}], "description": "", "name": "SYS_GEN__Runbook_Application_3bc213a5_d4f2_ca1c_68e4_1e4981d0e0ab", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Application_3bc213a5_d4f2_ca1c_68e4_1e4981d0e0ab", "uuid": "34bcae13-0e23-4af1-9693-cc935bf2ce39"}, "message_list": [], "variable_list": [], "uuid": "a1db23cb-ea24-4d10-952e-dbbc47e32dd8"}, "message_list": [], "name": "action_soft_delete"}], "name": "AHV", "state": "ACTIVE", "message_list": [], "dependency_list": [], "variable_list": [{"val_type": "STRING", "description": "", "name": "MASTER_HOSTNAME", "type": "LOCAL", "value": "saltstackmaster", "label": "", "state": "ACTIVE", "attrs": {"type": ""}, "editables": {"value": true}, "message_list": [], "uuid": "038a687c-a951-56bc-ee45-3268c3c30a73"}, {"val_type": "STRING", "description": "", "name": "INSTANCE_PUBLIC_KEY", "type": "LOCAL", "value": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQCuY56VkGJVBmKP+kxFgOEJ8wcwTkGZQp+WgILTlQR0m0997ZT5MBd/nSifzFHnuBLHme5WaQDi4EyKniNtDQw/X3/jw39SyTVdpL1zNAjQt9uPSg7VQ365VONCwacEOc7IDtOoHAW8zjc6cKed7tOPLNxmtQu7ZpEa+uw+KA1HH91+8SpF1y5sQHZ/yNjBM8haLev2fqNXOq/QW7UC8W3cOvE9bMtzqM4sz4UZ/7FMl67GQS+skrf36if81u91j640Nnp0nkQ4EdTrOEexzhw596CMY/nY4O/PsAzxf4/7KKfOBD94xtw6THrLE9jCC/N4I1k4JmOJOmFCvXyKGn+BWcOj5YAMx9IVa3PkU3rYlahut3nLgbqPGdC7MGYFI4EAttZx/9pYr8FLfdWDlOkkUxGRcW227Lg0PIWM/OB4OwH6BLxYy4D+K4oIO+j8BauigG74WJcfnRIse7av313zR81fOT4oh1AceTKSmw4iQpLJ73EbcqIAV1Juod/jRyXDZK6m0JETiHNeZR1ieK12i9wrT7tZtehMzi+Ca4D/26Zbt5b2gs09rLguuRSUL8kPCo2wOuEXnP892v0jRhUSnP3WKYBOLFjCVyuhPDVjxAEGnZ0/X45vMm8xNgGRd9WtyMCbgr4ezbxX+WK+3iWpl6xDh7gVUreoNBu896Kpxw== chris@digitalformula.net", "label": "", "state": "ACTIVE", "attrs": {"type": ""}, "editables": {"value": true}, "message_list": [], "uuid": "114889e5-ce43-452f-56ac-dd2ab6867954"}], "uuid": "3bc213a5-d4f2-ca1c-68e4-1e4981d0e0ab"}], "default_credential_local_reference": {"kind": "app_credential", "name": "sshkey", "uuid": "53c70a72-ab22-510d-e6e7-9cf9d9dea2bb"}, "package_definition_list": [{"description": "", "action_list": [{"description": "System action for installing an application", "type": "system", "uuid": "4550691e-876c-4e96-b5ab-1506376bba72", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "SaltStackMasterPackage", "uuid": "8ceb8727-c67e-56e6-b849-03399c3d7eb8"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "PE_Install_8ceb8727_c67e_56e6_b849_03399c3d7eb8", "uuid": "74c1b562-bc21-45ae-9922-f45e38864ed8"}], "name": "SYS_GEN__DAG_Package_8ceb8727_c67e_56e6_b849_03399c3d7eb8", "state": "ACTIVE", "attrs": {"edges": [], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "e4b55604-d473-4247-8391-4a1e528c54f9"}, {"target_any_local_reference": {"kind": "app_package", "name": "SaltStackMasterPackage", "uuid": "8ceb8727-c67e-56e6-b849-03399c3d7eb8"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "PE_Install_8ceb8727_c67e_56e6_b849_03399c3d7eb8", "state": "ACTIVE", "attrs": {"install_runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "SaltStackMasterPackage", "uuid": "8ceb8727-c67e-56e6-b849-03399c3d7eb8"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "PackageInstallTask", "uuid": "947e9071-5dae-7d60-b563-3b106ba0a695"}], "name": "0171e193_dag", "state": "NOT_VALIDATED", "attrs": {"edges": [], "type": ""}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "1132b3c4-aab5-a238-fe00-b2690013a927"}, {"target_any_local_reference": {"kind": "app_package", "name": "SaltStackMasterPackage", "uuid": "8ceb8727-c67e-56e6-b849-03399c3d7eb8"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "PackageInstallTask", "state": "NOT_VALIDATED", "attrs": {"exit_status": [], "script": "#!/bin/sh\n\n# perform some setup, first - hostname, package updates\nsudo hostnamectl set-hostname @@{MASTER_HOSTNAME}@@\n\nsudo yum -y update\nsudo yum -y upgrade\n\n# install some useful packages\nsudo yum -y install net-tools bind-utils bash-completion\nsudo yum -y remove firewalld\n\nsudo yum -y install epel-release\n\n# install the repo for the latest SaltStack version\nsudo yum -y install https://repo.saltstack.com/yum/redhat/salt-repo-latest-2.el7.noarch.rpm\n# install the actual SaltStack master\nsudo yum -y install salt-master\n\n# make sure the salt binaries were installed correctly\n# installation failure won't cause the script to stop unless we manually exit with an error code here\n[ -e /usr/bin/salt ] && echo \"salt binary found\" || exit $?\n\nsleep 3\n\n# bind to and listen on the host IP address only\nsudo sed -i -- 's/#interface: 0.0.0.0/interface: @@{address}@@/' /etc/salt/master\n\nsudo echo '@@{address}@@ salt' | sudo tee -a /etc/hosts\n\nsudo systemctl enable salt-master.service\nsudo systemctl start salt-master.service\n\n# setup the SaltStack master directory structure\nsudo mkdir -p /srv/salt\nsudo mkdir -p /srv/salt/all\n\n# setup the initial SaltStack states\nsudo echo \"base:\n  '*':\n    - all\" | sudo tee /srv/salt/top.sls\n\n# setup the SaltStack state that will apply to all SaltStack minions\nsudo echo \"pkg.upgrade:\n  module.run\nall.packages:\n  pkg.installed:\n    - pkgs:\n      - git\" | sudo tee /srv/salt/all/init.sls", "script_type": "sh", "type": "", "command_line_args": "", "login_credential_local_reference": {"kind": "app_credential", "name": "sshkey", "uuid": "53c70a72-ab22-510d-e6e7-9cf9d9dea2bb"}}, "timeout_secs": "", "type": "EXEC", "variable_list": [], "uuid": "947e9071-5dae-7d60-b563-3b106ba0a695"}], "description": "", "name": "b229a1db_runbook", "state": "NOT_VALIDATED", "main_task_local_reference": {"kind": "app_task", "name": "0171e193_dag", "uuid": "1132b3c4-aab5-a238-fe00-b2690013a927"}, "message_list": [], "variable_list": [], "uuid": "89b26875-2897-1e00-f455-442f89c8d8e2"}, "type": "", "uninstall_runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "SaltStackMasterPackage", "uuid": "8ceb8727-c67e-56e6-b849-03399c3d7eb8"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "28b16e90_dag", "state": "NOT_VALIDATED", "attrs": {"edges": [], "type": ""}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "bc0a06be-1c03-7f49-5d6a-3c7849a47017"}], "description": "", "name": "01e2eda2_runbook", "state": "NOT_VALIDATED", "main_task_local_reference": {"kind": "app_task", "name": "28b16e90_dag", "uuid": "bc0a06be-1c03-7f49-5d6a-3c7849a47017"}, "message_list": [], "variable_list": [], "uuid": "a9d93b92-d73d-0c91-4396-3a31039b8913"}}, "timeout_secs": "", "type": "CUSTOM_PACKAGE_INSTALL", "variable_list": [], "uuid": "74c1b562-bc21-45ae-9922-f45e38864ed8"}], "description": "", "name": "SYS_GEN__Runbook_Package_8ceb8727_c67e_56e6_b849_03399c3d7eb8", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__DAG_Package_8ceb8727_c67e_56e6_b849_03399c3d7eb8", "uuid": "e4b55604-d473-4247-8391-4a1e528c54f9"}, "message_list": [], "variable_list": [], "uuid": "e9169893-2e4a-47b4-b28d-50959bd494ad"}, "message_list": [], "name": "action_install"}, {"description": "System action for creating an application", "type": "system", "uuid": "0fee144a-a54d-4729-8365-faf77d23fc0e", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "SaltStackMasterPackage", "uuid": "8ceb8727-c67e-56e6-b849-03399c3d7eb8"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__install_CRb_Package_8ceb8727_c67e_56e6_b849_03399c3d7eb8", "uuid": "f4ffcdab-09db-48d9-be55-0e3cd44892af"}, {"kind": "app_task", "name": "SYS_GEN__create_CRb_Service_8ae7e951_9cc3_1094_6c60_f1c72e88249e", "uuid": "2efbbc65-4b4d-4295-a98f-79e0ce0071cc"}, {"kind": "app_task", "name": "SYS_GEN__start_CRb_Service_8ae7e951_9cc3_1094_6c60_f1c72e88249e", "uuid": "26a64bc6-d846-41a5-8b3c-b3fbfee2d7c7"}], "name": "SYS_GEN__Composite_DAG_Package_8ceb8727_c67e_56e6_b849_03399c3d7eb8", "state": "ACTIVE", "attrs": {"edges": [{"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__create_CRb_Service_8ae7e951_9cc3_1094_6c60_f1c72e88249e", "uuid": "2efbbc65-4b4d-4295-a98f-79e0ce0071cc"}, "edge_type": "inherent", "type": "", "uuid": "9eb9bf91-1993-483a-94b2-cefbdbed1d34", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__start_CRb_Service_8ae7e951_9cc3_1094_6c60_f1c72e88249e", "uuid": "26a64bc6-d846-41a5-8b3c-b3fbfee2d7c7"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__install_CRb_Package_8ceb8727_c67e_56e6_b849_03399c3d7eb8", "uuid": "f4ffcdab-09db-48d9-be55-0e3cd44892af"}, "edge_type": "inherent", "type": "", "uuid": "035adf17-5eb6-4f95-876e-78e4c67ed62a", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__create_CRb_Service_8ae7e951_9cc3_1094_6c60_f1c72e88249e", "uuid": "2efbbc65-4b4d-4295-a98f-79e0ce0071cc"}}], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "bffc1483-e533-48ae-8e94-f8e594a9336f"}, {"target_any_local_reference": {"kind": "app_package", "name": "SaltStackMasterPackage", "uuid": "8ceb8727-c67e-56e6-b849-03399c3d7eb8"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__install_CRb_Package_8ceb8727_c67e_56e6_b849_03399c3d7eb8", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Package_8ceb8727_c67e_56e6_b849_03399c3d7eb8", "uuid": "e9169893-2e4a-47b4-b28d-50959bd494ad"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "f4ffcdab-09db-48d9-be55-0e3cd44892af"}, {"target_any_local_reference": {"kind": "app_service", "name": "SaltStackMaster", "uuid": "8ae7e951-9cc3-1094-6c60-f1c72e88249e"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__create_CRb_Service_8ae7e951_9cc3_1094_6c60_f1c72e88249e", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "70713126_runbook", "uuid": "6490d56f-672e-6b5f-d178-74ba6a3245cb"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "2efbbc65-4b4d-4295-a98f-79e0ce0071cc"}, {"target_any_local_reference": {"kind": "app_service", "name": "SaltStackMaster", "uuid": "8ae7e951-9cc3-1094-6c60-f1c72e88249e"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__start_CRb_Service_8ae7e951_9cc3_1094_6c60_f1c72e88249e", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "4ba9ebfe_runbook", "uuid": "33dda5d5-26e0-a184-b65e-99c8cfcf0136"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "26a64bc6-d846-41a5-8b3c-b3fbfee2d7c7"}], "description": "", "name": "SYS_GEN__Runbook_Package_8ceb8727_c67e_56e6_b849_03399c3d7eb8", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Package_8ceb8727_c67e_56e6_b849_03399c3d7eb8", "uuid": "bffc1483-e533-48ae-8e94-f8e594a9336f"}, "message_list": [], "variable_list": [], "uuid": "8c421420-4690-4d51-88cc-bff63b60112b"}, "message_list": [], "name": "action_create"}, {"description": "System action for uninstalling an application", "type": "system", "uuid": "f7786380-3d02-4c7f-a520-8261ff5f3fc1", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "SaltStackMasterPackage", "uuid": "8ceb8727-c67e-56e6-b849-03399c3d7eb8"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "PE_Uninstall_8ceb8727_c67e_56e6_b849_03399c3d7eb8", "uuid": "0ca87ca1-16cb-40f1-b2e2-1a60e0d81229"}], "name": "SYS_GEN__DAG_Package_8ceb8727_c67e_56e6_b849_03399c3d7eb8", "state": "ACTIVE", "attrs": {"edges": [], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "0ad4f0ba-2181-4c24-974a-1a570f63e698"}, {"target_any_local_reference": {"kind": "app_package", "name": "SaltStackMasterPackage", "uuid": "8ceb8727-c67e-56e6-b849-03399c3d7eb8"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "PE_Uninstall_8ceb8727_c67e_56e6_b849_03399c3d7eb8", "state": "ACTIVE", "attrs": {"install_runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "SaltStackMasterPackage", "uuid": "8ceb8727-c67e-56e6-b849-03399c3d7eb8"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "PackageInstallTask", "uuid": "947e9071-5dae-7d60-b563-3b106ba0a695"}], "name": "0171e193_dag", "state": "NOT_VALIDATED", "attrs": {"edges": [], "type": ""}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "1132b3c4-aab5-a238-fe00-b2690013a927"}, {"target_any_local_reference": {"kind": "app_package", "name": "SaltStackMasterPackage", "uuid": "8ceb8727-c67e-56e6-b849-03399c3d7eb8"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "PackageInstallTask", "state": "NOT_VALIDATED", "attrs": {"exit_status": [], "script": "#!/bin/sh\n\n# perform some setup, first - hostname, package updates\nsudo hostnamectl set-hostname @@{MASTER_HOSTNAME}@@\n\nsudo yum -y update\nsudo yum -y upgrade\n\n# install some useful packages\nsudo yum -y install net-tools bind-utils bash-completion\nsudo yum -y remove firewalld\n\nsudo yum -y install epel-release\n\n# install the repo for the latest SaltStack version\nsudo yum -y install https://repo.saltstack.com/yum/redhat/salt-repo-latest-2.el7.noarch.rpm\n# install the actual SaltStack master\nsudo yum -y install salt-master\n\n# make sure the salt binaries were installed correctly\n# installation failure won't cause the script to stop unless we manually exit with an error code here\n[ -e /usr/bin/salt ] && echo \"salt binary found\" || exit $?\n\nsleep 3\n\n# bind to and listen on the host IP address only\nsudo sed -i -- 's/#interface: 0.0.0.0/interface: @@{address}@@/' /etc/salt/master\n\nsudo echo '@@{address}@@ salt' | sudo tee -a /etc/hosts\n\nsudo systemctl enable salt-master.service\nsudo systemctl start salt-master.service\n\n# setup the SaltStack master directory structure\nsudo mkdir -p /srv/salt\nsudo mkdir -p /srv/salt/all\n\n# setup the initial SaltStack states\nsudo echo \"base:\n  '*':\n    - all\" | sudo tee /srv/salt/top.sls\n\n# setup the SaltStack state that will apply to all SaltStack minions\nsudo echo \"pkg.upgrade:\n  module.run\nall.packages:\n  pkg.installed:\n    - pkgs:\n      - git\" | sudo tee /srv/salt/all/init.sls", "script_type": "sh", "type": "", "command_line_args": "", "login_credential_local_reference": {"kind": "app_credential", "name": "sshkey", "uuid": "53c70a72-ab22-510d-e6e7-9cf9d9dea2bb"}}, "timeout_secs": "", "type": "EXEC", "variable_list": [], "uuid": "947e9071-5dae-7d60-b563-3b106ba0a695"}], "description": "", "name": "b229a1db_runbook", "state": "NOT_VALIDATED", "main_task_local_reference": {"kind": "app_task", "name": "0171e193_dag", "uuid": "1132b3c4-aab5-a238-fe00-b2690013a927"}, "message_list": [], "variable_list": [], "uuid": "89b26875-2897-1e00-f455-442f89c8d8e2"}, "type": "", "uninstall_runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "SaltStackMasterPackage", "uuid": "8ceb8727-c67e-56e6-b849-03399c3d7eb8"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "28b16e90_dag", "state": "NOT_VALIDATED", "attrs": {"edges": [], "type": ""}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "bc0a06be-1c03-7f49-5d6a-3c7849a47017"}], "description": "", "name": "01e2eda2_runbook", "state": "NOT_VALIDATED", "main_task_local_reference": {"kind": "app_task", "name": "28b16e90_dag", "uuid": "bc0a06be-1c03-7f49-5d6a-3c7849a47017"}, "message_list": [], "variable_list": [], "uuid": "a9d93b92-d73d-0c91-4396-3a31039b8913"}}, "timeout_secs": "", "type": "CUSTOM_PACKAGE_UNINSTALL", "variable_list": [], "uuid": "0ca87ca1-16cb-40f1-b2e2-1a60e0d81229"}], "description": "", "name": "SYS_GEN__Runbook_Package_8ceb8727_c67e_56e6_b849_03399c3d7eb8", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__DAG_Package_8ceb8727_c67e_56e6_b849_03399c3d7eb8", "uuid": "0ad4f0ba-2181-4c24-974a-1a570f63e698"}, "message_list": [], "variable_list": [], "uuid": "27f0872a-df10-4f06-9a5f-fcffd4687c72"}, "message_list": [], "name": "action_uninstall"}, {"description": "System action for deleting an application. Deletes physical machines as well", "type": "system", "uuid": "9dc08bb8-fe55-4f52-b988-2e4c9caa7863", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "SaltStackMasterPackage", "uuid": "8ceb8727-c67e-56e6-b849-03399c3d7eb8"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__stop_CRb_Service_8ae7e951_9cc3_1094_6c60_f1c72e88249e", "uuid": "0befed95-401b-4b03-8e33-14da75cf8ac2"}, {"kind": "app_task", "name": "SYS_GEN__delete_CRb_Service_8ae7e951_9cc3_1094_6c60_f1c72e88249e", "uuid": "2fb022c9-8046-4e66-a26e-caadbae35673"}, {"kind": "app_task", "name": "SYS_GEN__uninstall_CRb_Package_8ceb8727_c67e_56e6_b849_03399c3d7eb8", "uuid": "d225583a-efde-4843-8e71-d3218c5583f0"}], "name": "SYS_GEN__Composite_DAG_Package_8ceb8727_c67e_56e6_b849_03399c3d7eb8", "state": "ACTIVE", "attrs": {"edges": [{"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__stop_CRb_Service_8ae7e951_9cc3_1094_6c60_f1c72e88249e", "uuid": "0befed95-401b-4b03-8e33-14da75cf8ac2"}, "edge_type": "inherent", "type": "", "uuid": "c120bd50-29ea-418c-9e2f-1c5476b36d89", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__delete_CRb_Service_8ae7e951_9cc3_1094_6c60_f1c72e88249e", "uuid": "2fb022c9-8046-4e66-a26e-caadbae35673"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__delete_CRb_Service_8ae7e951_9cc3_1094_6c60_f1c72e88249e", "uuid": "2fb022c9-8046-4e66-a26e-caadbae35673"}, "edge_type": "inherent", "type": "", "uuid": "18241d9a-86a2-4210-9d3c-44044faabc6a", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__uninstall_CRb_Package_8ceb8727_c67e_56e6_b849_03399c3d7eb8", "uuid": "d225583a-efde-4843-8e71-d3218c5583f0"}}], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "14665e4c-2a8d-4ccd-8b28-9ec0e83f6945"}, {"target_any_local_reference": {"kind": "app_service", "name": "SaltStackMaster", "uuid": "8ae7e951-9cc3-1094-6c60-f1c72e88249e"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__stop_CRb_Service_8ae7e951_9cc3_1094_6c60_f1c72e88249e", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "5fd3ca2f_runbook", "uuid": "d688e43a-c2cf-fe6c-9c74-28bc8a433b1a"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "0befed95-401b-4b03-8e33-14da75cf8ac2"}, {"target_any_local_reference": {"kind": "app_service", "name": "SaltStackMaster", "uuid": "8ae7e951-9cc3-1094-6c60-f1c72e88249e"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__delete_CRb_Service_8ae7e951_9cc3_1094_6c60_f1c72e88249e", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "5a9cb31e_runbook", "uuid": "4d59a53c-4f33-874e-69c1-3863e3d0f5ff"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "2fb022c9-8046-4e66-a26e-caadbae35673"}, {"target_any_local_reference": {"kind": "app_package", "name": "SaltStackMasterPackage", "uuid": "8ceb8727-c67e-56e6-b849-03399c3d7eb8"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__uninstall_CRb_Package_8ceb8727_c67e_56e6_b849_03399c3d7eb8", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Package_8ceb8727_c67e_56e6_b849_03399c3d7eb8", "uuid": "27f0872a-df10-4f06-9a5f-fcffd4687c72"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "d225583a-efde-4843-8e71-d3218c5583f0"}], "description": "", "name": "SYS_GEN__Runbook_Package_8ceb8727_c67e_56e6_b849_03399c3d7eb8", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Package_8ceb8727_c67e_56e6_b849_03399c3d7eb8", "uuid": "14665e4c-2a8d-4ccd-8b28-9ec0e83f6945"}, "message_list": [], "variable_list": [], "uuid": "aaccac04-e94a-49dc-bceb-edb8e43c1e59"}, "message_list": [], "name": "action_delete"}, {"description": "System action for deleting an application. Does not delete physical machines", "type": "system", "uuid": "b44edddc-fa79-4486-a0ab-ff1b33ed421c", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "SaltStackMasterPackage", "uuid": "8ceb8727-c67e-56e6-b849-03399c3d7eb8"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__soft_delete_CRb_Service_8ae7e951_9cc3_1094_6c60_f1c72e88249e", "uuid": "7656bc9f-342d-424f-953d-350e82222fe5"}, {"kind": "app_task", "name": "SYS_GEN__Package_Element_Delete_8ceb8727_c67e_56e6_b849_03399c3d7eb8", "uuid": "2b8e39a9-8eb4-482b-8108-4e5068d1055d"}], "name": "SYS_GEN__Composite_DAG_Package_8ceb8727_c67e_56e6_b849_03399c3d7eb8", "state": "ACTIVE", "attrs": {"edges": [{"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__soft_delete_CRb_Service_8ae7e951_9cc3_1094_6c60_f1c72e88249e", "uuid": "7656bc9f-342d-424f-953d-350e82222fe5"}, "edge_type": "inherent", "type": "", "uuid": "2d79b5cc-f9fa-433c-9ff3-d0bb12f609a1", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__Package_Element_Delete_8ceb8727_c67e_56e6_b849_03399c3d7eb8", "uuid": "2b8e39a9-8eb4-482b-8108-4e5068d1055d"}}], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "a31f039a-e10d-4316-abe7-106644e54526"}, {"target_any_local_reference": {"kind": "app_service", "name": "SaltStackMaster", "uuid": "8ae7e951-9cc3-1094-6c60-f1c72e88249e"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__soft_delete_CRb_Service_8ae7e951_9cc3_1094_6c60_f1c72e88249e", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Service_8ae7e951_9cc3_1094_6c60_f1c72e88249e", "uuid": "3a459b09-5417-41d5-aa8d-d137d599017b"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "7656bc9f-342d-424f-953d-350e82222fe5"}, {"target_any_local_reference": {"kind": "app_package", "name": "SaltStackMasterPackage", "uuid": "8ceb8727-c67e-56e6-b849-03399c3d7eb8"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__Package_Element_Delete_8ceb8727_c67e_56e6_b849_03399c3d7eb8", "state": "ACTIVE", "attrs": {"type": ""}, "timeout_secs": "", "type": "SOFT_DELETE_ELEMENT", "variable_list": [], "uuid": "2b8e39a9-8eb4-482b-8108-4e5068d1055d"}], "description": "", "name": "SYS_GEN__Runbook_Package_8ceb8727_c67e_56e6_b849_03399c3d7eb8", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Package_8ceb8727_c67e_56e6_b849_03399c3d7eb8", "uuid": "a31f039a-e10d-4316-abe7-106644e54526"}, "message_list": [], "variable_list": [], "uuid": "ba1af3e7-cedb-4893-ac0c-6d4162fc914c"}, "message_list": [], "name": "action_soft_delete"}, {"description": "System action for starting an application", "type": "system", "uuid": "cc9e74c4-6966-431a-8cb5-fd7d6d66bbb6", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "SaltStackMasterPackage", "uuid": "8ceb8727-c67e-56e6-b849-03399c3d7eb8"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__start_CRb_Service_8ae7e951_9cc3_1094_6c60_f1c72e88249e", "uuid": "d778093c-3276-45d8-b668-4ce6365389d1"}], "name": "SYS_GEN__Composite_DAG_Package_8ceb8727_c67e_56e6_b849_03399c3d7eb8", "state": "ACTIVE", "attrs": {"edges": [], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "c1cf2eda-bcdf-4b68-bc31-6456c179850e"}, {"target_any_local_reference": {"kind": "app_service", "name": "SaltStackMaster", "uuid": "8ae7e951-9cc3-1094-6c60-f1c72e88249e"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__start_CRb_Service_8ae7e951_9cc3_1094_6c60_f1c72e88249e", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "4ba9ebfe_runbook", "uuid": "33dda5d5-26e0-a184-b65e-99c8cfcf0136"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "d778093c-3276-45d8-b668-4ce6365389d1"}], "description": "", "name": "SYS_GEN__Runbook_Package_8ceb8727_c67e_56e6_b849_03399c3d7eb8", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Package_8ceb8727_c67e_56e6_b849_03399c3d7eb8", "uuid": "c1cf2eda-bcdf-4b68-bc31-6456c179850e"}, "message_list": [], "variable_list": [], "uuid": "f13246f7-3fbd-483a-be79-376d34c4e5ce"}, "message_list": [], "name": "action_start"}, {"description": "System action for stopping an application", "type": "system", "uuid": "d0f3523c-2c14-4997-be64-0e1759932ac5", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "SaltStackMasterPackage", "uuid": "8ceb8727-c67e-56e6-b849-03399c3d7eb8"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__stop_CRb_Service_8ae7e951_9cc3_1094_6c60_f1c72e88249e", "uuid": "43bf327a-8f26-47c8-85c9-10c38950a62d"}], "name": "SYS_GEN__Composite_DAG_Package_8ceb8727_c67e_56e6_b849_03399c3d7eb8", "state": "ACTIVE", "attrs": {"edges": [], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "7884d3a1-5e9c-49d7-8da9-861b94f124a6"}, {"target_any_local_reference": {"kind": "app_service", "name": "SaltStackMaster", "uuid": "8ae7e951-9cc3-1094-6c60-f1c72e88249e"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__stop_CRb_Service_8ae7e951_9cc3_1094_6c60_f1c72e88249e", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "5fd3ca2f_runbook", "uuid": "d688e43a-c2cf-fe6c-9c74-28bc8a433b1a"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "43bf327a-8f26-47c8-85c9-10c38950a62d"}], "description": "", "name": "SYS_GEN__Runbook_Package_8ceb8727_c67e_56e6_b849_03399c3d7eb8", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Package_8ceb8727_c67e_56e6_b849_03399c3d7eb8", "uuid": "7884d3a1-5e9c-49d7-8da9-861b94f124a6"}, "message_list": [], "variable_list": [], "uuid": "c2149bfa-91bc-4731-abbb-123cb773aa68"}, "message_list": [], "name": "action_stop"}], "type": "DEB", "service_local_reference_list": [{"kind": "app_service", "name": "SaltStackMaster", "uuid": "8ae7e951-9cc3-1094-6c60-f1c72e88249e"}], "name": "SaltStackMasterPackage", "state": "ACTIVE", "version": "", "editables": {}, "message_list": [], "options": {"install_runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "SaltStackMasterPackage", "uuid": "8ceb8727-c67e-56e6-b849-03399c3d7eb8"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "PackageInstallTask", "uuid": "947e9071-5dae-7d60-b563-3b106ba0a695"}], "name": "0171e193_dag", "state": "NOT_VALIDATED", "attrs": {"edges": [], "type": ""}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "1132b3c4-aab5-a238-fe00-b2690013a927"}, {"target_any_local_reference": {"kind": "app_package", "name": "SaltStackMasterPackage", "uuid": "8ceb8727-c67e-56e6-b849-03399c3d7eb8"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "PackageInstallTask", "state": "NOT_VALIDATED", "attrs": {"exit_status": [], "script": "#!/bin/sh\n\n# perform some setup, first - hostname, package updates\nsudo hostnamectl set-hostname @@{MASTER_HOSTNAME}@@\n\nsudo yum -y update\nsudo yum -y upgrade\n\n# install some useful packages\nsudo yum -y install net-tools bind-utils bash-completion\nsudo yum -y remove firewalld\n\nsudo yum -y install epel-release\n\n# install the repo for the latest SaltStack version\nsudo yum -y install https://repo.saltstack.com/yum/redhat/salt-repo-latest-2.el7.noarch.rpm\n# install the actual SaltStack master\nsudo yum -y install salt-master\n\n# make sure the salt binaries were installed correctly\n# installation failure won't cause the script to stop unless we manually exit with an error code here\n[ -e /usr/bin/salt ] && echo \"salt binary found\" || exit $?\n\nsleep 3\n\n# bind to and listen on the host IP address only\nsudo sed -i -- 's/#interface: 0.0.0.0/interface: @@{address}@@/' /etc/salt/master\n\nsudo echo '@@{address}@@ salt' | sudo tee -a /etc/hosts\n\nsudo systemctl enable salt-master.service\nsudo systemctl start salt-master.service\n\n# setup the SaltStack master directory structure\nsudo mkdir -p /srv/salt\nsudo mkdir -p /srv/salt/all\n\n# setup the initial SaltStack states\nsudo echo \"base:\n  '*':\n    - all\" | sudo tee /srv/salt/top.sls\n\n# setup the SaltStack state that will apply to all SaltStack minions\nsudo echo \"pkg.upgrade:\n  module.run\nall.packages:\n  pkg.installed:\n    - pkgs:\n      - git\" | sudo tee /srv/salt/all/init.sls", "script_type": "sh", "type": "", "command_line_args": "", "login_credential_local_reference": {"kind": "app_credential", "name": "sshkey", "uuid": "53c70a72-ab22-510d-e6e7-9cf9d9dea2bb"}}, "timeout_secs": "", "type": "EXEC", "variable_list": [], "uuid": "947e9071-5dae-7d60-b563-3b106ba0a695"}], "description": "", "name": "b229a1db_runbook", "state": "NOT_VALIDATED", "main_task_local_reference": {"kind": "app_task", "name": "0171e193_dag", "uuid": "1132b3c4-aab5-a238-fe00-b2690013a927"}, "message_list": [], "variable_list": [], "uuid": "89b26875-2897-1e00-f455-442f89c8d8e2"}, "type": "", "uninstall_runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "SaltStackMasterPackage", "uuid": "8ceb8727-c67e-56e6-b849-03399c3d7eb8"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "28b16e90_dag", "state": "NOT_VALIDATED", "attrs": {"edges": [], "type": ""}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "bc0a06be-1c03-7f49-5d6a-3c7849a47017"}], "description": "", "name": "01e2eda2_runbook", "state": "NOT_VALIDATED", "main_task_local_reference": {"kind": "app_task", "name": "28b16e90_dag", "uuid": "bc0a06be-1c03-7f49-5d6a-3c7849a47017"}, "message_list": [], "variable_list": [], "uuid": "a9d93b92-d73d-0c91-4396-3a31039b8913"}}, "variable_list": [], "uuid": "8ceb8727-c67e-56e6-b849-03399c3d7eb8"}]}, "name": "DevOps-SaltStack-Master"}, "spec": {"description": "", "resources": {"service_definition_list": [{"singleton": false, "name": "SaltStackMaster", "action_list": [{"critical": false, "type": "system", "description": "System action for creating an application", "name": "action_create", "runbook": {"variable_list": [], "task_definition_list": [{"target_any_local_reference": {"kind": "app_service", "name": "SaltStackMaster"}, "description": "", "child_tasks_local_reference_list": [], "attrs": {"edges": [], "type": ""}, "timeout_secs": "", "type": "DAG", "variable_list": [], "name": "06f8f901_dag"}], "description": "", "main_task_local_reference": {"kind": "app_task", "name": "06f8f901_dag"}, "name": "70713126_runbook"}}, {"critical": false, "type": "system", "description": "System action for deleting an application. Deletes physical machines as well", "name": "action_delete", "runbook": {"variable_list": [], "task_definition_list": [{"target_any_local_reference": {"kind": "app_service", "name": "SaltStackMaster"}, "description": "", "child_tasks_local_reference_list": [], "attrs": {"edges": [], "type": ""}, "timeout_secs": "", "type": "DAG", "variable_list": [], "name": "4913f3de_dag"}], "description": "", "main_task_local_reference": {"kind": "app_task", "name": "4913f3de_dag"}, "name": "5a9cb31e_runbook"}}, {"critical": false, "type": "system", "description": "System action for starting an application", "name": "action_start", "runbook": {"variable_list": [], "task_definition_list": [{"target_any_local_reference": {"kind": "app_service", "name": "SaltStackMaster"}, "description": "", "child_tasks_local_reference_list": [], "attrs": {"edges": [], "type": ""}, "timeout_secs": "", "type": "DAG", "variable_list": [], "name": "b0493944_dag"}], "description": "", "main_task_local_reference": {"kind": "app_task", "name": "b0493944_dag"}, "name": "4ba9ebfe_runbook"}}, {"critical": false, "type": "system", "description": "System action for stopping an application", "name": "action_stop", "runbook": {"variable_list": [], "task_definition_list": [{"target_any_local_reference": {"kind": "app_service", "name": "SaltStackMaster"}, "description": "", "child_tasks_local_reference_list": [], "attrs": {"edges": [], "type": ""}, "timeout_secs": "", "type": "DAG", "variable_list": [], "name": "7b651959_dag"}], "description": "", "main_task_local_reference": {"kind": "app_task", "name": "7b651959_dag"}, "name": "5fd3ca2f_runbook"}}, {"critical": false, "type": "system", "description": "System action for restarting an application", "name": "action_restart", "runbook": {"variable_list": [], "task_definition_list": [{"target_any_local_reference": {"kind": "app_service", "name": "SaltStackMaster"}, "description": "", "child_tasks_local_reference_list": [], "attrs": {"edges": [], "type": ""}, "timeout_secs": "", "type": "DAG", "variable_list": [], "name": "f67a6149_dag"}], "description": "", "main_task_local_reference": {"kind": "app_task", "name": "f67a6149_dag"}, "name": "34c4aea1_runbook"}}], "description": "", "port_list": [], "tier": "", "variable_list": [], "depends_on_list": []}], "substrate_definition_list": [{"description": "", "action_list": [], "readiness_probe": {"connection_type": "SSH", "disable_readiness_probe": false, "timeout_secs": "60", "address": "@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@", "connection_port": 22, "login_credential_local_reference": {"kind": "app_credential", "name": "sshkey"}}, "os_type": "Linux", "type": "AHV_VM", "create_spec": {"backup_policy": null, "type": "", "name": "DevOpsSaltStackMasterVM-@@{calm_array_index}@@", "resources": {"nic_list": [{"nic_type": "NORMAL_NIC", "ip_endpoint_list": [], "network_function_chain_reference": null, "network_function_nic_type": "INGRESS", "mac_address": "", "subnet_reference": {"kind": "subnet", "type": "", "name": "", "uuid": "5cbccfaa-9277-4d7c-9d78-36f48f8982d0"}, "type": ""}], "parent_reference": null, "guest_tools": null, "num_vcpus_per_socket": 1, "num_sockets": 2, "gpu_list": [], "memory_size_mib": 4096, "power_state": "ON", "hardware_clock_timezone": "", "guest_customization": {"cloud_init": {"meta_data": "", "type": "", "user_data": "#cloud-config\nusers:\n  - name: centos\n    ssh-authorized-keys:\n      - @@{INSTANCE_PUBLIC_KEY}@@\n    sudo: ['ALL=(ALL) NOPASSWD:ALL']"}, "type": "", "sysprep": null}, "type": "", "boot_config": {"boot_device": {"type": "", "disk_address": {"adapter_type": "SCSI", "device_index": 0, "type": ""}}, "type": "", "mac_address": ""}, "disk_list": [{"data_source_reference": {"kind": "image", "type": "", "name": "CloudInitBaseUpdated", "uuid": "0bf7741b-4363-499a-a060-5c2167865a1a"}, "type": "", "disk_size_mib": 0, "device_properties": {"type": "", "device_type": "DISK", "disk_address": {"adapter_type": "SCSI", "device_index": 0, "type": ""}}}]}, "availability_zone_reference": null}, "variable_list": [], "name": "SaltStackMasterSubstrate"}], "credential_definition_list": [{"username": "centos", "description": "", "secret": {"attrs": {"is_secret_modified": false, "secret_reference": {}}}, "editables": {"secret": true}, "type": "KEY", "name": "sshkey"}], "package_definition_list": [{"description": "", "action_list": [], "service_local_reference_list": [{"kind": "app_service", "name": "SaltStackMaster"}], "version": "", "type": "DEB", "options": {"install_runbook": {"variable_list": [], "task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "SaltStackMasterPackage"}, "description": "", "child_tasks_local_reference_list": [{"kind": "app_task", "name": "PackageInstallTask"}], "attrs": {"edges": [], "type": ""}, "timeout_secs": "", "type": "DAG", "variable_list": [], "name": "0171e193_dag"}, {"target_any_local_reference": {"kind": "app_package", "name": "SaltStackMasterPackage"}, "description": "", "child_tasks_local_reference_list": [], "attrs": {"exit_status": [], "script": "#!/bin/sh\n\n# perform some setup, first - hostname, package updates\nsudo hostnamectl set-hostname @@{MASTER_HOSTNAME}@@\n\nsudo yum -y update\nsudo yum -y upgrade\n\n# install some useful packages\nsudo yum -y install net-tools bind-utils bash-completion\nsudo yum -y remove firewalld\n\nsudo yum -y install epel-release\n\n# install the repo for the latest SaltStack version\nsudo yum -y install https://repo.saltstack.com/yum/redhat/salt-repo-latest-2.el7.noarch.rpm\n# install the actual SaltStack master\nsudo yum -y install salt-master\n\n# make sure the salt binaries were installed correctly\n# installation failure won't cause the script to stop unless we manually exit with an error code here\n[ -e /usr/bin/salt ] && echo \"salt binary found\" || exit $?\n\nsleep 3\n\n# bind to and listen on the host IP address only\nsudo sed -i -- 's/#interface: 0.0.0.0/interface: @@{address}@@/' /etc/salt/master\n\nsudo echo '@@{address}@@ salt' | sudo tee -a /etc/hosts\n\nsudo systemctl enable salt-master.service\nsudo systemctl start salt-master.service\n\n# setup the SaltStack master directory structure\nsudo mkdir -p /srv/salt\nsudo mkdir -p /srv/salt/all\n\n# setup the initial SaltStack states\nsudo echo \"base:\n  '*':\n    - all\" | sudo tee /srv/salt/top.sls\n\n# setup the SaltStack state that will apply to all SaltStack minions\nsudo echo \"pkg.upgrade:\n  module.run\nall.packages:\n  pkg.installed:\n    - pkgs:\n      - git\" | sudo tee /srv/salt/all/init.sls", "script_type": "sh", "type": "", "command_line_args": "", "login_credential_local_reference": {"kind": "app_credential", "name": "sshkey"}}, "timeout_secs": "", "type": "EXEC", "variable_list": [], "name": "PackageInstallTask"}], "description": "", "main_task_local_reference": {"kind": "app_task", "name": "0171e193_dag"}, "name": "b229a1db_runbook"}, "type": "", "uninstall_runbook": {"variable_list": [], "task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "SaltStackMasterPackage"}, "description": "", "child_tasks_local_reference_list": [], "attrs": {"edges": [], "type": ""}, "timeout_secs": "", "type": "DAG", "variable_list": [], "name": "28b16e90_dag"}], "description": "", "main_task_local_reference": {"kind": "app_task", "name": "28b16e90_dag"}, "name": "01e2eda2_runbook"}}, "variable_list": [], "name": "SaltStackMasterPackage"}], "app_profile_list": [{"deployment_create_list": [{"description": "", "action_list": [], "package_local_reference_list": [{"kind": "app_package", "name": "SaltStackMasterPackage"}], "max_replicas": "1", "substrate_local_reference": {"kind": "app_substrate", "name": "SaltStackMasterSubstrate"}, "min_replicas": "1", "variable_list": [], "name": "53c9da12_deployment"}], "variable_list": [{"val_type": "STRING", "description": "", "value": "saltstackmaster", "label": "", "attrs": {"type": ""}, "editables": {"value": true}, "type": "LOCAL", "name": "MASTER_HOSTNAME"}, {"val_type": "STRING", "description": "", "value": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQCuY56VkGJVBmKP+kxFgOEJ8wcwTkGZQp+WgILTlQR0m0997ZT5MBd/nSifzFHnuBLHme5WaQDi4EyKniNtDQw/X3/jw39SyTVdpL1zNAjQt9uPSg7VQ365VONCwacEOc7IDtOoHAW8zjc6cKed7tOPLNxmtQu7ZpEa+uw+KA1HH91+8SpF1y5sQHZ/yNjBM8haLev2fqNXOq/QW7UC8W3cOvE9bMtzqM4sz4UZ/7FMl67GQS+skrf36if81u91j640Nnp0nkQ4EdTrOEexzhw596CMY/nY4O/PsAzxf4/7KKfOBD94xtw6THrLE9jCC/N4I1k4JmOJOmFCvXyKGn+BWcOj5YAMx9IVa3PkU3rYlahut3nLgbqPGdC7MGYFI4EAttZx/9pYr8FLfdWDlOkkUxGRcW227Lg0PIWM/OB4OwH6BLxYy4D+K4oIO+j8BauigG74WJcfnRIse7av313zR81fOT4oh1AceTKSmw4iQpLJ73EbcqIAV1Juod/jRyXDZK6m0JETiHNeZR1ieK12i9wrT7tZtehMzi+Ca4D/26Zbt5b2gs09rLguuRSUL8kPCo2wOuEXnP892v0jRhUSnP3WKYBOLFjCVyuhPDVjxAEGnZ0/X45vMm8xNgGRd9WtyMCbgr4ezbxX+WK+3iWpl6xDh7gVUreoNBu896Kpxw== chris@digitalformula.net", "label": "", "attrs": {"type": ""}, "editables": {"value": true}, "type": "LOCAL", "name": "INSTANCE_PUBLIC_KEY"}], "description": "", "action_list": [], "name": "AHV"}], "default_credential_local_reference": {"kind": "app_credential", "name": "sshkey"}, "client_attrs": {"SaltStackMaster": {"y": 393, "x": 530}}}, "name": "DevOps-SaltStack-Master"}, "api_version": "3.0", "metadata": {"last_update_time": "1519018696750421", "creation_time": "1519018215654352", "kind": "blueprint", "spec_version": 4, "name": "DevOps-SaltStack-Master"}}