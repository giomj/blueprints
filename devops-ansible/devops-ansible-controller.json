{"status": {"state": "ACTIVE", "message_list": [], "description": "", "resources": {"service_definition_list": [{"singleton": false, "uuid": "347807e6-43d2-40f2-82b7-ebfed05094df", "action_list": [{"description": "System action for creating an application", "type": "system", "uuid": "e0ef76ff-85dc-4ce3-b1ea-c6c765144858", "state": "ACTIVE", "critical": false, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_service", "name": "AnsibleController", "uuid": "347807e6-43d2-40f2-82b7-ebfed05094df"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "06f8f901_dag", "state": "NOT_VALIDATED", "attrs": {"edges": [], "type": ""}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "793fd234-6c2e-4bac-a155-f9b47eba3eb8"}], "description": "", "name": "70713126_runbook", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "06f8f901_dag", "uuid": "793fd234-6c2e-4bac-a155-f9b47eba3eb8"}, "message_list": [], "variable_list": [], "uuid": "e02b7325-ce93-4b31-958c-e274515807fc"}, "message_list": [], "name": "action_create"}, {"description": "System action for deleting an application. Deletes physical machines as well", "type": "system", "uuid": "d5a73953-f272-47a8-8f7f-d7130e3c4fee", "state": "ACTIVE", "critical": false, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_service", "name": "AnsibleController", "uuid": "347807e6-43d2-40f2-82b7-ebfed05094df"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "4913f3de_dag", "state": "NOT_VALIDATED", "attrs": {"edges": [], "type": ""}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "7e2280df-635d-497d-83b1-1f07f66fbeb7"}], "description": "", "name": "5a9cb31e_runbook", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "4913f3de_dag", "uuid": "7e2280df-635d-497d-83b1-1f07f66fbeb7"}, "message_list": [], "variable_list": [], "uuid": "2b7f3fc6-ebb8-4e92-ac4d-406fc3910644"}, "message_list": [], "name": "action_delete"}, {"description": "System action for starting an application", "type": "system", "uuid": "5cff9cda-ac0a-4730-9692-c72b29dcca65", "state": "ACTIVE", "critical": false, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_service", "name": "AnsibleController", "uuid": "347807e6-43d2-40f2-82b7-ebfed05094df"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "b0493944_dag", "state": "NOT_VALIDATED", "attrs": {"edges": [], "type": ""}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "6ac19146-bfe8-47de-912c-08a255f22d7a"}], "description": "", "name": "4ba9ebfe_runbook", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "b0493944_dag", "uuid": "6ac19146-bfe8-47de-912c-08a255f22d7a"}, "message_list": [], "variable_list": [], "uuid": "7e1852ef-1cbd-42ff-a429-b9e892050030"}, "message_list": [], "name": "action_start"}, {"description": "System action for stopping an application", "type": "system", "uuid": "d9db6ca7-2410-4959-b4b4-5c82eeabe7ec", "state": "ACTIVE", "critical": false, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_service", "name": "AnsibleController", "uuid": "347807e6-43d2-40f2-82b7-ebfed05094df"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "7b651959_dag", "state": "NOT_VALIDATED", "attrs": {"edges": [], "type": ""}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "99af8e13-7392-4961-b292-2c6fc8b8f876"}], "description": "", "name": "5fd3ca2f_runbook", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "7b651959_dag", "uuid": "99af8e13-7392-4961-b292-2c6fc8b8f876"}, "message_list": [], "variable_list": [], "uuid": "2b54c863-fd4a-4e05-b699-8d821eef432b"}, "message_list": [], "name": "action_stop"}, {"description": "System action for restarting an application", "type": "system", "uuid": "fef323c7-9a71-4679-9d89-3eac6afffc9f", "state": "ACTIVE", "critical": false, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_service", "name": "AnsibleController", "uuid": "347807e6-43d2-40f2-82b7-ebfed05094df"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "f67a6149_dag", "state": "NOT_VALIDATED", "attrs": {"edges": [], "type": ""}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "a2d87094-e557-432e-9cbd-a64fb5d9f93d"}], "description": "", "name": "34c4aea1_runbook", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "f67a6149_dag", "uuid": "a2d87094-e557-432e-9cbd-a64fb5d9f93d"}, "message_list": [], "variable_list": [], "uuid": "9942b6d7-af42-4bb8-a6d2-729cfb485e4c"}, "message_list": [], "name": "action_restart"}, {"description": "System action for deleting an application. Does not delete physical machines", "type": "system", "uuid": "061e45ef-53a2-42a7-99d2-dc370bfc2e6c", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_service", "name": "AnsibleController", "uuid": "347807e6-43d2-40f2-82b7-ebfed05094df"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__Service_Element_Delete_347807e6_43d2_40f2_82b7_ebfed05094df", "uuid": "d369ec6c-142b-4efe-a1c9-77a60810e549"}], "name": "SYS_GEN__DAG_Service_347807e6_43d2_40f2_82b7_ebfed05094df", "state": "ACTIVE", "attrs": {"edges": [], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "27552229-8745-414a-8f9c-2b0051106494"}, {"target_any_local_reference": {"kind": "app_service", "name": "AnsibleController", "uuid": "347807e6-43d2-40f2-82b7-ebfed05094df"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__Service_Element_Delete_347807e6_43d2_40f2_82b7_ebfed05094df", "state": "ACTIVE", "attrs": {"type": ""}, "timeout_secs": "", "type": "SOFT_DELETE_ELEMENT", "variable_list": [], "uuid": "d369ec6c-142b-4efe-a1c9-77a60810e549"}], "description": "", "name": "SYS_GEN__Runbook_Service_347807e6_43d2_40f2_82b7_ebfed05094df", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__DAG_Service_347807e6_43d2_40f2_82b7_ebfed05094df", "uuid": "27552229-8745-414a-8f9c-2b0051106494"}, "message_list": [], "variable_list": [], "uuid": "79d4ac51-6d25-40ca-97a6-947fbbd18b02"}, "message_list": [], "name": "action_soft_delete"}], "depends_on_list": [], "name": "AnsibleController", "state": "ACTIVE", "port_list": [], "editables": {}, "tier": "", "message_list": [], "variable_list": [], "description": ""}], "substrate_definition_list": [{"description": "", "action_list": [{"description": "System action for creating an application", "type": "system", "uuid": "0b5fdcf3-9e9a-4e7c-884b-a961286b309c", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_substrate", "name": "AnsibleControllerSubstrate", "uuid": "1ac4dd82-69d6-4a2c-94d0-7cccc4d6c5b2"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__Nutanix_Provision_1ac4dd82_69d6_4a2c_94d0_7cccc4d6c5b2", "uuid": "b9a50be4-f02a-4fbe-98f2-6257f96c7343"}, {"kind": "app_task", "name": "SYS_GEN__check_login_for_AnsibleControllerSubstrate_1ac4dd82_69d6_4a2c_94d0_7cccc4d6c5b2", "uuid": "717d3828-c4df-4091-9e34-90ecbb483118"}], "name": "SYS_GEN__DAG_Substrate_1ac4dd82_69d6_4a2c_94d0_7cccc4d6c5b2", "state": "ACTIVE", "attrs": {"edges": [{"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__Nutanix_Provision_1ac4dd82_69d6_4a2c_94d0_7cccc4d6c5b2", "uuid": "b9a50be4-f02a-4fbe-98f2-6257f96c7343"}, "edge_type": "inherent", "type": "", "uuid": "19e09190-f6f3-4a2d-a0aa-4ea3a385f3b9", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__check_login_for_AnsibleControllerSubstrate_1ac4dd82_69d6_4a2c_94d0_7cccc4d6c5b2", "uuid": "717d3828-c4df-4091-9e34-90ecbb483118"}}], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "41d9fc99-4d19-4f39-9cb4-cb6877315c48"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "AnsibleControllerSubstrate", "uuid": "1ac4dd82-69d6-4a2c-94d0-7cccc4d6c5b2"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__Nutanix_Provision_1ac4dd82_69d6_4a2c_94d0_7cccc4d6c5b2", "state": "ACTIVE", "attrs": {"name": "DevOpsAnsibleControllerVM-@@{calm_array_index}@@", "availability_zone_reference": null, "backup_policy": null, "type": "", "cluster_reference": null, "resources": {"nic_list": [{"nic_type": "NORMAL_NIC", "ip_endpoint_list": [], "network_function_chain_reference": null, "network_function_nic_type": "INGRESS", "mac_address": "", "subnet_reference": {"kind": "subnet", "type": "", "name": "", "uuid": "5cbccfaa-9277-4d7c-9d78-36f48f8982d0"}, "type": ""}], "power_state": "ON", "guest_tools": null, "num_vcpus_per_socket": 1, "num_sockets": 2, "gpu_list": [], "memory_size_mib": 4096, "parent_reference": null, "hardware_clock_timezone": "", "guest_customization": {"cloud_init": {"meta_data": "", "type": "", "user_data": "#cloud-config\nusers:\n  - name: centos\n    ssh-authorized-keys:\n      - @@{INSTANCE_PUBLIC_KEY}@@\n    sudo: ['ALL=(ALL) NOPASSWD:ALL']"}, "type": "", "sysprep": null}, "type": "", "boot_config": {"boot_device": {"type": "", "disk_address": {"type": "", "device_index": 0, "adapter_type": "SCSI"}}, "type": "", "mac_address": ""}, "disk_list": [{"data_source_reference": {"kind": "image", "type": "", "name": "CloudInitBaseUpdated", "uuid": "0bf7741b-4363-499a-a060-5c2167865a1a"}, "type": "", "disk_size_mib": 0, "device_properties": {"type": "", "disk_address": {"type": "", "device_index": 0, "adapter_type": "SCSI"}, "device_type": "DISK"}}]}}, "timeout_secs": "", "type": "PROVISION_NUTANIX", "variable_list": [], "uuid": "b9a50be4-f02a-4fbe-98f2-6257f96c7343"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "AnsibleControllerSubstrate", "uuid": "1ac4dd82-69d6-4a2c-94d0-7cccc4d6c5b2"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__check_login_for_AnsibleControllerSubstrate_1ac4dd82_69d6_4a2c_94d0_7cccc4d6c5b2", "state": "ACTIVE", "attrs": {"type": "CHECK_LOGIN", "timeout": "60", "address": "@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@"}, "timeout_secs": "", "type": "CHECK_LOGIN", "variable_list": [], "uuid": "717d3828-c4df-4091-9e34-90ecbb483118"}], "description": "", "name": "SYS_GEN__Runbook_Substrate_1ac4dd82_69d6_4a2c_94d0_7cccc4d6c5b2", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__DAG_Substrate_1ac4dd82_69d6_4a2c_94d0_7cccc4d6c5b2", "uuid": "41d9fc99-4d19-4f39-9cb4-cb6877315c48"}, "message_list": [], "variable_list": [], "uuid": "a176e2a5-956e-42ae-9df6-11cdaf2b975f"}, "message_list": [], "name": "action_create"}, {"description": "System action for powering on an application", "type": "system", "uuid": "c069f003-4110-4b7c-bec3-43770d3b1a7b", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_substrate", "name": "AnsibleControllerSubstrate", "uuid": "1ac4dd82-69d6-4a2c-94d0-7cccc4d6c5b2"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__Nutanix_Operation_PowerOn_1ac4dd82_69d6_4a2c_94d0_7cccc4d6c5b2", "uuid": "901fded3-0326-4399-8cfe-924d72ca75f1"}, {"kind": "app_task", "name": "check_login_for_AnsibleControllerSubstrate_1ac4dd82_69d6_4a2c_94d0_7cccc4d6c5b2", "uuid": "043757b6-d6b9-4ff2-8417-711f5de4440c"}], "name": "SYS_GEN__DAG_Substrate_1ac4dd82_69d6_4a2c_94d0_7cccc4d6c5b2", "state": "ACTIVE", "attrs": {"edges": [{"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__Nutanix_Operation_PowerOn_1ac4dd82_69d6_4a2c_94d0_7cccc4d6c5b2", "uuid": "901fded3-0326-4399-8cfe-924d72ca75f1"}, "edge_type": "inherent", "type": "", "uuid": "bc0a062f-cbbd-47b3-919b-1923ec80fbc1", "to_task_reference": {"kind": "app_task", "name": "check_login_for_AnsibleControllerSubstrate_1ac4dd82_69d6_4a2c_94d0_7cccc4d6c5b2", "uuid": "043757b6-d6b9-4ff2-8417-711f5de4440c"}}], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "c134590f-8658-456c-b8c6-5a6b873f0dd9"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "AnsibleControllerSubstrate", "uuid": "1ac4dd82-69d6-4a2c-94d0-7cccc4d6c5b2"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__Nutanix_Operation_PowerOn_1ac4dd82_69d6_4a2c_94d0_7cccc4d6c5b2", "state": "ACTIVE", "attrs": {"type": "GENERIC_OPERATION"}, "timeout_secs": "", "type": "VMOPERATION_NUTANIX", "variable_list": [], "uuid": "901fded3-0326-4399-8cfe-924d72ca75f1"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "AnsibleControllerSubstrate", "uuid": "1ac4dd82-69d6-4a2c-94d0-7cccc4d6c5b2"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "check_login_for_AnsibleControllerSubstrate_1ac4dd82_69d6_4a2c_94d0_7cccc4d6c5b2", "state": "ACTIVE", "attrs": {"type": "CHECK_LOGIN", "timeout": "60", "address": "@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@"}, "timeout_secs": "", "type": "CHECK_LOGIN", "variable_list": [], "uuid": "043757b6-d6b9-4ff2-8417-711f5de4440c"}], "description": "", "name": "SYS_GEN__Runbook_Substrate_1ac4dd82_69d6_4a2c_94d0_7cccc4d6c5b2", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__DAG_Substrate_1ac4dd82_69d6_4a2c_94d0_7cccc4d6c5b2", "uuid": "c134590f-8658-456c-b8c6-5a6b873f0dd9"}, "message_list": [], "variable_list": [], "uuid": "494ac4c4-a7c6-4b5d-ba0e-fc5b83be75ab"}, "message_list": [], "name": "action_poweron"}, {"description": "System action for suspending an application", "type": "system", "uuid": "87dce6f2-b01f-45d7-b529-e6d103def368", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_substrate", "name": "AnsibleControllerSubstrate", "uuid": "1ac4dd82-69d6-4a2c-94d0-7cccc4d6c5b2"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__DAG_Substrate_1ac4dd82_69d6_4a2c_94d0_7cccc4d6c5b2", "state": "ACTIVE", "attrs": {"edges": [], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "af49cc29-badd-4460-8c0d-5f1fa4209443"}], "description": "", "name": "SYS_GEN__Runbook_Substrate_1ac4dd82_69d6_4a2c_94d0_7cccc4d6c5b2", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__DAG_Substrate_1ac4dd82_69d6_4a2c_94d0_7cccc4d6c5b2", "uuid": "af49cc29-badd-4460-8c0d-5f1fa4209443"}, "message_list": [], "variable_list": [], "uuid": "005f83fa-a26b-457a-a5dc-83718dd00b08"}, "message_list": [], "name": "action_suspend"}, {"description": "System action for modifying an application", "type": "system", "uuid": "5aca6f78-bd10-4df6-aa21-85df8cbc2e8b", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_substrate", "name": "AnsibleControllerSubstrate", "uuid": "1ac4dd82-69d6-4a2c-94d0-7cccc4d6c5b2"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__DAG_Substrate_1ac4dd82_69d6_4a2c_94d0_7cccc4d6c5b2", "state": "ACTIVE", "attrs": {"edges": [], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "0357e622-9ea9-4c19-817b-b48f4fc16b0d"}], "description": "", "name": "SYS_GEN__Runbook_Substrate_1ac4dd82_69d6_4a2c_94d0_7cccc4d6c5b2", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__DAG_Substrate_1ac4dd82_69d6_4a2c_94d0_7cccc4d6c5b2", "uuid": "0357e622-9ea9-4c19-817b-b48f4fc16b0d"}, "message_list": [], "variable_list": [], "uuid": "4755a42f-52e6-48fc-8d63-562296352826"}, "message_list": [], "name": "action_modify"}, {"description": "System action for powering off an application", "type": "system", "uuid": "035d2507-f6cb-42b7-9f76-40eab26dec54", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_substrate", "name": "AnsibleControllerSubstrate", "uuid": "1ac4dd82-69d6-4a2c-94d0-7cccc4d6c5b2"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__Nutanix_Operation_PowerOff_1ac4dd82_69d6_4a2c_94d0_7cccc4d6c5b2", "uuid": "c8b7938f-a2dc-4746-a647-d7e865746366"}], "name": "SYS_GEN__DAG_Substrate_1ac4dd82_69d6_4a2c_94d0_7cccc4d6c5b2", "state": "ACTIVE", "attrs": {"edges": [], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "63232a71-781d-4a5f-9199-840ed4ff8dbe"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "AnsibleControllerSubstrate", "uuid": "1ac4dd82-69d6-4a2c-94d0-7cccc4d6c5b2"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__Nutanix_Operation_PowerOff_1ac4dd82_69d6_4a2c_94d0_7cccc4d6c5b2", "state": "ACTIVE", "attrs": {"type": "GENERIC_OPERATION"}, "timeout_secs": "", "type": "VMOPERATION_NUTANIX", "variable_list": [], "uuid": "c8b7938f-a2dc-4746-a647-d7e865746366"}], "description": "", "name": "SYS_GEN__Runbook_Substrate_1ac4dd82_69d6_4a2c_94d0_7cccc4d6c5b2", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__DAG_Substrate_1ac4dd82_69d6_4a2c_94d0_7cccc4d6c5b2", "uuid": "63232a71-781d-4a5f-9199-840ed4ff8dbe"}, "message_list": [], "variable_list": [], "uuid": "4f575f15-b2c6-46d4-a973-0900200ac8d0"}, "message_list": [], "name": "action_poweroff"}, {"description": "System action for deleting an application. Deletes physical machines as well", "type": "system", "uuid": "8af23ac5-e71b-474b-afe9-315372e24a44", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_substrate", "name": "AnsibleControllerSubstrate", "uuid": "1ac4dd82-69d6-4a2c-94d0-7cccc4d6c5b2"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__Nutanix_Delete_1ac4dd82_69d6_4a2c_94d0_7cccc4d6c5b2", "uuid": "3bc13a32-d8fd-4af0-a8b5-363c3fecf78b"}], "name": "SYS_GEN__DAG_Substrate_1ac4dd82_69d6_4a2c_94d0_7cccc4d6c5b2", "state": "ACTIVE", "attrs": {"edges": [], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "2b977ba2-0e5b-4d3a-bdc8-9d141b01bc87"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "AnsibleControllerSubstrate", "uuid": "1ac4dd82-69d6-4a2c-94d0-7cccc4d6c5b2"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__Nutanix_Delete_1ac4dd82_69d6_4a2c_94d0_7cccc4d6c5b2", "state": "ACTIVE", "attrs": {"type": ""}, "timeout_secs": "", "type": "DELETE_NUTANIX", "variable_list": [], "uuid": "3bc13a32-d8fd-4af0-a8b5-363c3fecf78b"}], "description": "", "name": "SYS_GEN__Runbook_Substrate_1ac4dd82_69d6_4a2c_94d0_7cccc4d6c5b2", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__DAG_Substrate_1ac4dd82_69d6_4a2c_94d0_7cccc4d6c5b2", "uuid": "2b977ba2-0e5b-4d3a-bdc8-9d141b01bc87"}, "message_list": [], "variable_list": [], "uuid": "f0332f33-ac08-437e-837a-bff5be447260"}, "message_list": [], "name": "action_delete"}, {"description": "System action for deleting an application. Does not delete physical machines", "type": "system", "uuid": "b1c52163-3459-4063-b4c9-ae6a1f80d5a5", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_substrate", "name": "AnsibleControllerSubstrate", "uuid": "1ac4dd82-69d6-4a2c-94d0-7cccc4d6c5b2"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__Substrate_Element_Delete_1ac4dd82_69d6_4a2c_94d0_7cccc4d6c5b2", "uuid": "52c9d5e0-c0e3-4e54-9f54-684c41daa09d"}], "name": "SYS_GEN__DAG_Substrate_1ac4dd82_69d6_4a2c_94d0_7cccc4d6c5b2", "state": "ACTIVE", "attrs": {"edges": [], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "0889fb25-d42a-4fe3-86d1-6606e6f6faea"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "AnsibleControllerSubstrate", "uuid": "1ac4dd82-69d6-4a2c-94d0-7cccc4d6c5b2"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__Substrate_Element_Delete_1ac4dd82_69d6_4a2c_94d0_7cccc4d6c5b2", "state": "ACTIVE", "attrs": {"type": ""}, "timeout_secs": "", "type": "SOFT_DELETE_ELEMENT", "variable_list": [], "uuid": "52c9d5e0-c0e3-4e54-9f54-684c41daa09d"}], "description": "", "name": "SYS_GEN__Runbook_Substrate_1ac4dd82_69d6_4a2c_94d0_7cccc4d6c5b2", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__DAG_Substrate_1ac4dd82_69d6_4a2c_94d0_7cccc4d6c5b2", "uuid": "0889fb25-d42a-4fe3-86d1-6606e6f6faea"}, "message_list": [], "variable_list": [], "uuid": "9e0d96bd-9708-43fe-a193-a0f62b229741"}, "message_list": [], "name": "action_soft_delete"}], "type": "AHV_VM", "name": "AnsibleControllerSubstrate", "state": "ACTIVE", "readiness_probe": {"connection_type": "SSH", "disable_readiness_probe": false, "timeout_secs": "60", "address": "@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@", "connection_port": 22, "login_credential_local_reference": {"kind": "app_credential", "name": "sshkey", "uuid": "1564cca9-4cfb-4814-b6d3-cd73513754ba"}}, "editables": {}, "os_type": "Linux", "message_list": [], "create_spec": {"name": "DevOpsAnsibleControllerVM-@@{calm_array_index}@@", "availability_zone_reference": null, "backup_policy": null, "type": "", "cluster_reference": null, "resources": {"nic_list": [{"nic_type": "NORMAL_NIC", "ip_endpoint_list": [], "network_function_chain_reference": null, "network_function_nic_type": "INGRESS", "mac_address": "", "subnet_reference": {"kind": "subnet", "type": "", "name": "", "uuid": "5cbccfaa-9277-4d7c-9d78-36f48f8982d0"}, "type": ""}], "power_state": "ON", "guest_tools": null, "num_vcpus_per_socket": 1, "num_sockets": 2, "gpu_list": [], "memory_size_mib": 4096, "parent_reference": null, "hardware_clock_timezone": "", "guest_customization": {"cloud_init": {"meta_data": "", "type": "", "user_data": "#cloud-config\nusers:\n  - name: centos\n    ssh-authorized-keys:\n      - @@{INSTANCE_PUBLIC_KEY}@@\n    sudo: ['ALL=(ALL) NOPASSWD:ALL']"}, "type": "", "sysprep": null}, "type": "", "boot_config": {"boot_device": {"type": "", "disk_address": {"type": "", "device_index": 0, "adapter_type": "SCSI"}}, "type": "", "mac_address": ""}, "disk_list": [{"data_source_reference": {"kind": "image", "type": "", "name": "CloudInitBaseUpdated", "uuid": "0bf7741b-4363-499a-a060-5c2167865a1a"}, "type": "", "disk_size_mib": 0, "device_properties": {"type": "", "disk_address": {"type": "", "device_index": 0, "adapter_type": "SCSI"}, "device_type": "DISK"}}]}}, "variable_list": [], "uuid": "1ac4dd82-69d6-4a2c-94d0-7cccc4d6c5b2"}], "credential_definition_list": [{"username": "centos", "description": "", "secret": {"attrs": {"is_secret_modified": false, "secret_reference": {}}}, "name": "sshkey", "state": "ACTIVE", "editables": {"secret": true}, "type": "KEY", "uuid": "1564cca9-4cfb-4814-b6d3-cd73513754ba"}], "app_profile_list": [{"deployment_create_list": [{"description": "", "action_list": [{"description": "System action for creating an application", "type": "system", "uuid": "bdf0acdb-4f78-467a-b906-24edda92b3f0", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_blueprint_deployment", "name": "53c9da12_deployment", "uuid": "045e0d8c-3dd3-41b6-ba21-8108a3b533fe"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__DE_Provision_045e0d8c_3dd3_41b6_ba21_8108a3b533fe", "uuid": "11421e4f-2cba-4514-94e5-5817f21de087"}, {"kind": "app_task", "name": "SYS_GEN__create_CRb_Substrate_1ac4dd82_69d6_4a2c_94d0_7cccc4d6c5b2", "uuid": "8de96345-c9d0-4c4c-b40b-fcf40a4b4db1"}, {"kind": "app_task", "name": "SYS_GEN__install_CRb_Package_7fa63682_71fe_47c9_896b_4e725733ca3f", "uuid": "63715a38-af1c-4164-912a-c295c639d248"}, {"kind": "app_task", "name": "SYS_GEN__create_CRb_Service_347807e6_43d2_40f2_82b7_ebfed05094df", "uuid": "0dd10496-7ade-4ef6-a169-70a164e7fc8e"}, {"kind": "app_task", "name": "SYS_GEN__start_CRb_Service_347807e6_43d2_40f2_82b7_ebfed05094df", "uuid": "99416f73-281f-45ca-b322-c09f02adabe8"}], "name": "SYS_GEN__Composite_DAG_Deployment_045e0d8c_3dd3_41b6_ba21_8108a3b533fe", "state": "ACTIVE", "attrs": {"edges": [{"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__create_CRb_Service_347807e6_43d2_40f2_82b7_ebfed05094df", "uuid": "0dd10496-7ade-4ef6-a169-70a164e7fc8e"}, "edge_type": "inherent", "type": "", "uuid": "8bba16dd-d257-493e-82df-0f2fbca14465", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__start_CRb_Service_347807e6_43d2_40f2_82b7_ebfed05094df", "uuid": "99416f73-281f-45ca-b322-c09f02adabe8"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__install_CRb_Package_7fa63682_71fe_47c9_896b_4e725733ca3f", "uuid": "63715a38-af1c-4164-912a-c295c639d248"}, "edge_type": "inherent", "type": "", "uuid": "f6156ca0-4c55-41af-a157-654a2deec876", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__create_CRb_Service_347807e6_43d2_40f2_82b7_ebfed05094df", "uuid": "0dd10496-7ade-4ef6-a169-70a164e7fc8e"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__create_CRb_Substrate_1ac4dd82_69d6_4a2c_94d0_7cccc4d6c5b2", "uuid": "8de96345-c9d0-4c4c-b40b-fcf40a4b4db1"}, "edge_type": "inherent", "type": "", "uuid": "4176f99a-e23e-4d73-9e83-f8d010887e70", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__install_CRb_Package_7fa63682_71fe_47c9_896b_4e725733ca3f", "uuid": "63715a38-af1c-4164-912a-c295c639d248"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__DE_Provision_045e0d8c_3dd3_41b6_ba21_8108a3b533fe", "uuid": "11421e4f-2cba-4514-94e5-5817f21de087"}, "edge_type": "inherent", "type": "", "uuid": "acb30ea0-c00f-49eb-897c-9fa7f34d8f0a", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__create_CRb_Substrate_1ac4dd82_69d6_4a2c_94d0_7cccc4d6c5b2", "uuid": "8de96345-c9d0-4c4c-b40b-fcf40a4b4db1"}}], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "087bd241-d104-4e0b-9767-e214698a19b3"}, {"target_any_local_reference": {"kind": "app_blueprint_deployment", "name": "53c9da12_deployment", "uuid": "045e0d8c-3dd3-41b6-ba21-8108a3b533fe"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__DE_Provision_045e0d8c_3dd3_41b6_ba21_8108a3b533fe", "state": "ACTIVE", "attrs": {"type": ""}, "timeout_secs": "", "type": "CREATE_DEPLOYMENT_ELEMENT", "variable_list": [], "uuid": "11421e4f-2cba-4514-94e5-5817f21de087"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "AnsibleControllerSubstrate", "uuid": "1ac4dd82-69d6-4a2c-94d0-7cccc4d6c5b2"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__create_CRb_Substrate_1ac4dd82_69d6_4a2c_94d0_7cccc4d6c5b2", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Substrate_1ac4dd82_69d6_4a2c_94d0_7cccc4d6c5b2", "uuid": "a176e2a5-956e-42ae-9df6-11cdaf2b975f"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "8de96345-c9d0-4c4c-b40b-fcf40a4b4db1"}, {"target_any_local_reference": {"kind": "app_package", "name": "AnsibleControllerPackage", "uuid": "7fa63682-71fe-47c9-896b-4e725733ca3f"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__install_CRb_Package_7fa63682_71fe_47c9_896b_4e725733ca3f", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "53c9da12_deployment", "uuid": "045e0d8c-3dd3-41b6-ba21-8108a3b533fe"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Package_7fa63682_71fe_47c9_896b_4e725733ca3f", "uuid": "6af2ed6c-6ae6-4b65-8bf0-50f4eb0a6ad3"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "63715a38-af1c-4164-912a-c295c639d248"}, {"target_any_local_reference": {"kind": "app_service", "name": "AnsibleController", "uuid": "347807e6-43d2-40f2-82b7-ebfed05094df"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__create_CRb_Service_347807e6_43d2_40f2_82b7_ebfed05094df", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "53c9da12_deployment", "uuid": "045e0d8c-3dd3-41b6-ba21-8108a3b533fe"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "70713126_runbook", "uuid": "e02b7325-ce93-4b31-958c-e274515807fc"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "0dd10496-7ade-4ef6-a169-70a164e7fc8e"}, {"target_any_local_reference": {"kind": "app_service", "name": "AnsibleController", "uuid": "347807e6-43d2-40f2-82b7-ebfed05094df"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__start_CRb_Service_347807e6_43d2_40f2_82b7_ebfed05094df", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "53c9da12_deployment", "uuid": "045e0d8c-3dd3-41b6-ba21-8108a3b533fe"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "4ba9ebfe_runbook", "uuid": "7e1852ef-1cbd-42ff-a429-b9e892050030"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "99416f73-281f-45ca-b322-c09f02adabe8"}], "description": "", "name": "SYS_GEN__Runbook_Deployment_045e0d8c_3dd3_41b6_ba21_8108a3b533fe", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Deployment_045e0d8c_3dd3_41b6_ba21_8108a3b533fe", "uuid": "087bd241-d104-4e0b-9767-e214698a19b3"}, "message_list": [], "variable_list": [], "uuid": "cc4792e0-8dac-4ef3-9425-1cc243b8a834"}, "message_list": [], "name": "action_create"}, {"description": "System action for starting an application", "type": "system", "uuid": "d475879d-0d4e-4b89-9487-812e624d433e", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_blueprint_deployment", "name": "53c9da12_deployment", "uuid": "045e0d8c-3dd3-41b6-ba21-8108a3b533fe"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__start_CRb_Substrate_1ac4dd82_69d6_4a2c_94d0_7cccc4d6c5b2", "uuid": "00fa6982-caca-45ed-9667-15e726ab604a"}, {"kind": "app_task", "name": "SYS_GEN__start_CRb_Service_347807e6_43d2_40f2_82b7_ebfed05094df", "uuid": "9be3da5c-97e4-4122-ac00-41f8977e7e4d"}], "name": "SYS_GEN__Composite_DAG_Deployment_045e0d8c_3dd3_41b6_ba21_8108a3b533fe", "state": "ACTIVE", "attrs": {"edges": [{"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__start_CRb_Substrate_1ac4dd82_69d6_4a2c_94d0_7cccc4d6c5b2", "uuid": "00fa6982-caca-45ed-9667-15e726ab604a"}, "edge_type": "inherent", "type": "", "uuid": "4b190cf7-ff32-40b0-8939-c54e7c24c3a1", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__start_CRb_Service_347807e6_43d2_40f2_82b7_ebfed05094df", "uuid": "9be3da5c-97e4-4122-ac00-41f8977e7e4d"}}], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "11da8ab2-0b79-4bd7-ba6f-70274bf29c64"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "AnsibleControllerSubstrate", "uuid": "1ac4dd82-69d6-4a2c-94d0-7cccc4d6c5b2"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__start_CRb_Substrate_1ac4dd82_69d6_4a2c_94d0_7cccc4d6c5b2", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Substrate_1ac4dd82_69d6_4a2c_94d0_7cccc4d6c5b2", "uuid": "494ac4c4-a7c6-4b5d-ba0e-fc5b83be75ab"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "00fa6982-caca-45ed-9667-15e726ab604a"}, {"target_any_local_reference": {"kind": "app_service", "name": "AnsibleController", "uuid": "347807e6-43d2-40f2-82b7-ebfed05094df"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__start_CRb_Service_347807e6_43d2_40f2_82b7_ebfed05094df", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "53c9da12_deployment", "uuid": "045e0d8c-3dd3-41b6-ba21-8108a3b533fe"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "4ba9ebfe_runbook", "uuid": "7e1852ef-1cbd-42ff-a429-b9e892050030"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "9be3da5c-97e4-4122-ac00-41f8977e7e4d"}], "description": "", "name": "SYS_GEN__Runbook_Deployment_045e0d8c_3dd3_41b6_ba21_8108a3b533fe", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Deployment_045e0d8c_3dd3_41b6_ba21_8108a3b533fe", "uuid": "11da8ab2-0b79-4bd7-ba6f-70274bf29c64"}, "message_list": [], "variable_list": [], "uuid": "8a49bf97-482d-4992-867c-bb4fabf874ad"}, "message_list": [], "name": "action_start"}, {"description": "System action for stopping an application", "type": "system", "uuid": "e32b65a2-b6ea-4bb2-91db-c0343a5c1473", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_blueprint_deployment", "name": "53c9da12_deployment", "uuid": "045e0d8c-3dd3-41b6-ba21-8108a3b533fe"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__stop_CRb_Service_347807e6_43d2_40f2_82b7_ebfed05094df", "uuid": "cfb47174-9c78-4720-b40f-de74e7617add"}, {"kind": "app_task", "name": "SYS_GEN__stop_CRb_Substrate_1ac4dd82_69d6_4a2c_94d0_7cccc4d6c5b2", "uuid": "c47e40e9-2cab-423e-ad1e-68ff69fb903c"}], "name": "SYS_GEN__Composite_DAG_Deployment_045e0d8c_3dd3_41b6_ba21_8108a3b533fe", "state": "ACTIVE", "attrs": {"edges": [{"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__stop_CRb_Service_347807e6_43d2_40f2_82b7_ebfed05094df", "uuid": "cfb47174-9c78-4720-b40f-de74e7617add"}, "edge_type": "inherent", "type": "", "uuid": "4c868841-7f0b-435f-9c05-787450c63058", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__stop_CRb_Substrate_1ac4dd82_69d6_4a2c_94d0_7cccc4d6c5b2", "uuid": "c47e40e9-2cab-423e-ad1e-68ff69fb903c"}}], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "8a8c67a7-260b-48e5-aa72-37806b1b49e2"}, {"target_any_local_reference": {"kind": "app_service", "name": "AnsibleController", "uuid": "347807e6-43d2-40f2-82b7-ebfed05094df"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__stop_CRb_Service_347807e6_43d2_40f2_82b7_ebfed05094df", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "53c9da12_deployment", "uuid": "045e0d8c-3dd3-41b6-ba21-8108a3b533fe"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "5fd3ca2f_runbook", "uuid": "2b54c863-fd4a-4e05-b699-8d821eef432b"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "cfb47174-9c78-4720-b40f-de74e7617add"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "AnsibleControllerSubstrate", "uuid": "1ac4dd82-69d6-4a2c-94d0-7cccc4d6c5b2"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__stop_CRb_Substrate_1ac4dd82_69d6_4a2c_94d0_7cccc4d6c5b2", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Substrate_1ac4dd82_69d6_4a2c_94d0_7cccc4d6c5b2", "uuid": "4f575f15-b2c6-46d4-a973-0900200ac8d0"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "c47e40e9-2cab-423e-ad1e-68ff69fb903c"}], "description": "", "name": "SYS_GEN__Runbook_Deployment_045e0d8c_3dd3_41b6_ba21_8108a3b533fe", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Deployment_045e0d8c_3dd3_41b6_ba21_8108a3b533fe", "uuid": "8a8c67a7-260b-48e5-aa72-37806b1b49e2"}, "message_list": [], "variable_list": [], "uuid": "7293a8f5-718f-443b-991d-a80297dcfe55"}, "message_list": [], "name": "action_stop"}, {"description": "System action for deleting an application. Deletes physical machines as well", "type": "system", "uuid": "29a3c582-f668-4841-8b42-d3cd78b24a3b", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_blueprint_deployment", "name": "53c9da12_deployment", "uuid": "045e0d8c-3dd3-41b6-ba21-8108a3b533fe"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__stop_CRb_Service_347807e6_43d2_40f2_82b7_ebfed05094df", "uuid": "ee10d7a9-5196-4524-8c05-4139a2a1d48d"}, {"kind": "app_task", "name": "SYS_GEN__delete_CRb_Service_347807e6_43d2_40f2_82b7_ebfed05094df", "uuid": "d1f74044-91a9-42f9-a6e6-675df7fbeddf"}, {"kind": "app_task", "name": "SYS_GEN__uninstall_CRb_Package_7fa63682_71fe_47c9_896b_4e725733ca3f", "uuid": "c9a569ac-0c70-4ff0-88fc-fab6b92ebec7"}, {"kind": "app_task", "name": "SYS_GEN__delete_CRb_Substrate_1ac4dd82_69d6_4a2c_94d0_7cccc4d6c5b2", "uuid": "a0d0ff23-4517-4c8d-bf1d-20f866667921"}, {"kind": "app_task", "name": "SYS_GEN__DE_Delete_045e0d8c_3dd3_41b6_ba21_8108a3b533fe", "uuid": "fe610d88-5100-474d-b9a4-605d009f7756"}], "name": "SYS_GEN__Composite_DAG_Deployment_045e0d8c_3dd3_41b6_ba21_8108a3b533fe", "state": "ACTIVE", "attrs": {"edges": [{"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__stop_CRb_Service_347807e6_43d2_40f2_82b7_ebfed05094df", "uuid": "ee10d7a9-5196-4524-8c05-4139a2a1d48d"}, "edge_type": "inherent", "type": "", "uuid": "32cdf4e2-e081-48e8-bedd-0d5d254477cf", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__delete_CRb_Service_347807e6_43d2_40f2_82b7_ebfed05094df", "uuid": "d1f74044-91a9-42f9-a6e6-675df7fbeddf"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__delete_CRb_Service_347807e6_43d2_40f2_82b7_ebfed05094df", "uuid": "d1f74044-91a9-42f9-a6e6-675df7fbeddf"}, "edge_type": "inherent", "type": "", "uuid": "af140c3c-ad4d-4f89-b526-aac5e170455c", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__uninstall_CRb_Package_7fa63682_71fe_47c9_896b_4e725733ca3f", "uuid": "c9a569ac-0c70-4ff0-88fc-fab6b92ebec7"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__delete_CRb_Substrate_1ac4dd82_69d6_4a2c_94d0_7cccc4d6c5b2", "uuid": "a0d0ff23-4517-4c8d-bf1d-20f866667921"}, "edge_type": "inherent", "type": "", "uuid": "7c7c65cb-b22e-4604-a4bc-63e3069eff84", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__DE_Delete_045e0d8c_3dd3_41b6_ba21_8108a3b533fe", "uuid": "fe610d88-5100-474d-b9a4-605d009f7756"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__uninstall_CRb_Package_7fa63682_71fe_47c9_896b_4e725733ca3f", "uuid": "c9a569ac-0c70-4ff0-88fc-fab6b92ebec7"}, "edge_type": "inherent", "type": "", "uuid": "edfc6c35-7c22-4416-ba1a-8d54fe780147", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__delete_CRb_Substrate_1ac4dd82_69d6_4a2c_94d0_7cccc4d6c5b2", "uuid": "a0d0ff23-4517-4c8d-bf1d-20f866667921"}}], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "888d0969-7d86-497b-ae86-d54a15d2b8a8"}, {"target_any_local_reference": {"kind": "app_service", "name": "AnsibleController", "uuid": "347807e6-43d2-40f2-82b7-ebfed05094df"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__stop_CRb_Service_347807e6_43d2_40f2_82b7_ebfed05094df", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "53c9da12_deployment", "uuid": "045e0d8c-3dd3-41b6-ba21-8108a3b533fe"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "5fd3ca2f_runbook", "uuid": "2b54c863-fd4a-4e05-b699-8d821eef432b"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "ee10d7a9-5196-4524-8c05-4139a2a1d48d"}, {"target_any_local_reference": {"kind": "app_service", "name": "AnsibleController", "uuid": "347807e6-43d2-40f2-82b7-ebfed05094df"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__delete_CRb_Service_347807e6_43d2_40f2_82b7_ebfed05094df", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "53c9da12_deployment", "uuid": "045e0d8c-3dd3-41b6-ba21-8108a3b533fe"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "5a9cb31e_runbook", "uuid": "2b7f3fc6-ebb8-4e92-ac4d-406fc3910644"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "d1f74044-91a9-42f9-a6e6-675df7fbeddf"}, {"target_any_local_reference": {"kind": "app_package", "name": "AnsibleControllerPackage", "uuid": "7fa63682-71fe-47c9-896b-4e725733ca3f"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__uninstall_CRb_Package_7fa63682_71fe_47c9_896b_4e725733ca3f", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "53c9da12_deployment", "uuid": "045e0d8c-3dd3-41b6-ba21-8108a3b533fe"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Package_7fa63682_71fe_47c9_896b_4e725733ca3f", "uuid": "dd699849-42d2-4d95-bcbb-395fc1a8096b"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "c9a569ac-0c70-4ff0-88fc-fab6b92ebec7"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "AnsibleControllerSubstrate", "uuid": "1ac4dd82-69d6-4a2c-94d0-7cccc4d6c5b2"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__delete_CRb_Substrate_1ac4dd82_69d6_4a2c_94d0_7cccc4d6c5b2", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Substrate_1ac4dd82_69d6_4a2c_94d0_7cccc4d6c5b2", "uuid": "f0332f33-ac08-437e-837a-bff5be447260"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "a0d0ff23-4517-4c8d-bf1d-20f866667921"}, {"target_any_local_reference": {"kind": "app_blueprint_deployment", "name": "53c9da12_deployment", "uuid": "045e0d8c-3dd3-41b6-ba21-8108a3b533fe"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__DE_Delete_045e0d8c_3dd3_41b6_ba21_8108a3b533fe", "state": "ACTIVE", "attrs": {"type": ""}, "timeout_secs": "", "type": "DELETE_DEPLOYMENT_ELEMENT", "variable_list": [], "uuid": "fe610d88-5100-474d-b9a4-605d009f7756"}], "description": "", "name": "SYS_GEN__Runbook_Deployment_045e0d8c_3dd3_41b6_ba21_8108a3b533fe", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Deployment_045e0d8c_3dd3_41b6_ba21_8108a3b533fe", "uuid": "888d0969-7d86-497b-ae86-d54a15d2b8a8"}, "message_list": [], "variable_list": [], "uuid": "9e4b4749-0f2d-4219-acaa-7d38be064c23"}, "message_list": [], "name": "action_delete"}, {"description": "System action for scaleout", "type": "system", "uuid": "18344ce7-83df-49b4-a75d-924f1c58f3ad", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_blueprint_deployment", "name": "53c9da12_deployment", "uuid": "045e0d8c-3dd3-41b6-ba21-8108a3b533fe"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__Deployment_Scaleout_045e0d8c_3dd3_41b6_ba21_8108a3b533fe", "uuid": "52339af5-f354-4683-a03c-ce562349684e"}], "name": "SYS_GEN__Composite_DAG_Deployment_045e0d8c_3dd3_41b6_ba21_8108a3b533fe", "state": "ACTIVE", "attrs": {"edges": [], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "489715ca-f1fb-4315-8c89-8a925c1da0ca"}, {"target_any_local_reference": {"kind": "app_blueprint_deployment", "name": "53c9da12_deployment", "uuid": "045e0d8c-3dd3-41b6-ba21-8108a3b533fe"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__Deployment_Scaleout_045e0d8c_3dd3_41b6_ba21_8108a3b533fe", "state": "ACTIVE", "attrs": {"scaling_count": "@@{scaling_count}@@", "type": "", "scaling_type": "SCALEOUT"}, "timeout_secs": "", "type": "SCALING", "variable_list": [], "uuid": "52339af5-f354-4683-a03c-ce562349684e"}], "description": "", "name": "SYS_GEN__Runbook_Deployment_045e0d8c_3dd3_41b6_ba21_8108a3b533fe", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Deployment_045e0d8c_3dd3_41b6_ba21_8108a3b533fe", "uuid": "489715ca-f1fb-4315-8c89-8a925c1da0ca"}, "message_list": [], "variable_list": [], "uuid": "fbd3117a-e52e-4ae4-a64e-764947c27e1c"}, "message_list": [], "name": "action_scaleout"}, {"description": "System action for scalein", "type": "system", "uuid": "25264308-8b3a-44a5-aac9-52d1140395e7", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_blueprint_deployment", "name": "53c9da12_deployment", "uuid": "045e0d8c-3dd3-41b6-ba21-8108a3b533fe"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__Deployment_Scalein_045e0d8c_3dd3_41b6_ba21_8108a3b533fe", "uuid": "158607fc-5589-4f97-b486-89c9fdb2986e"}], "name": "SYS_GEN__Composite_DAG_Deployment_045e0d8c_3dd3_41b6_ba21_8108a3b533fe", "state": "ACTIVE", "attrs": {"edges": [], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "8e10571b-0a40-4ad1-b157-fd09304d2759"}, {"target_any_local_reference": {"kind": "app_blueprint_deployment", "name": "53c9da12_deployment", "uuid": "045e0d8c-3dd3-41b6-ba21-8108a3b533fe"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__Deployment_Scalein_045e0d8c_3dd3_41b6_ba21_8108a3b533fe", "state": "ACTIVE", "attrs": {"scaling_count": "@@{scaling_count}@@", "type": "", "scaling_type": "SCALEIN"}, "timeout_secs": "", "type": "SCALING", "variable_list": [], "uuid": "158607fc-5589-4f97-b486-89c9fdb2986e"}], "description": "", "name": "SYS_GEN__Runbook_Deployment_045e0d8c_3dd3_41b6_ba21_8108a3b533fe", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Deployment_045e0d8c_3dd3_41b6_ba21_8108a3b533fe", "uuid": "8e10571b-0a40-4ad1-b157-fd09304d2759"}, "message_list": [], "variable_list": [], "uuid": "033bda8b-99a5-46bc-a5a1-1440d724b4ba"}, "message_list": [], "name": "action_scalein"}, {"description": "System action for deleting an application. Does not delete physical machines", "type": "system", "uuid": "7f8bb636-788e-4e5d-bfd2-2b99a555c971", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_blueprint_deployment", "name": "53c9da12_deployment", "uuid": "045e0d8c-3dd3-41b6-ba21-8108a3b533fe"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__soft_delete_CRb_Service_347807e6_43d2_40f2_82b7_ebfed05094df", "uuid": "0b87702b-947f-4e87-a7d9-ead50a740258"}, {"kind": "app_task", "name": "SYS_GEN__Package_Element_Delete_7fa63682_71fe_47c9_896b_4e725733ca3f", "uuid": "aec6f838-9792-4fde-8761-f61a9196c784"}, {"kind": "app_task", "name": "SYS_GEN__soft_delete_CRb_Substrate_1ac4dd82_69d6_4a2c_94d0_7cccc4d6c5b2", "uuid": "cd12d706-db44-4430-9cbb-d57d3f08e391"}, {"kind": "app_task", "name": "SYS_GEN__DE_Soft_Delete_045e0d8c_3dd3_41b6_ba21_8108a3b533fe", "uuid": "a75abdaa-59c6-4b81-9f91-688f6d5511c5"}], "name": "SYS_GEN__Composite_DAG_Deployment_045e0d8c_3dd3_41b6_ba21_8108a3b533fe", "state": "ACTIVE", "attrs": {"edges": [{"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__soft_delete_CRb_Service_347807e6_43d2_40f2_82b7_ebfed05094df", "uuid": "0b87702b-947f-4e87-a7d9-ead50a740258"}, "edge_type": "inherent", "type": "", "uuid": "7166b832-c1dd-4dba-8784-e5349eff57d8", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__Package_Element_Delete_7fa63682_71fe_47c9_896b_4e725733ca3f", "uuid": "aec6f838-9792-4fde-8761-f61a9196c784"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__soft_delete_CRb_Substrate_1ac4dd82_69d6_4a2c_94d0_7cccc4d6c5b2", "uuid": "cd12d706-db44-4430-9cbb-d57d3f08e391"}, "edge_type": "inherent", "type": "", "uuid": "87934a4b-8e68-4499-b5cf-3639abbce16a", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__DE_Soft_Delete_045e0d8c_3dd3_41b6_ba21_8108a3b533fe", "uuid": "a75abdaa-59c6-4b81-9f91-688f6d5511c5"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__Package_Element_Delete_7fa63682_71fe_47c9_896b_4e725733ca3f", "uuid": "aec6f838-9792-4fde-8761-f61a9196c784"}, "edge_type": "inherent", "type": "", "uuid": "2134b0bc-8198-466e-ac4e-a78c6a39a624", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__soft_delete_CRb_Substrate_1ac4dd82_69d6_4a2c_94d0_7cccc4d6c5b2", "uuid": "cd12d706-db44-4430-9cbb-d57d3f08e391"}}], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "37ae75d9-5f59-4d04-9391-ecb6a4d90266"}, {"target_any_local_reference": {"kind": "app_service", "name": "AnsibleController", "uuid": "347807e6-43d2-40f2-82b7-ebfed05094df"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__soft_delete_CRb_Service_347807e6_43d2_40f2_82b7_ebfed05094df", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "53c9da12_deployment", "uuid": "045e0d8c-3dd3-41b6-ba21-8108a3b533fe"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Service_347807e6_43d2_40f2_82b7_ebfed05094df", "uuid": "79d4ac51-6d25-40ca-97a6-947fbbd18b02"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "0b87702b-947f-4e87-a7d9-ead50a740258"}, {"target_any_local_reference": {"kind": "app_package", "name": "AnsibleControllerPackage", "uuid": "7fa63682-71fe-47c9-896b-4e725733ca3f"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__Package_Element_Delete_7fa63682_71fe_47c9_896b_4e725733ca3f", "state": "ACTIVE", "attrs": {"type": ""}, "timeout_secs": "", "type": "SOFT_DELETE_ELEMENT", "variable_list": [], "uuid": "aec6f838-9792-4fde-8761-f61a9196c784"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "AnsibleControllerSubstrate", "uuid": "1ac4dd82-69d6-4a2c-94d0-7cccc4d6c5b2"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__soft_delete_CRb_Substrate_1ac4dd82_69d6_4a2c_94d0_7cccc4d6c5b2", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Substrate_1ac4dd82_69d6_4a2c_94d0_7cccc4d6c5b2", "uuid": "9e0d96bd-9708-43fe-a193-a0f62b229741"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "cd12d706-db44-4430-9cbb-d57d3f08e391"}, {"target_any_local_reference": {"kind": "app_blueprint_deployment", "name": "53c9da12_deployment", "uuid": "045e0d8c-3dd3-41b6-ba21-8108a3b533fe"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__DE_Soft_Delete_045e0d8c_3dd3_41b6_ba21_8108a3b533fe", "state": "ACTIVE", "attrs": {"type": ""}, "timeout_secs": "", "type": "SOFT_DELETE_DEPLOYMENT_ELEMENT", "variable_list": [], "uuid": "a75abdaa-59c6-4b81-9f91-688f6d5511c5"}], "description": "", "name": "SYS_GEN__Runbook_Deployment_045e0d8c_3dd3_41b6_ba21_8108a3b533fe", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Deployment_045e0d8c_3dd3_41b6_ba21_8108a3b533fe", "uuid": "37ae75d9-5f59-4d04-9391-ecb6a4d90266"}, "message_list": [], "variable_list": [], "uuid": "2533b47a-3974-4a0d-b7b0-12ff56a39fc6"}, "message_list": [], "name": "action_soft_delete"}], "message_list": [], "editables": {}, "name": "53c9da12_deployment", "state": "ACTIVE", "max_replicas": "1", "package_local_reference_list": [{"kind": "app_package", "name": "AnsibleControllerPackage", "uuid": "7fa63682-71fe-47c9-896b-4e725733ca3f"}], "substrate_local_reference": {"kind": "app_substrate", "name": "AnsibleControllerSubstrate", "uuid": "1ac4dd82-69d6-4a2c-94d0-7cccc4d6c5b2"}, "min_replicas": "1", "variable_list": [], "uuid": "045e0d8c-3dd3-41b6-ba21-8108a3b533fe"}], "description": "", "action_list": [{"description": "System action for creating an application", "type": "system", "uuid": "508afb9b-cacf-4a01-9337-e39ec8a3b0bf", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_profile", "name": "AHV", "uuid": "53797f4e-003b-4b35-8ad2-bbee04634c21"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__DE_Provision_045e0d8c_3dd3_41b6_ba21_8108a3b533fe", "uuid": "61835025-b19c-412a-94ed-d2f9d64157ed"}, {"kind": "app_task", "name": "SYS_GEN__create_CRb_Substrate_1ac4dd82_69d6_4a2c_94d0_7cccc4d6c5b2", "uuid": "8c676de8-8a7c-4128-93ec-a64a6ec82914"}, {"kind": "app_task", "name": "SYS_GEN__install_CRb_Package_7fa63682_71fe_47c9_896b_4e725733ca3f", "uuid": "2f963069-db23-49dd-ad88-28b4b67a51d4"}, {"kind": "app_task", "name": "SYS_GEN__create_CRb_Service_347807e6_43d2_40f2_82b7_ebfed05094df", "uuid": "eeb0fd0c-2ef8-4b6a-9044-02da098cebcd"}, {"kind": "app_task", "name": "SYS_GEN__start_CRb_Service_347807e6_43d2_40f2_82b7_ebfed05094df", "uuid": "88e95a4b-b859-4364-a64a-df0fbf7ca83e"}], "name": "SYS_GEN__Composite_DAG_Application_53797f4e_003b_4b35_8ad2_bbee04634c21", "state": "ACTIVE", "attrs": {"edges": [{"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__create_CRb_Service_347807e6_43d2_40f2_82b7_ebfed05094df", "uuid": "eeb0fd0c-2ef8-4b6a-9044-02da098cebcd"}, "edge_type": "inherent", "type": "", "uuid": "8e8c45c4-fde7-474b-8419-732dbb66d5b3", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__start_CRb_Service_347807e6_43d2_40f2_82b7_ebfed05094df", "uuid": "88e95a4b-b859-4364-a64a-df0fbf7ca83e"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__install_CRb_Package_7fa63682_71fe_47c9_896b_4e725733ca3f", "uuid": "2f963069-db23-49dd-ad88-28b4b67a51d4"}, "edge_type": "inherent", "type": "", "uuid": "6535150a-0fc6-427d-bd4a-f8c6f2abf7eb", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__create_CRb_Service_347807e6_43d2_40f2_82b7_ebfed05094df", "uuid": "eeb0fd0c-2ef8-4b6a-9044-02da098cebcd"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__create_CRb_Substrate_1ac4dd82_69d6_4a2c_94d0_7cccc4d6c5b2", "uuid": "8c676de8-8a7c-4128-93ec-a64a6ec82914"}, "edge_type": "inherent", "type": "", "uuid": "385907de-506a-45fb-8e44-7372a53b706a", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__install_CRb_Package_7fa63682_71fe_47c9_896b_4e725733ca3f", "uuid": "2f963069-db23-49dd-ad88-28b4b67a51d4"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__DE_Provision_045e0d8c_3dd3_41b6_ba21_8108a3b533fe", "uuid": "61835025-b19c-412a-94ed-d2f9d64157ed"}, "edge_type": "inherent", "type": "", "uuid": "399d457d-209d-410a-a7dc-9860c1ed116b", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__create_CRb_Substrate_1ac4dd82_69d6_4a2c_94d0_7cccc4d6c5b2", "uuid": "8c676de8-8a7c-4128-93ec-a64a6ec82914"}}], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "904e0f4c-f41b-43f1-b0b8-38b0df9373e1"}, {"target_any_local_reference": {"kind": "app_blueprint_deployment", "name": "53c9da12_deployment", "uuid": "045e0d8c-3dd3-41b6-ba21-8108a3b533fe"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__DE_Provision_045e0d8c_3dd3_41b6_ba21_8108a3b533fe", "state": "ACTIVE", "attrs": {"type": ""}, "timeout_secs": "", "type": "CREATE_DEPLOYMENT_ELEMENT", "variable_list": [], "uuid": "61835025-b19c-412a-94ed-d2f9d64157ed"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "AnsibleControllerSubstrate", "uuid": "1ac4dd82-69d6-4a2c-94d0-7cccc4d6c5b2"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__create_CRb_Substrate_1ac4dd82_69d6_4a2c_94d0_7cccc4d6c5b2", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Substrate_1ac4dd82_69d6_4a2c_94d0_7cccc4d6c5b2", "uuid": "a176e2a5-956e-42ae-9df6-11cdaf2b975f"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "8c676de8-8a7c-4128-93ec-a64a6ec82914"}, {"target_any_local_reference": {"kind": "app_package", "name": "AnsibleControllerPackage", "uuid": "7fa63682-71fe-47c9-896b-4e725733ca3f"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__install_CRb_Package_7fa63682_71fe_47c9_896b_4e725733ca3f", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "53c9da12_deployment", "uuid": "045e0d8c-3dd3-41b6-ba21-8108a3b533fe"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Package_7fa63682_71fe_47c9_896b_4e725733ca3f", "uuid": "6af2ed6c-6ae6-4b65-8bf0-50f4eb0a6ad3"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "2f963069-db23-49dd-ad88-28b4b67a51d4"}, {"target_any_local_reference": {"kind": "app_service", "name": "AnsibleController", "uuid": "347807e6-43d2-40f2-82b7-ebfed05094df"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__create_CRb_Service_347807e6_43d2_40f2_82b7_ebfed05094df", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "53c9da12_deployment", "uuid": "045e0d8c-3dd3-41b6-ba21-8108a3b533fe"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "70713126_runbook", "uuid": "e02b7325-ce93-4b31-958c-e274515807fc"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "eeb0fd0c-2ef8-4b6a-9044-02da098cebcd"}, {"target_any_local_reference": {"kind": "app_service", "name": "AnsibleController", "uuid": "347807e6-43d2-40f2-82b7-ebfed05094df"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__start_CRb_Service_347807e6_43d2_40f2_82b7_ebfed05094df", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "53c9da12_deployment", "uuid": "045e0d8c-3dd3-41b6-ba21-8108a3b533fe"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "4ba9ebfe_runbook", "uuid": "7e1852ef-1cbd-42ff-a429-b9e892050030"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "88e95a4b-b859-4364-a64a-df0fbf7ca83e"}], "description": "", "name": "SYS_GEN__Runbook_Application_53797f4e_003b_4b35_8ad2_bbee04634c21", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Application_53797f4e_003b_4b35_8ad2_bbee04634c21", "uuid": "904e0f4c-f41b-43f1-b0b8-38b0df9373e1"}, "message_list": [], "variable_list": [], "uuid": "39d9c21e-523f-47ab-a42c-acfedcaf4811"}, "message_list": [], "name": "action_create"}, {"description": "System action for starting an application", "type": "system", "uuid": "e01f1bc1-bd00-49cc-ac04-332aa6fe377b", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_profile", "name": "AHV", "uuid": "53797f4e-003b-4b35-8ad2-bbee04634c21"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__start_CRb_Substrate_1ac4dd82_69d6_4a2c_94d0_7cccc4d6c5b2", "uuid": "a240054a-9bd3-4088-b7ef-3e3cf2d4c0f1"}, {"kind": "app_task", "name": "SYS_GEN__start_CRb_Service_347807e6_43d2_40f2_82b7_ebfed05094df", "uuid": "90c28027-9eb6-435c-9045-f67c16a05d2d"}], "name": "SYS_GEN__Composite_DAG_Application_53797f4e_003b_4b35_8ad2_bbee04634c21", "state": "ACTIVE", "attrs": {"edges": [{"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__start_CRb_Substrate_1ac4dd82_69d6_4a2c_94d0_7cccc4d6c5b2", "uuid": "a240054a-9bd3-4088-b7ef-3e3cf2d4c0f1"}, "edge_type": "inherent", "type": "", "uuid": "316509fb-f66b-4439-9380-e62986cffabd", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__start_CRb_Service_347807e6_43d2_40f2_82b7_ebfed05094df", "uuid": "90c28027-9eb6-435c-9045-f67c16a05d2d"}}], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "bccd665c-9347-498e-a0fe-396d201a5fd3"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "AnsibleControllerSubstrate", "uuid": "1ac4dd82-69d6-4a2c-94d0-7cccc4d6c5b2"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__start_CRb_Substrate_1ac4dd82_69d6_4a2c_94d0_7cccc4d6c5b2", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Substrate_1ac4dd82_69d6_4a2c_94d0_7cccc4d6c5b2", "uuid": "494ac4c4-a7c6-4b5d-ba0e-fc5b83be75ab"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "a240054a-9bd3-4088-b7ef-3e3cf2d4c0f1"}, {"target_any_local_reference": {"kind": "app_service", "name": "AnsibleController", "uuid": "347807e6-43d2-40f2-82b7-ebfed05094df"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__start_CRb_Service_347807e6_43d2_40f2_82b7_ebfed05094df", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "53c9da12_deployment", "uuid": "045e0d8c-3dd3-41b6-ba21-8108a3b533fe"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "4ba9ebfe_runbook", "uuid": "7e1852ef-1cbd-42ff-a429-b9e892050030"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "90c28027-9eb6-435c-9045-f67c16a05d2d"}], "description": "", "name": "SYS_GEN__Runbook_Application_53797f4e_003b_4b35_8ad2_bbee04634c21", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Application_53797f4e_003b_4b35_8ad2_bbee04634c21", "uuid": "bccd665c-9347-498e-a0fe-396d201a5fd3"}, "message_list": [], "variable_list": [], "uuid": "1391ed9e-0ab9-420a-ae18-d03b1f435de3"}, "message_list": [], "name": "action_start"}, {"description": "System action for stopping an application", "type": "system", "uuid": "3978d10a-6273-47a5-901f-01cddd981ca3", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_profile", "name": "AHV", "uuid": "53797f4e-003b-4b35-8ad2-bbee04634c21"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__stop_CRb_Service_347807e6_43d2_40f2_82b7_ebfed05094df", "uuid": "11b1cdc9-b856-48ab-bd43-a952072f3ba0"}, {"kind": "app_task", "name": "SYS_GEN__stop_CRb_Substrate_1ac4dd82_69d6_4a2c_94d0_7cccc4d6c5b2", "uuid": "1219beb4-3631-4dc0-be2b-000d3b4ff137"}], "name": "SYS_GEN__Composite_DAG_Application_53797f4e_003b_4b35_8ad2_bbee04634c21", "state": "ACTIVE", "attrs": {"edges": [{"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__stop_CRb_Service_347807e6_43d2_40f2_82b7_ebfed05094df", "uuid": "11b1cdc9-b856-48ab-bd43-a952072f3ba0"}, "edge_type": "inherent", "type": "", "uuid": "c493afce-0cb7-45f0-94b6-dba374b1d336", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__stop_CRb_Substrate_1ac4dd82_69d6_4a2c_94d0_7cccc4d6c5b2", "uuid": "1219beb4-3631-4dc0-be2b-000d3b4ff137"}}], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "da422855-3804-4a01-8411-ff55840c4098"}, {"target_any_local_reference": {"kind": "app_service", "name": "AnsibleController", "uuid": "347807e6-43d2-40f2-82b7-ebfed05094df"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__stop_CRb_Service_347807e6_43d2_40f2_82b7_ebfed05094df", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "53c9da12_deployment", "uuid": "045e0d8c-3dd3-41b6-ba21-8108a3b533fe"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "5fd3ca2f_runbook", "uuid": "2b54c863-fd4a-4e05-b699-8d821eef432b"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "11b1cdc9-b856-48ab-bd43-a952072f3ba0"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "AnsibleControllerSubstrate", "uuid": "1ac4dd82-69d6-4a2c-94d0-7cccc4d6c5b2"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__stop_CRb_Substrate_1ac4dd82_69d6_4a2c_94d0_7cccc4d6c5b2", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Substrate_1ac4dd82_69d6_4a2c_94d0_7cccc4d6c5b2", "uuid": "4f575f15-b2c6-46d4-a973-0900200ac8d0"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "1219beb4-3631-4dc0-be2b-000d3b4ff137"}], "description": "", "name": "SYS_GEN__Runbook_Application_53797f4e_003b_4b35_8ad2_bbee04634c21", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Application_53797f4e_003b_4b35_8ad2_bbee04634c21", "uuid": "da422855-3804-4a01-8411-ff55840c4098"}, "message_list": [], "variable_list": [], "uuid": "e26f3104-8529-4b34-86f8-9812a81d1a39"}, "message_list": [], "name": "action_stop"}, {"description": "System action for deleting an application. Deletes physical machines as well", "type": "system", "uuid": "04a82f62-0c79-4924-8681-56bc23f2fe87", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_profile", "name": "AHV", "uuid": "53797f4e-003b-4b35-8ad2-bbee04634c21"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__stop_CRb_Service_347807e6_43d2_40f2_82b7_ebfed05094df", "uuid": "1b430857-ea38-46e3-9d58-b8bc7f43f020"}, {"kind": "app_task", "name": "SYS_GEN__delete_CRb_Service_347807e6_43d2_40f2_82b7_ebfed05094df", "uuid": "00563478-3b22-4536-b813-7c21123bb8c1"}, {"kind": "app_task", "name": "SYS_GEN__uninstall_CRb_Package_7fa63682_71fe_47c9_896b_4e725733ca3f", "uuid": "8c0ddaf1-c6d3-4f5e-90fe-0d4d5f69aae8"}, {"kind": "app_task", "name": "SYS_GEN__delete_CRb_Substrate_1ac4dd82_69d6_4a2c_94d0_7cccc4d6c5b2", "uuid": "0c50655c-eead-4fb1-a50b-309a860a20c3"}, {"kind": "app_task", "name": "SYS_GEN__DE_Delete_045e0d8c_3dd3_41b6_ba21_8108a3b533fe", "uuid": "3e52ac4d-3ae2-46da-9ca6-9acbea12d305"}], "name": "SYS_GEN__Composite_DAG_Application_53797f4e_003b_4b35_8ad2_bbee04634c21", "state": "ACTIVE", "attrs": {"edges": [{"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__stop_CRb_Service_347807e6_43d2_40f2_82b7_ebfed05094df", "uuid": "1b430857-ea38-46e3-9d58-b8bc7f43f020"}, "edge_type": "inherent", "type": "", "uuid": "eea7a960-0e01-466c-9d29-8b8fa496761e", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__delete_CRb_Service_347807e6_43d2_40f2_82b7_ebfed05094df", "uuid": "00563478-3b22-4536-b813-7c21123bb8c1"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__delete_CRb_Service_347807e6_43d2_40f2_82b7_ebfed05094df", "uuid": "00563478-3b22-4536-b813-7c21123bb8c1"}, "edge_type": "inherent", "type": "", "uuid": "9b359bf7-f99a-468a-9b32-9189918f49f4", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__uninstall_CRb_Package_7fa63682_71fe_47c9_896b_4e725733ca3f", "uuid": "8c0ddaf1-c6d3-4f5e-90fe-0d4d5f69aae8"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__delete_CRb_Substrate_1ac4dd82_69d6_4a2c_94d0_7cccc4d6c5b2", "uuid": "0c50655c-eead-4fb1-a50b-309a860a20c3"}, "edge_type": "inherent", "type": "", "uuid": "48663863-1143-477a-b9b5-9a1b7787a7a5", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__DE_Delete_045e0d8c_3dd3_41b6_ba21_8108a3b533fe", "uuid": "3e52ac4d-3ae2-46da-9ca6-9acbea12d305"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__uninstall_CRb_Package_7fa63682_71fe_47c9_896b_4e725733ca3f", "uuid": "8c0ddaf1-c6d3-4f5e-90fe-0d4d5f69aae8"}, "edge_type": "inherent", "type": "", "uuid": "dc8fe389-13c7-460e-a7e5-d3883a330ec0", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__delete_CRb_Substrate_1ac4dd82_69d6_4a2c_94d0_7cccc4d6c5b2", "uuid": "0c50655c-eead-4fb1-a50b-309a860a20c3"}}], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "753ff51a-d9ef-4046-8eab-e15cc56c9513"}, {"target_any_local_reference": {"kind": "app_service", "name": "AnsibleController", "uuid": "347807e6-43d2-40f2-82b7-ebfed05094df"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__stop_CRb_Service_347807e6_43d2_40f2_82b7_ebfed05094df", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "53c9da12_deployment", "uuid": "045e0d8c-3dd3-41b6-ba21-8108a3b533fe"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "5fd3ca2f_runbook", "uuid": "2b54c863-fd4a-4e05-b699-8d821eef432b"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "1b430857-ea38-46e3-9d58-b8bc7f43f020"}, {"target_any_local_reference": {"kind": "app_service", "name": "AnsibleController", "uuid": "347807e6-43d2-40f2-82b7-ebfed05094df"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__delete_CRb_Service_347807e6_43d2_40f2_82b7_ebfed05094df", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "53c9da12_deployment", "uuid": "045e0d8c-3dd3-41b6-ba21-8108a3b533fe"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "5a9cb31e_runbook", "uuid": "2b7f3fc6-ebb8-4e92-ac4d-406fc3910644"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "00563478-3b22-4536-b813-7c21123bb8c1"}, {"target_any_local_reference": {"kind": "app_package", "name": "AnsibleControllerPackage", "uuid": "7fa63682-71fe-47c9-896b-4e725733ca3f"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__uninstall_CRb_Package_7fa63682_71fe_47c9_896b_4e725733ca3f", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "53c9da12_deployment", "uuid": "045e0d8c-3dd3-41b6-ba21-8108a3b533fe"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Package_7fa63682_71fe_47c9_896b_4e725733ca3f", "uuid": "dd699849-42d2-4d95-bcbb-395fc1a8096b"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "8c0ddaf1-c6d3-4f5e-90fe-0d4d5f69aae8"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "AnsibleControllerSubstrate", "uuid": "1ac4dd82-69d6-4a2c-94d0-7cccc4d6c5b2"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__delete_CRb_Substrate_1ac4dd82_69d6_4a2c_94d0_7cccc4d6c5b2", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Substrate_1ac4dd82_69d6_4a2c_94d0_7cccc4d6c5b2", "uuid": "f0332f33-ac08-437e-837a-bff5be447260"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "0c50655c-eead-4fb1-a50b-309a860a20c3"}, {"target_any_local_reference": {"kind": "app_blueprint_deployment", "name": "53c9da12_deployment", "uuid": "045e0d8c-3dd3-41b6-ba21-8108a3b533fe"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__DE_Delete_045e0d8c_3dd3_41b6_ba21_8108a3b533fe", "state": "ACTIVE", "attrs": {"type": ""}, "timeout_secs": "", "type": "DELETE_DEPLOYMENT_ELEMENT", "variable_list": [], "uuid": "3e52ac4d-3ae2-46da-9ca6-9acbea12d305"}], "description": "", "name": "SYS_GEN__Runbook_Application_53797f4e_003b_4b35_8ad2_bbee04634c21", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Application_53797f4e_003b_4b35_8ad2_bbee04634c21", "uuid": "753ff51a-d9ef-4046-8eab-e15cc56c9513"}, "message_list": [], "variable_list": [], "uuid": "e416c29e-1450-4df9-859a-a4bf07ff980b"}, "message_list": [], "name": "action_delete"}, {"description": "System action for deleting an application. Does not delete physical machines", "type": "system", "uuid": "a6042acf-e514-4789-a959-830f190ce470", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_profile", "name": "AHV", "uuid": "53797f4e-003b-4b35-8ad2-bbee04634c21"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__soft_delete_CRb_Service_347807e6_43d2_40f2_82b7_ebfed05094df", "uuid": "545de7d1-0be8-4f73-bf2a-868add331cce"}, {"kind": "app_task", "name": "SYS_GEN__Package_Element_Delete_7fa63682_71fe_47c9_896b_4e725733ca3f", "uuid": "008da928-7955-4038-98f3-3efb36fdfaf8"}, {"kind": "app_task", "name": "SYS_GEN__soft_delete_CRb_Substrate_1ac4dd82_69d6_4a2c_94d0_7cccc4d6c5b2", "uuid": "18157244-0924-4f82-86f6-6e3b79062b98"}, {"kind": "app_task", "name": "SYS_GEN__DE_Soft_Delete_045e0d8c_3dd3_41b6_ba21_8108a3b533fe", "uuid": "33c34643-113c-40ee-a8f8-47807b3af0ea"}], "name": "SYS_GEN__Composite_DAG_Application_53797f4e_003b_4b35_8ad2_bbee04634c21", "state": "ACTIVE", "attrs": {"edges": [{"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__soft_delete_CRb_Service_347807e6_43d2_40f2_82b7_ebfed05094df", "uuid": "545de7d1-0be8-4f73-bf2a-868add331cce"}, "edge_type": "inherent", "type": "", "uuid": "e106c8d4-02ca-45e1-8f8d-792b120f3c94", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__Package_Element_Delete_7fa63682_71fe_47c9_896b_4e725733ca3f", "uuid": "008da928-7955-4038-98f3-3efb36fdfaf8"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__soft_delete_CRb_Substrate_1ac4dd82_69d6_4a2c_94d0_7cccc4d6c5b2", "uuid": "18157244-0924-4f82-86f6-6e3b79062b98"}, "edge_type": "inherent", "type": "", "uuid": "f85fa539-9b91-4fc0-a2b2-a7f6ae91c6ca", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__DE_Soft_Delete_045e0d8c_3dd3_41b6_ba21_8108a3b533fe", "uuid": "33c34643-113c-40ee-a8f8-47807b3af0ea"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__Package_Element_Delete_7fa63682_71fe_47c9_896b_4e725733ca3f", "uuid": "008da928-7955-4038-98f3-3efb36fdfaf8"}, "edge_type": "inherent", "type": "", "uuid": "e105059f-bad2-4a4d-a18e-c9e21d66d0d1", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__soft_delete_CRb_Substrate_1ac4dd82_69d6_4a2c_94d0_7cccc4d6c5b2", "uuid": "18157244-0924-4f82-86f6-6e3b79062b98"}}], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "a24b8ac4-ad10-4187-b43b-54a2ff0fb5e7"}, {"target_any_local_reference": {"kind": "app_service", "name": "AnsibleController", "uuid": "347807e6-43d2-40f2-82b7-ebfed05094df"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__soft_delete_CRb_Service_347807e6_43d2_40f2_82b7_ebfed05094df", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "deployment_reference": {"kind": "app_blueprint_deployment", "name": "53c9da12_deployment", "uuid": "045e0d8c-3dd3-41b6-ba21-8108a3b533fe"}, "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Service_347807e6_43d2_40f2_82b7_ebfed05094df", "uuid": "79d4ac51-6d25-40ca-97a6-947fbbd18b02"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "545de7d1-0be8-4f73-bf2a-868add331cce"}, {"target_any_local_reference": {"kind": "app_package", "name": "AnsibleControllerPackage", "uuid": "7fa63682-71fe-47c9-896b-4e725733ca3f"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__Package_Element_Delete_7fa63682_71fe_47c9_896b_4e725733ca3f", "state": "ACTIVE", "attrs": {"type": ""}, "timeout_secs": "", "type": "SOFT_DELETE_ELEMENT", "variable_list": [], "uuid": "008da928-7955-4038-98f3-3efb36fdfaf8"}, {"target_any_local_reference": {"kind": "app_substrate", "name": "AnsibleControllerSubstrate", "uuid": "1ac4dd82-69d6-4a2c-94d0-7cccc4d6c5b2"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__soft_delete_CRb_Substrate_1ac4dd82_69d6_4a2c_94d0_7cccc4d6c5b2", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Substrate_1ac4dd82_69d6_4a2c_94d0_7cccc4d6c5b2", "uuid": "9e0d96bd-9708-43fe-a193-a0f62b229741"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "18157244-0924-4f82-86f6-6e3b79062b98"}, {"target_any_local_reference": {"kind": "app_blueprint_deployment", "name": "53c9da12_deployment", "uuid": "045e0d8c-3dd3-41b6-ba21-8108a3b533fe"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__DE_Soft_Delete_045e0d8c_3dd3_41b6_ba21_8108a3b533fe", "state": "ACTIVE", "attrs": {"type": ""}, "timeout_secs": "", "type": "SOFT_DELETE_DEPLOYMENT_ELEMENT", "variable_list": [], "uuid": "33c34643-113c-40ee-a8f8-47807b3af0ea"}], "description": "", "name": "SYS_GEN__Runbook_Application_53797f4e_003b_4b35_8ad2_bbee04634c21", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Application_53797f4e_003b_4b35_8ad2_bbee04634c21", "uuid": "a24b8ac4-ad10-4187-b43b-54a2ff0fb5e7"}, "message_list": [], "variable_list": [], "uuid": "45faf924-afce-4dc9-afbd-4d041bb11eb8"}, "message_list": [], "name": "action_soft_delete"}, {"description": "", "type": "user", "uuid": "7e6a52af-4beb-1851-3128-cbe9c91ef0c9", "state": "ACTIVE", "critical": false, "attrs": {}, "runbook": {"task_definition_list": [{"description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "AppleApacheConfigurationScript", "uuid": "a6cf058b-63a7-4f0c-3d59-10f99e4d8a7c"}], "name": "8b9b48c2_dag", "state": "NOT_VALIDATED", "attrs": {"edges": [], "type": ""}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "f71b8b44-6771-2b84-25ed-2d92c74982e9"}, {"target_any_local_reference": {"kind": "app_service", "name": "AnsibleController", "uuid": "347807e6-43d2-40f2-82b7-ebfed05094df"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "AppleApacheConfigurationScript", "state": "NOT_VALIDATED", "attrs": {"exit_status": [], "script": "#!/bin/sh\n\nansible-playbook ~/playbooks/apache.yml", "script_type": "sh", "type": "", "command_line_args": "", "login_credential_local_reference": {"kind": "app_credential", "name": "sshkey", "uuid": "1564cca9-4cfb-4814-b6d3-cd73513754ba"}}, "timeout_secs": "", "type": "EXEC", "variable_list": [], "uuid": "a6cf058b-63a7-4f0c-3d59-10f99e4d8a7c"}], "description": "", "name": "07af2e3e_runbook", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "8b9b48c2_dag", "uuid": "f71b8b44-6771-2b84-25ed-2d92c74982e9"}, "message_list": [], "variable_list": [], "uuid": "aaa6c3b6-2738-7139-ad9b-63ffed4c9326"}, "message_list": [], "name": "ApplyApacheConfiguration"}], "name": "AHV", "state": "ACTIVE", "message_list": [], "dependency_list": [], "variable_list": [{"val_type": "STRING", "description": "", "name": "CONTROLLER_HOSTNAME", "type": "LOCAL", "value": "ansiblecontroller", "label": "", "state": "ACTIVE", "attrs": {"type": ""}, "editables": {"value": true}, "message_list": [], "uuid": "5c276a1f-cf93-41db-92c7-120019979aad"}, {"val_type": "STRING", "description": "", "name": "INSTANCE_PUBLIC_KEY", "type": "LOCAL", "value": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQCuY56VkGJVBmKP+kxFgOEJ8wcwTkGZQp+WgILTlQR0m0997ZT5MBd/nSifzFHnuBLHme5WaQDi4EyKniNtDQw/X3/jw39SyTVdpL1zNAjQt9uPSg7VQ365VONCwacEOc7IDtOoHAW8zjc6cKed7tOPLNxmtQu7ZpEa+uw+KA1HH91+8SpF1y5sQHZ/yNjBM8haLev2fqNXOq/QW7UC8W3cOvE9bMtzqM4sz4UZ/7FMl67GQS+skrf36if81u91j640Nnp0nkQ4EdTrOEexzhw596CMY/nY4O/PsAzxf4/7KKfOBD94xtw6THrLE9jCC/N4I1k4JmOJOmFCvXyKGn+BWcOj5YAMx9IVa3PkU3rYlahut3nLgbqPGdC7MGYFI4EAttZx/9pYr8FLfdWDlOkkUxGRcW227Lg0PIWM/OB4OwH6BLxYy4D+K4oIO+j8BauigG74WJcfnRIse7av313zR81fOT4oh1AceTKSmw4iQpLJ73EbcqIAV1Juod/jRyXDZK6m0JETiHNeZR1ieK12i9wrT7tZtehMzi+Ca4D/26Zbt5b2gs09rLguuRSUL8kPCo2wOuEXnP892v0jRhUSnP3WKYBOLFjCVyuhPDVjxAEGnZ0/X45vMm8xNgGRd9WtyMCbgr4ezbxX+WK+3iWpl6xDh7gVUreoNBu896Kpxw== chris@digitalformula.net", "label": "", "state": "ACTIVE", "attrs": {"type": ""}, "editables": {"value": true}, "message_list": [], "uuid": "1f60023a-1b87-499b-a096-b3496a1e7be8"}], "uuid": "53797f4e-003b-4b35-8ad2-bbee04634c21"}], "default_credential_local_reference": {"kind": "app_credential", "name": "sshkey", "uuid": "1564cca9-4cfb-4814-b6d3-cd73513754ba"}, "package_definition_list": [{"description": "", "action_list": [{"description": "System action for installing an application", "type": "system", "uuid": "3098a744-0703-486e-ab2e-a1f701b82959", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "AnsibleControllerPackage", "uuid": "7fa63682-71fe-47c9-896b-4e725733ca3f"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "PE_Install_7fa63682_71fe_47c9_896b_4e725733ca3f", "uuid": "38bdca76-3af6-42d2-a1d7-5c172f9b6dcc"}], "name": "SYS_GEN__DAG_Package_7fa63682_71fe_47c9_896b_4e725733ca3f", "state": "ACTIVE", "attrs": {"edges": [], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "9c65bee2-6a5b-4bf5-b97d-419bb9c9fbff"}, {"target_any_local_reference": {"kind": "app_package", "name": "AnsibleControllerPackage", "uuid": "7fa63682-71fe-47c9-896b-4e725733ca3f"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "PE_Install_7fa63682_71fe_47c9_896b_4e725733ca3f", "state": "ACTIVE", "attrs": {"install_runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "AnsibleControllerPackage", "uuid": "7fa63682-71fe-47c9-896b-4e725733ca3f"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "PackageInstallTask", "uuid": "a15ccb9a-750f-4b98-8434-c638cc812910"}], "name": "0171e193_dag", "state": "NOT_VALIDATED", "attrs": {"edges": [], "type": ""}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "c583d998-1d1a-454e-8eba-f519dfa6c3af"}, {"target_any_local_reference": {"kind": "app_package", "name": "AnsibleControllerPackage", "uuid": "7fa63682-71fe-47c9-896b-4e725733ca3f"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "PackageInstallTask", "state": "NOT_VALIDATED", "attrs": {"exit_status": [], "script": "#!/bin/sh\n\n# perform some setup, first - hostname, package updates\nsudo hostnamectl set-hostname @@{CONTROLLER_HOSTNAME}@@\n\nsudo yum -y update\nsudo yum -y upgrade\n\n# install some useful packages\nsudo yum -y install net-tools bind-utils bash-completion\nsudo yum -y remove firewalld\n\nsudo yum -y install epel-release\nsudo yum -y install git\n\n# install Ansible\nsudo yum -y install ansible\n\necho \"# section added by Nutanix Calm\n[webservers]\" | sudo tee -a /etc/ansible/hosts\n\necho \"@@{INSTANCE_PUBLIC_KEY}@@\" | sudo tee /home/@@{sshkey.username}@@/.ssh/id_rsa.pub\necho \"@@{sshkey.secret}@@\" | sudo tee /home/@@{sshkey.username}@@/.ssh/id_rsa\nsudo chown @@{sshkey.username}@@: /home/@@{sshkey.username}@@/.ssh/id_rsa.pub\nsudo chown @@{sshkey.username}@@: /home/@@{sshkey.username}@@/.ssh/id_rsa\nsudo chmod 400 /home/@@{sshkey.username}@@/.ssh/id_rsa.pub\nsudo chmod 400 /home/@@{sshkey.username}@@/.ssh/id_rsa\n\n# disable host key checking since this is just a demo environment\n# don't do this in production!\nsudo sed -i -- 's/#host_key_checking = False/host_key_checking = False/' /etc/ansible/ansible.cfg\n\n# setup the directory structure for Ansible playbooks\nmkdir -p ~/playbooks\n\necho \"---\n- hosts: webservers\n  remote_user: centos\n  tasks:\n  - name: ensure apache is installed and at the latest version\n    yum: name=httpd state=latest\n    notify:\n    - restart apache\n    become: yes\n    become_method: sudo\n  - name: enable and start apache\n    service: name=httpd state=started enabled=yes\n    become: yes\n    become_method: sudo\n  handlers:\n    - name: restart apache\n      service: name=httpd state=restarted\n      become: yes\n      become_method: sudo\" | tee ~/playbooks/apache.yml", "script_type": "sh", "type": "", "command_line_args": "", "login_credential_local_reference": {"kind": "app_credential", "name": "sshkey", "uuid": "1564cca9-4cfb-4814-b6d3-cd73513754ba"}}, "timeout_secs": "", "type": "EXEC", "variable_list": [], "uuid": "a15ccb9a-750f-4b98-8434-c638cc812910"}], "description": "", "name": "b229a1db_runbook", "state": "NOT_VALIDATED", "main_task_local_reference": {"kind": "app_task", "name": "0171e193_dag", "uuid": "c583d998-1d1a-454e-8eba-f519dfa6c3af"}, "message_list": [], "variable_list": [], "uuid": "01d8b766-c44c-422c-a430-31859ca31701"}, "type": "", "uninstall_runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "AnsibleControllerPackage", "uuid": "7fa63682-71fe-47c9-896b-4e725733ca3f"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "28b16e90_dag", "state": "NOT_VALIDATED", "attrs": {"edges": [], "type": ""}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "fa435e69-54b7-474a-be23-0fe8a2166507"}], "description": "", "name": "01e2eda2_runbook", "state": "NOT_VALIDATED", "main_task_local_reference": {"kind": "app_task", "name": "28b16e90_dag", "uuid": "fa435e69-54b7-474a-be23-0fe8a2166507"}, "message_list": [], "variable_list": [], "uuid": "f8aec364-6d40-488b-a92c-c96a42014e78"}}, "timeout_secs": "", "type": "CUSTOM_PACKAGE_INSTALL", "variable_list": [], "uuid": "38bdca76-3af6-42d2-a1d7-5c172f9b6dcc"}], "description": "", "name": "SYS_GEN__Runbook_Package_7fa63682_71fe_47c9_896b_4e725733ca3f", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__DAG_Package_7fa63682_71fe_47c9_896b_4e725733ca3f", "uuid": "9c65bee2-6a5b-4bf5-b97d-419bb9c9fbff"}, "message_list": [], "variable_list": [], "uuid": "6af2ed6c-6ae6-4b65-8bf0-50f4eb0a6ad3"}, "message_list": [], "name": "action_install"}, {"description": "System action for creating an application", "type": "system", "uuid": "c5d4bf39-0860-4b1f-a849-ed955fe5c926", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "AnsibleControllerPackage", "uuid": "7fa63682-71fe-47c9-896b-4e725733ca3f"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__install_CRb_Package_7fa63682_71fe_47c9_896b_4e725733ca3f", "uuid": "85e64e0b-1bca-49fa-873c-062001a9150e"}, {"kind": "app_task", "name": "SYS_GEN__create_CRb_Service_347807e6_43d2_40f2_82b7_ebfed05094df", "uuid": "6844624c-03ac-4261-bf63-40e3fb0f7e12"}, {"kind": "app_task", "name": "SYS_GEN__start_CRb_Service_347807e6_43d2_40f2_82b7_ebfed05094df", "uuid": "57ca985a-be6d-436c-b46f-966d2ed99403"}], "name": "SYS_GEN__Composite_DAG_Package_7fa63682_71fe_47c9_896b_4e725733ca3f", "state": "ACTIVE", "attrs": {"edges": [{"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__create_CRb_Service_347807e6_43d2_40f2_82b7_ebfed05094df", "uuid": "6844624c-03ac-4261-bf63-40e3fb0f7e12"}, "edge_type": "inherent", "type": "", "uuid": "f46cae7f-7930-4e21-b598-0130f2e54a49", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__start_CRb_Service_347807e6_43d2_40f2_82b7_ebfed05094df", "uuid": "57ca985a-be6d-436c-b46f-966d2ed99403"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__install_CRb_Package_7fa63682_71fe_47c9_896b_4e725733ca3f", "uuid": "85e64e0b-1bca-49fa-873c-062001a9150e"}, "edge_type": "inherent", "type": "", "uuid": "11f5ebaa-45b4-4901-9665-cc2b257538b6", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__create_CRb_Service_347807e6_43d2_40f2_82b7_ebfed05094df", "uuid": "6844624c-03ac-4261-bf63-40e3fb0f7e12"}}], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "03134300-6230-4adc-acd1-533e47107256"}, {"target_any_local_reference": {"kind": "app_package", "name": "AnsibleControllerPackage", "uuid": "7fa63682-71fe-47c9-896b-4e725733ca3f"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__install_CRb_Package_7fa63682_71fe_47c9_896b_4e725733ca3f", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Package_7fa63682_71fe_47c9_896b_4e725733ca3f", "uuid": "6af2ed6c-6ae6-4b65-8bf0-50f4eb0a6ad3"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "85e64e0b-1bca-49fa-873c-062001a9150e"}, {"target_any_local_reference": {"kind": "app_service", "name": "AnsibleController", "uuid": "347807e6-43d2-40f2-82b7-ebfed05094df"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__create_CRb_Service_347807e6_43d2_40f2_82b7_ebfed05094df", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "70713126_runbook", "uuid": "e02b7325-ce93-4b31-958c-e274515807fc"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "6844624c-03ac-4261-bf63-40e3fb0f7e12"}, {"target_any_local_reference": {"kind": "app_service", "name": "AnsibleController", "uuid": "347807e6-43d2-40f2-82b7-ebfed05094df"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__start_CRb_Service_347807e6_43d2_40f2_82b7_ebfed05094df", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "4ba9ebfe_runbook", "uuid": "7e1852ef-1cbd-42ff-a429-b9e892050030"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "57ca985a-be6d-436c-b46f-966d2ed99403"}], "description": "", "name": "SYS_GEN__Runbook_Package_7fa63682_71fe_47c9_896b_4e725733ca3f", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Package_7fa63682_71fe_47c9_896b_4e725733ca3f", "uuid": "03134300-6230-4adc-acd1-533e47107256"}, "message_list": [], "variable_list": [], "uuid": "1f9b92fe-7121-47ef-a86f-43f859eb062a"}, "message_list": [], "name": "action_create"}, {"description": "System action for uninstalling an application", "type": "system", "uuid": "15d3dead-acb7-450f-bb25-8efbcf1d278e", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "AnsibleControllerPackage", "uuid": "7fa63682-71fe-47c9-896b-4e725733ca3f"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "PE_Uninstall_7fa63682_71fe_47c9_896b_4e725733ca3f", "uuid": "081eee83-81bb-4d87-a38c-7fb08b3030f4"}], "name": "SYS_GEN__DAG_Package_7fa63682_71fe_47c9_896b_4e725733ca3f", "state": "ACTIVE", "attrs": {"edges": [], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "cc21f203-5c24-4c43-a2ae-bf4092f72fcf"}, {"target_any_local_reference": {"kind": "app_package", "name": "AnsibleControllerPackage", "uuid": "7fa63682-71fe-47c9-896b-4e725733ca3f"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "PE_Uninstall_7fa63682_71fe_47c9_896b_4e725733ca3f", "state": "ACTIVE", "attrs": {"install_runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "AnsibleControllerPackage", "uuid": "7fa63682-71fe-47c9-896b-4e725733ca3f"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "PackageInstallTask", "uuid": "a15ccb9a-750f-4b98-8434-c638cc812910"}], "name": "0171e193_dag", "state": "NOT_VALIDATED", "attrs": {"edges": [], "type": ""}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "c583d998-1d1a-454e-8eba-f519dfa6c3af"}, {"target_any_local_reference": {"kind": "app_package", "name": "AnsibleControllerPackage", "uuid": "7fa63682-71fe-47c9-896b-4e725733ca3f"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "PackageInstallTask", "state": "NOT_VALIDATED", "attrs": {"exit_status": [], "script": "#!/bin/sh\n\n# perform some setup, first - hostname, package updates\nsudo hostnamectl set-hostname @@{CONTROLLER_HOSTNAME}@@\n\nsudo yum -y update\nsudo yum -y upgrade\n\n# install some useful packages\nsudo yum -y install net-tools bind-utils bash-completion\nsudo yum -y remove firewalld\n\nsudo yum -y install epel-release\nsudo yum -y install git\n\n# install Ansible\nsudo yum -y install ansible\n\necho \"# section added by Nutanix Calm\n[webservers]\" | sudo tee -a /etc/ansible/hosts\n\necho \"@@{INSTANCE_PUBLIC_KEY}@@\" | sudo tee /home/@@{sshkey.username}@@/.ssh/id_rsa.pub\necho \"@@{sshkey.secret}@@\" | sudo tee /home/@@{sshkey.username}@@/.ssh/id_rsa\nsudo chown @@{sshkey.username}@@: /home/@@{sshkey.username}@@/.ssh/id_rsa.pub\nsudo chown @@{sshkey.username}@@: /home/@@{sshkey.username}@@/.ssh/id_rsa\nsudo chmod 400 /home/@@{sshkey.username}@@/.ssh/id_rsa.pub\nsudo chmod 400 /home/@@{sshkey.username}@@/.ssh/id_rsa\n\n# disable host key checking since this is just a demo environment\n# don't do this in production!\nsudo sed -i -- 's/#host_key_checking = False/host_key_checking = False/' /etc/ansible/ansible.cfg\n\n# setup the directory structure for Ansible playbooks\nmkdir -p ~/playbooks\n\necho \"---\n- hosts: webservers\n  remote_user: centos\n  tasks:\n  - name: ensure apache is installed and at the latest version\n    yum: name=httpd state=latest\n    notify:\n    - restart apache\n    become: yes\n    become_method: sudo\n  - name: enable and start apache\n    service: name=httpd state=started enabled=yes\n    become: yes\n    become_method: sudo\n  handlers:\n    - name: restart apache\n      service: name=httpd state=restarted\n      become: yes\n      become_method: sudo\" | tee ~/playbooks/apache.yml", "script_type": "sh", "type": "", "command_line_args": "", "login_credential_local_reference": {"kind": "app_credential", "name": "sshkey", "uuid": "1564cca9-4cfb-4814-b6d3-cd73513754ba"}}, "timeout_secs": "", "type": "EXEC", "variable_list": [], "uuid": "a15ccb9a-750f-4b98-8434-c638cc812910"}], "description": "", "name": "b229a1db_runbook", "state": "NOT_VALIDATED", "main_task_local_reference": {"kind": "app_task", "name": "0171e193_dag", "uuid": "c583d998-1d1a-454e-8eba-f519dfa6c3af"}, "message_list": [], "variable_list": [], "uuid": "01d8b766-c44c-422c-a430-31859ca31701"}, "type": "", "uninstall_runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "AnsibleControllerPackage", "uuid": "7fa63682-71fe-47c9-896b-4e725733ca3f"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "28b16e90_dag", "state": "NOT_VALIDATED", "attrs": {"edges": [], "type": ""}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "fa435e69-54b7-474a-be23-0fe8a2166507"}], "description": "", "name": "01e2eda2_runbook", "state": "NOT_VALIDATED", "main_task_local_reference": {"kind": "app_task", "name": "28b16e90_dag", "uuid": "fa435e69-54b7-474a-be23-0fe8a2166507"}, "message_list": [], "variable_list": [], "uuid": "f8aec364-6d40-488b-a92c-c96a42014e78"}}, "timeout_secs": "", "type": "CUSTOM_PACKAGE_UNINSTALL", "variable_list": [], "uuid": "081eee83-81bb-4d87-a38c-7fb08b3030f4"}], "description": "", "name": "SYS_GEN__Runbook_Package_7fa63682_71fe_47c9_896b_4e725733ca3f", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__DAG_Package_7fa63682_71fe_47c9_896b_4e725733ca3f", "uuid": "cc21f203-5c24-4c43-a2ae-bf4092f72fcf"}, "message_list": [], "variable_list": [], "uuid": "dd699849-42d2-4d95-bcbb-395fc1a8096b"}, "message_list": [], "name": "action_uninstall"}, {"description": "System action for deleting an application. Deletes physical machines as well", "type": "system", "uuid": "e0c59c9f-fe5c-45a8-8389-eb5ecc606ed2", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "AnsibleControllerPackage", "uuid": "7fa63682-71fe-47c9-896b-4e725733ca3f"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__stop_CRb_Service_347807e6_43d2_40f2_82b7_ebfed05094df", "uuid": "e22f51f5-ae3d-479b-bca8-3e51c1e8fb42"}, {"kind": "app_task", "name": "SYS_GEN__delete_CRb_Service_347807e6_43d2_40f2_82b7_ebfed05094df", "uuid": "0d651c23-02d0-4377-a3b2-436497a3cb17"}, {"kind": "app_task", "name": "SYS_GEN__uninstall_CRb_Package_7fa63682_71fe_47c9_896b_4e725733ca3f", "uuid": "e0c33a13-394f-4ba7-959d-2b2ea970f181"}], "name": "SYS_GEN__Composite_DAG_Package_7fa63682_71fe_47c9_896b_4e725733ca3f", "state": "ACTIVE", "attrs": {"edges": [{"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__stop_CRb_Service_347807e6_43d2_40f2_82b7_ebfed05094df", "uuid": "e22f51f5-ae3d-479b-bca8-3e51c1e8fb42"}, "edge_type": "inherent", "type": "", "uuid": "bea9091c-6f90-48dd-9793-2e513357bb79", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__delete_CRb_Service_347807e6_43d2_40f2_82b7_ebfed05094df", "uuid": "0d651c23-02d0-4377-a3b2-436497a3cb17"}}, {"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__delete_CRb_Service_347807e6_43d2_40f2_82b7_ebfed05094df", "uuid": "0d651c23-02d0-4377-a3b2-436497a3cb17"}, "edge_type": "inherent", "type": "", "uuid": "0dea8198-7c0c-4d47-ab89-b1fa419b1d95", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__uninstall_CRb_Package_7fa63682_71fe_47c9_896b_4e725733ca3f", "uuid": "e0c33a13-394f-4ba7-959d-2b2ea970f181"}}], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "c721482a-2316-490d-9ac7-3e3ad1c3896d"}, {"target_any_local_reference": {"kind": "app_service", "name": "AnsibleController", "uuid": "347807e6-43d2-40f2-82b7-ebfed05094df"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__stop_CRb_Service_347807e6_43d2_40f2_82b7_ebfed05094df", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "5fd3ca2f_runbook", "uuid": "2b54c863-fd4a-4e05-b699-8d821eef432b"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "e22f51f5-ae3d-479b-bca8-3e51c1e8fb42"}, {"target_any_local_reference": {"kind": "app_service", "name": "AnsibleController", "uuid": "347807e6-43d2-40f2-82b7-ebfed05094df"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__delete_CRb_Service_347807e6_43d2_40f2_82b7_ebfed05094df", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "5a9cb31e_runbook", "uuid": "2b7f3fc6-ebb8-4e92-ac4d-406fc3910644"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "0d651c23-02d0-4377-a3b2-436497a3cb17"}, {"target_any_local_reference": {"kind": "app_package", "name": "AnsibleControllerPackage", "uuid": "7fa63682-71fe-47c9-896b-4e725733ca3f"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__uninstall_CRb_Package_7fa63682_71fe_47c9_896b_4e725733ca3f", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Package_7fa63682_71fe_47c9_896b_4e725733ca3f", "uuid": "dd699849-42d2-4d95-bcbb-395fc1a8096b"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "e0c33a13-394f-4ba7-959d-2b2ea970f181"}], "description": "", "name": "SYS_GEN__Runbook_Package_7fa63682_71fe_47c9_896b_4e725733ca3f", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Package_7fa63682_71fe_47c9_896b_4e725733ca3f", "uuid": "c721482a-2316-490d-9ac7-3e3ad1c3896d"}, "message_list": [], "variable_list": [], "uuid": "8e6b61e5-bcc0-4c15-b5c5-7f1049d3c5f6"}, "message_list": [], "name": "action_delete"}, {"description": "System action for deleting an application. Does not delete physical machines", "type": "system", "uuid": "2a0c2211-9bfd-4ab3-9831-386fbd58bf83", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "AnsibleControllerPackage", "uuid": "7fa63682-71fe-47c9-896b-4e725733ca3f"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__soft_delete_CRb_Service_347807e6_43d2_40f2_82b7_ebfed05094df", "uuid": "018fba2c-df22-4abf-a1f4-aa38ec669f1e"}, {"kind": "app_task", "name": "SYS_GEN__Package_Element_Delete_7fa63682_71fe_47c9_896b_4e725733ca3f", "uuid": "79bacc7c-4ca3-4b87-aa3b-d2386bc222e4"}], "name": "SYS_GEN__Composite_DAG_Package_7fa63682_71fe_47c9_896b_4e725733ca3f", "state": "ACTIVE", "attrs": {"edges": [{"from_task_reference": {"kind": "app_task", "name": "SYS_GEN__soft_delete_CRb_Service_347807e6_43d2_40f2_82b7_ebfed05094df", "uuid": "018fba2c-df22-4abf-a1f4-aa38ec669f1e"}, "edge_type": "inherent", "type": "", "uuid": "1ab814af-7feb-4884-bff7-913e9f33f6cf", "to_task_reference": {"kind": "app_task", "name": "SYS_GEN__Package_Element_Delete_7fa63682_71fe_47c9_896b_4e725733ca3f", "uuid": "79bacc7c-4ca3-4b87-aa3b-d2386bc222e4"}}], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "435a7617-f689-43c9-91b3-426477255535"}, {"target_any_local_reference": {"kind": "app_service", "name": "AnsibleController", "uuid": "347807e6-43d2-40f2-82b7-ebfed05094df"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__soft_delete_CRb_Service_347807e6_43d2_40f2_82b7_ebfed05094df", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "SYS_GEN__Runbook_Service_347807e6_43d2_40f2_82b7_ebfed05094df", "uuid": "79d4ac51-6d25-40ca-97a6-947fbbd18b02"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "018fba2c-df22-4abf-a1f4-aa38ec669f1e"}, {"target_any_local_reference": {"kind": "app_package", "name": "AnsibleControllerPackage", "uuid": "7fa63682-71fe-47c9-896b-4e725733ca3f"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__Package_Element_Delete_7fa63682_71fe_47c9_896b_4e725733ca3f", "state": "ACTIVE", "attrs": {"type": ""}, "timeout_secs": "", "type": "SOFT_DELETE_ELEMENT", "variable_list": [], "uuid": "79bacc7c-4ca3-4b87-aa3b-d2386bc222e4"}], "description": "", "name": "SYS_GEN__Runbook_Package_7fa63682_71fe_47c9_896b_4e725733ca3f", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Package_7fa63682_71fe_47c9_896b_4e725733ca3f", "uuid": "435a7617-f689-43c9-91b3-426477255535"}, "message_list": [], "variable_list": [], "uuid": "2f5e1a4e-7d30-4a1a-89ef-260bd2df34c9"}, "message_list": [], "name": "action_soft_delete"}, {"description": "System action for starting an application", "type": "system", "uuid": "1d1be015-c528-4c6e-a215-20e0fc1105f5", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "AnsibleControllerPackage", "uuid": "7fa63682-71fe-47c9-896b-4e725733ca3f"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__start_CRb_Service_347807e6_43d2_40f2_82b7_ebfed05094df", "uuid": "496142c7-e365-482b-8a1e-0d925c7357a2"}], "name": "SYS_GEN__Composite_DAG_Package_7fa63682_71fe_47c9_896b_4e725733ca3f", "state": "ACTIVE", "attrs": {"edges": [], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "a48c0ab2-018c-4bd4-91ba-e67fabb5c79a"}, {"target_any_local_reference": {"kind": "app_service", "name": "AnsibleController", "uuid": "347807e6-43d2-40f2-82b7-ebfed05094df"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__start_CRb_Service_347807e6_43d2_40f2_82b7_ebfed05094df", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "4ba9ebfe_runbook", "uuid": "7e1852ef-1cbd-42ff-a429-b9e892050030"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "496142c7-e365-482b-8a1e-0d925c7357a2"}], "description": "", "name": "SYS_GEN__Runbook_Package_7fa63682_71fe_47c9_896b_4e725733ca3f", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Package_7fa63682_71fe_47c9_896b_4e725733ca3f", "uuid": "a48c0ab2-018c-4bd4-91ba-e67fabb5c79a"}, "message_list": [], "variable_list": [], "uuid": "605b482f-de5d-4a73-ba44-837df939f65b"}, "message_list": [], "name": "action_start"}, {"description": "System action for stopping an application", "type": "system", "uuid": "fe4ac6ca-ab76-4c08-a26d-6b62584cdd37", "state": "ACTIVE", "critical": true, "attrs": {}, "runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "AnsibleControllerPackage", "uuid": "7fa63682-71fe-47c9-896b-4e725733ca3f"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "SYS_GEN__stop_CRb_Service_347807e6_43d2_40f2_82b7_ebfed05094df", "uuid": "139a4502-aac9-49bd-9d27-c34d02bcf09b"}], "name": "SYS_GEN__Composite_DAG_Package_7fa63682_71fe_47c9_896b_4e725733ca3f", "state": "ACTIVE", "attrs": {"edges": [], "type": "DAG"}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "4b7349a5-c534-42d6-b9e3-4f4510f77a58"}, {"target_any_local_reference": {"kind": "app_service", "name": "AnsibleController", "uuid": "347807e6-43d2-40f2-82b7-ebfed05094df"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "SYS_GEN__stop_CRb_Service_347807e6_43d2_40f2_82b7_ebfed05094df", "state": "ACTIVE", "attrs": {"type": "CALL_RUNBOOK", "inarg_list": [], "runbook_reference": {"kind": "app_runbook", "name": "5fd3ca2f_runbook", "uuid": "2b54c863-fd4a-4e05-b699-8d821eef432b"}}, "timeout_secs": "", "type": "CALL_RUNBOOK", "variable_list": [], "uuid": "139a4502-aac9-49bd-9d27-c34d02bcf09b"}], "description": "", "name": "SYS_GEN__Runbook_Package_7fa63682_71fe_47c9_896b_4e725733ca3f", "state": "ACTIVE", "main_task_local_reference": {"kind": "app_task", "name": "SYS_GEN__Composite_DAG_Package_7fa63682_71fe_47c9_896b_4e725733ca3f", "uuid": "4b7349a5-c534-42d6-b9e3-4f4510f77a58"}, "message_list": [], "variable_list": [], "uuid": "2a8e94e4-c127-45ee-90fa-d661b9679e3a"}, "message_list": [], "name": "action_stop"}], "type": "DEB", "service_local_reference_list": [{"kind": "app_service", "name": "AnsibleController", "uuid": "347807e6-43d2-40f2-82b7-ebfed05094df"}], "name": "AnsibleControllerPackage", "state": "ACTIVE", "version": "", "editables": {}, "message_list": [], "options": {"install_runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "AnsibleControllerPackage", "uuid": "7fa63682-71fe-47c9-896b-4e725733ca3f"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [{"kind": "app_task", "name": "PackageInstallTask", "uuid": "a15ccb9a-750f-4b98-8434-c638cc812910"}], "name": "0171e193_dag", "state": "NOT_VALIDATED", "attrs": {"edges": [], "type": ""}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "c583d998-1d1a-454e-8eba-f519dfa6c3af"}, {"target_any_local_reference": {"kind": "app_package", "name": "AnsibleControllerPackage", "uuid": "7fa63682-71fe-47c9-896b-4e725733ca3f"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "PackageInstallTask", "state": "NOT_VALIDATED", "attrs": {"exit_status": [], "script": "#!/bin/sh\n\n# perform some setup, first - hostname, package updates\nsudo hostnamectl set-hostname @@{CONTROLLER_HOSTNAME}@@\n\nsudo yum -y update\nsudo yum -y upgrade\n\n# install some useful packages\nsudo yum -y install net-tools bind-utils bash-completion\nsudo yum -y remove firewalld\n\nsudo yum -y install epel-release\nsudo yum -y install git\n\n# install Ansible\nsudo yum -y install ansible\n\necho \"# section added by Nutanix Calm\n[webservers]\" | sudo tee -a /etc/ansible/hosts\n\necho \"@@{INSTANCE_PUBLIC_KEY}@@\" | sudo tee /home/@@{sshkey.username}@@/.ssh/id_rsa.pub\necho \"@@{sshkey.secret}@@\" | sudo tee /home/@@{sshkey.username}@@/.ssh/id_rsa\nsudo chown @@{sshkey.username}@@: /home/@@{sshkey.username}@@/.ssh/id_rsa.pub\nsudo chown @@{sshkey.username}@@: /home/@@{sshkey.username}@@/.ssh/id_rsa\nsudo chmod 400 /home/@@{sshkey.username}@@/.ssh/id_rsa.pub\nsudo chmod 400 /home/@@{sshkey.username}@@/.ssh/id_rsa\n\n# disable host key checking since this is just a demo environment\n# don't do this in production!\nsudo sed -i -- 's/#host_key_checking = False/host_key_checking = False/' /etc/ansible/ansible.cfg\n\n# setup the directory structure for Ansible playbooks\nmkdir -p ~/playbooks\n\necho \"---\n- hosts: webservers\n  remote_user: centos\n  tasks:\n  - name: ensure apache is installed and at the latest version\n    yum: name=httpd state=latest\n    notify:\n    - restart apache\n    become: yes\n    become_method: sudo\n  - name: enable and start apache\n    service: name=httpd state=started enabled=yes\n    become: yes\n    become_method: sudo\n  handlers:\n    - name: restart apache\n      service: name=httpd state=restarted\n      become: yes\n      become_method: sudo\" | tee ~/playbooks/apache.yml", "script_type": "sh", "type": "", "command_line_args": "", "login_credential_local_reference": {"kind": "app_credential", "name": "sshkey", "uuid": "1564cca9-4cfb-4814-b6d3-cd73513754ba"}}, "timeout_secs": "", "type": "EXEC", "variable_list": [], "uuid": "a15ccb9a-750f-4b98-8434-c638cc812910"}], "description": "", "name": "b229a1db_runbook", "state": "NOT_VALIDATED", "main_task_local_reference": {"kind": "app_task", "name": "0171e193_dag", "uuid": "c583d998-1d1a-454e-8eba-f519dfa6c3af"}, "message_list": [], "variable_list": [], "uuid": "01d8b766-c44c-422c-a430-31859ca31701"}, "type": "", "uninstall_runbook": {"task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "AnsibleControllerPackage", "uuid": "7fa63682-71fe-47c9-896b-4e725733ca3f"}, "description": "", "message_list": [], "child_tasks_local_reference_list": [], "name": "28b16e90_dag", "state": "NOT_VALIDATED", "attrs": {"edges": [], "type": ""}, "timeout_secs": "", "type": "DAG", "variable_list": [], "uuid": "fa435e69-54b7-474a-be23-0fe8a2166507"}], "description": "", "name": "01e2eda2_runbook", "state": "NOT_VALIDATED", "main_task_local_reference": {"kind": "app_task", "name": "28b16e90_dag", "uuid": "fa435e69-54b7-474a-be23-0fe8a2166507"}, "message_list": [], "variable_list": [], "uuid": "f8aec364-6d40-488b-a92c-c96a42014e78"}}, "variable_list": [], "uuid": "7fa63682-71fe-47c9-896b-4e725733ca3f"}]}, "name": "DevOps-Ansible-Controller"}, "spec": {"description": "", "resources": {"service_definition_list": [{"singleton": false, "name": "AnsibleController", "action_list": [{"critical": false, "type": "system", "description": "System action for creating an application", "name": "action_create", "runbook": {"variable_list": [], "task_definition_list": [{"target_any_local_reference": {"kind": "app_service", "name": "AnsibleController"}, "description": "", "child_tasks_local_reference_list": [], "attrs": {"edges": [], "type": ""}, "timeout_secs": "", "type": "DAG", "variable_list": [], "name": "06f8f901_dag"}], "description": "", "main_task_local_reference": {"kind": "app_task", "name": "06f8f901_dag"}, "name": "70713126_runbook"}}, {"critical": false, "type": "system", "description": "System action for deleting an application. Deletes physical machines as well", "name": "action_delete", "runbook": {"variable_list": [], "task_definition_list": [{"target_any_local_reference": {"kind": "app_service", "name": "AnsibleController"}, "description": "", "child_tasks_local_reference_list": [], "attrs": {"edges": [], "type": ""}, "timeout_secs": "", "type": "DAG", "variable_list": [], "name": "4913f3de_dag"}], "description": "", "main_task_local_reference": {"kind": "app_task", "name": "4913f3de_dag"}, "name": "5a9cb31e_runbook"}}, {"critical": false, "type": "system", "description": "System action for starting an application", "name": "action_start", "runbook": {"variable_list": [], "task_definition_list": [{"target_any_local_reference": {"kind": "app_service", "name": "AnsibleController"}, "description": "", "child_tasks_local_reference_list": [], "attrs": {"edges": [], "type": ""}, "timeout_secs": "", "type": "DAG", "variable_list": [], "name": "b0493944_dag"}], "description": "", "main_task_local_reference": {"kind": "app_task", "name": "b0493944_dag"}, "name": "4ba9ebfe_runbook"}}, {"critical": false, "type": "system", "description": "System action for stopping an application", "name": "action_stop", "runbook": {"variable_list": [], "task_definition_list": [{"target_any_local_reference": {"kind": "app_service", "name": "AnsibleController"}, "description": "", "child_tasks_local_reference_list": [], "attrs": {"edges": [], "type": ""}, "timeout_secs": "", "type": "DAG", "variable_list": [], "name": "7b651959_dag"}], "description": "", "main_task_local_reference": {"kind": "app_task", "name": "7b651959_dag"}, "name": "5fd3ca2f_runbook"}}, {"critical": false, "type": "system", "description": "System action for restarting an application", "name": "action_restart", "runbook": {"variable_list": [], "task_definition_list": [{"target_any_local_reference": {"kind": "app_service", "name": "AnsibleController"}, "description": "", "child_tasks_local_reference_list": [], "attrs": {"edges": [], "type": ""}, "timeout_secs": "", "type": "DAG", "variable_list": [], "name": "f67a6149_dag"}], "description": "", "main_task_local_reference": {"kind": "app_task", "name": "f67a6149_dag"}, "name": "34c4aea1_runbook"}}], "description": "", "port_list": [], "tier": "", "variable_list": [], "depends_on_list": []}], "substrate_definition_list": [{"description": "", "action_list": [], "readiness_probe": {"connection_type": "SSH", "disable_readiness_probe": false, "timeout_secs": "60", "address": "@@{platform.status.resources.nic_list[0].ip_endpoint_list[0].ip}@@", "connection_port": 22, "login_credential_local_reference": {"kind": "app_credential", "name": "sshkey"}}, "os_type": "Linux", "type": "AHV_VM", "create_spec": {"backup_policy": null, "type": "", "name": "DevOpsAnsibleControllerVM-@@{calm_array_index}@@", "resources": {"nic_list": [{"nic_type": "NORMAL_NIC", "ip_endpoint_list": [], "network_function_chain_reference": null, "network_function_nic_type": "INGRESS", "mac_address": "", "subnet_reference": {"kind": "subnet", "type": "", "name": "", "uuid": "5cbccfaa-9277-4d7c-9d78-36f48f8982d0"}, "type": ""}], "parent_reference": null, "guest_tools": null, "num_vcpus_per_socket": 1, "num_sockets": 2, "gpu_list": [], "memory_size_mib": 4096, "power_state": "ON", "hardware_clock_timezone": "", "guest_customization": {"cloud_init": {"meta_data": "", "type": "", "user_data": "#cloud-config\nusers:\n  - name: centos\n    ssh-authorized-keys:\n      - @@{INSTANCE_PUBLIC_KEY}@@\n    sudo: ['ALL=(ALL) NOPASSWD:ALL']"}, "type": "", "sysprep": null}, "type": "", "boot_config": {"boot_device": {"type": "", "disk_address": {"adapter_type": "SCSI", "device_index": 0, "type": ""}}, "type": "", "mac_address": ""}, "disk_list": [{"data_source_reference": {"kind": "image", "type": "", "name": "CloudInitBaseUpdated", "uuid": "0bf7741b-4363-499a-a060-5c2167865a1a"}, "type": "", "disk_size_mib": 0, "device_properties": {"type": "", "device_type": "DISK", "disk_address": {"adapter_type": "SCSI", "device_index": 0, "type": ""}}}]}, "availability_zone_reference": null}, "variable_list": [], "name": "AnsibleControllerSubstrate"}], "credential_definition_list": [{"username": "centos", "description": "", "secret": {"attrs": {"is_secret_modified": false, "secret_reference": {}}}, "editables": {"secret": true}, "type": "KEY", "name": "sshkey"}], "package_definition_list": [{"description": "", "action_list": [], "service_local_reference_list": [{"kind": "app_service", "name": "AnsibleController"}], "version": "", "type": "DEB", "options": {"install_runbook": {"variable_list": [], "task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "AnsibleControllerPackage"}, "description": "", "child_tasks_local_reference_list": [{"kind": "app_task", "name": "PackageInstallTask"}], "attrs": {"edges": [], "type": ""}, "timeout_secs": "", "type": "DAG", "variable_list": [], "name": "0171e193_dag"}, {"target_any_local_reference": {"kind": "app_package", "name": "AnsibleControllerPackage"}, "description": "", "child_tasks_local_reference_list": [], "attrs": {"exit_status": [], "script": "#!/bin/sh\n\n# perform some setup, first - hostname, package updates\nsudo hostnamectl set-hostname @@{CONTROLLER_HOSTNAME}@@\n\nsudo yum -y update\nsudo yum -y upgrade\n\n# install some useful packages\nsudo yum -y install net-tools bind-utils bash-completion\nsudo yum -y remove firewalld\n\nsudo yum -y install epel-release\nsudo yum -y install git\n\n# install Ansible\nsudo yum -y install ansible\n\necho \"# section added by Nutanix Calm\n[webservers]\" | sudo tee -a /etc/ansible/hosts\n\necho \"@@{INSTANCE_PUBLIC_KEY}@@\" | sudo tee /home/@@{sshkey.username}@@/.ssh/id_rsa.pub\necho \"@@{sshkey.secret}@@\" | sudo tee /home/@@{sshkey.username}@@/.ssh/id_rsa\nsudo chown @@{sshkey.username}@@: /home/@@{sshkey.username}@@/.ssh/id_rsa.pub\nsudo chown @@{sshkey.username}@@: /home/@@{sshkey.username}@@/.ssh/id_rsa\nsudo chmod 400 /home/@@{sshkey.username}@@/.ssh/id_rsa.pub\nsudo chmod 400 /home/@@{sshkey.username}@@/.ssh/id_rsa\n\n# disable host key checking since this is just a demo environment\n# don't do this in production!\nsudo sed -i -- 's/#host_key_checking = False/host_key_checking = False/' /etc/ansible/ansible.cfg\n\n# setup the directory structure for Ansible playbooks\nmkdir -p ~/playbooks\n\necho \"---\n- hosts: webservers\n  remote_user: centos\n  tasks:\n  - name: ensure apache is installed and at the latest version\n    yum: name=httpd state=latest\n    notify:\n    - restart apache\n    become: yes\n    become_method: sudo\n  - name: enable and start apache\n    service: name=httpd state=started enabled=yes\n    become: yes\n    become_method: sudo\n  handlers:\n    - name: restart apache\n      service: name=httpd state=restarted\n      become: yes\n      become_method: sudo\" | tee ~/playbooks/apache.yml", "script_type": "sh", "type": "", "command_line_args": "", "login_credential_local_reference": {"kind": "app_credential", "name": "sshkey"}}, "timeout_secs": "", "type": "EXEC", "variable_list": [], "name": "PackageInstallTask"}], "description": "", "main_task_local_reference": {"kind": "app_task", "name": "0171e193_dag"}, "name": "b229a1db_runbook"}, "type": "", "uninstall_runbook": {"variable_list": [], "task_definition_list": [{"target_any_local_reference": {"kind": "app_package", "name": "AnsibleControllerPackage"}, "description": "", "child_tasks_local_reference_list": [], "attrs": {"edges": [], "type": ""}, "timeout_secs": "", "type": "DAG", "variable_list": [], "name": "28b16e90_dag"}], "description": "", "main_task_local_reference": {"kind": "app_task", "name": "28b16e90_dag"}, "name": "01e2eda2_runbook"}}, "variable_list": [], "name": "AnsibleControllerPackage"}], "app_profile_list": [{"deployment_create_list": [{"description": "", "action_list": [], "package_local_reference_list": [{"kind": "app_package", "name": "AnsibleControllerPackage"}], "max_replicas": "1", "substrate_local_reference": {"kind": "app_substrate", "name": "AnsibleControllerSubstrate"}, "min_replicas": "1", "variable_list": [], "name": "53c9da12_deployment"}], "variable_list": [{"val_type": "STRING", "description": "", "value": "ansiblecontroller", "label": "", "attrs": {"type": ""}, "editables": {"value": true}, "type": "LOCAL", "name": "CONTROLLER_HOSTNAME"}, {"val_type": "STRING", "description": "", "value": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQCuY56VkGJVBmKP+kxFgOEJ8wcwTkGZQp+WgILTlQR0m0997ZT5MBd/nSifzFHnuBLHme5WaQDi4EyKniNtDQw/X3/jw39SyTVdpL1zNAjQt9uPSg7VQ365VONCwacEOc7IDtOoHAW8zjc6cKed7tOPLNxmtQu7ZpEa+uw+KA1HH91+8SpF1y5sQHZ/yNjBM8haLev2fqNXOq/QW7UC8W3cOvE9bMtzqM4sz4UZ/7FMl67GQS+skrf36if81u91j640Nnp0nkQ4EdTrOEexzhw596CMY/nY4O/PsAzxf4/7KKfOBD94xtw6THrLE9jCC/N4I1k4JmOJOmFCvXyKGn+BWcOj5YAMx9IVa3PkU3rYlahut3nLgbqPGdC7MGYFI4EAttZx/9pYr8FLfdWDlOkkUxGRcW227Lg0PIWM/OB4OwH6BLxYy4D+K4oIO+j8BauigG74WJcfnRIse7av313zR81fOT4oh1AceTKSmw4iQpLJ73EbcqIAV1Juod/jRyXDZK6m0JETiHNeZR1ieK12i9wrT7tZtehMzi+Ca4D/26Zbt5b2gs09rLguuRSUL8kPCo2wOuEXnP892v0jRhUSnP3WKYBOLFjCVyuhPDVjxAEGnZ0/X45vMm8xNgGRd9WtyMCbgr4ezbxX+WK+3iWpl6xDh7gVUreoNBu896Kpxw== chris@digitalformula.net", "label": "", "attrs": {"type": ""}, "editables": {"value": true}, "type": "LOCAL", "name": "INSTANCE_PUBLIC_KEY"}], "description": "", "action_list": [{"critical": false, "type": "user", "description": "", "name": "ApplyApacheConfiguration", "runbook": {"variable_list": [], "task_definition_list": [{"description": "", "child_tasks_local_reference_list": [{"kind": "app_task", "name": "AppleApacheConfigurationScript"}], "attrs": {"edges": [], "type": ""}, "timeout_secs": "", "type": "DAG", "variable_list": [], "name": "8b9b48c2_dag"}, {"target_any_local_reference": {"kind": "app_service", "name": "AnsibleController"}, "description": "", "child_tasks_local_reference_list": [], "attrs": {"exit_status": [], "script": "#!/bin/sh\n\nansible-playbook ~/playbooks/apache.yml", "script_type": "sh", "type": "", "command_line_args": "", "login_credential_local_reference": {"kind": "app_credential", "name": "sshkey"}}, "timeout_secs": "", "type": "EXEC", "variable_list": [], "name": "AppleApacheConfigurationScript"}], "description": "", "main_task_local_reference": {"kind": "app_task", "name": "8b9b48c2_dag"}, "name": "07af2e3e_runbook"}}], "name": "AHV"}], "default_credential_local_reference": {"kind": "app_credential", "name": "sshkey"}, "client_attrs": {"AnsibleController": {"y": 380, "x": 620}}}, "name": "DevOps-Ansible-Controller"}, "api_version": "3.0", "metadata": {"last_update_time": "1519098057462909", "creation_time": "1519080539086425", "kind": "blueprint", "spec_version": 15, "name": "DevOps-Ansible-Controller"}}